var st=Object.defineProperty,nt=Object.defineProperties;var at=Object.getOwnPropertyDescriptors;var ge=Object.getOwnPropertySymbols;var it=Object.prototype.hasOwnProperty,rt=Object.prototype.propertyIsEnumerable;var ke=(s,e,t)=>e in s?st(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,fe=(s,e)=>{for(var t in e||(e={}))it.call(e,t)&&ke(s,t,e[t]);if(ge)for(var t of ge(e))rt.call(e,t)&&ke(s,t,e[t]);return s},ve=(s,e)=>nt(s,at(e));import{S as ue,i as de,s as ce,e as w,k as P,c as E,a as C,d as D,m as B,b as I,f as p,L as G,g as j,J as y,M as N,N as ot,l as Y,q as U,w as se,x as ne,y as ae,o as H,B as ie,n as L,p as J,O as Z,P as M,Q as De,R as A,t as R,h as S,j as $,K as re,T as he,U as ft,V as ut,W as x,X as F,Y as dt}from"../chunks/vendor-24794758.js";function pe(){const s=new Date;let e=s.getDate(),t=s.getMonth()+1;return e<10&&(e="0"+e),t<10&&(t="0"+t),`${t}/${e}`}function be(){const s=new Date,e=new Date(s);e.setDate(e.getDate()+1);let t=e.getDate(),l=e.getMonth()+1;return t<10&&(t="0"+t),l<10&&(l="0"+l),`${l}/${t}`}function ye(s,e,t){const l=s.slice();return l[43]=e[t],l[45]=t,l}function Te(s){let e,t,l,n,a,i,f,h,_,r;function m(d,c){return d[2]?ct:ht}let o=m(s),u=o(s),T=s[4]&&je(s),v=s[0].children,g=[];for(let d=0;d<v.length;d+=1)g[d]=ze(ye(s,v,d));const k=d=>H(g[d],1,1,()=>{g[d]=null});return{c(){e=w("div"),t=w("div"),l=w("div"),u.c(),n=P(),a=w("div"),T&&T.c(),i=P(),f=w("div");for(let d=0;d<g.length;d+=1)g[d].c();this.h()},l(d){e=E(d,"DIV",{draggable:!0,class:!0,style:!0});var c=C(e);t=E(c,"DIV",{class:!0});var b=C(t);l=E(b,"DIV",{class:!0,style:!0});var O=C(l);u.l(O),O.forEach(D),n=B(b),a=E(b,"DIV",{style:!0});var q=C(a);T&&T.l(q),q.forEach(D),b.forEach(D),i=B(c),f=E(c,"DIV",{style:!0});var z=C(f);for(let K=0;K<g.length;K+=1)g[K].l(z);z.forEach(D),c.forEach(D),this.h()},h(){I(l,"class","keep-on-same-line name-of-task svelte-1mgzq9h"),p(l,"font-size",5*.65**s[1]+"rem"),G(l,"scheduled-orange",!s[0].isDone&&s[0].startTime&&s[0].startDate),G(l,"crossed-out",s[0].isDone),p(a,"width",200*.9**s[1]+"px"),p(a,"height","100%"),I(t,"class","current-task-flexbox svelte-1mgzq9h"),p(f,"margin-top",60*.65**s[1]+"px"),I(e,"draggable","true"),I(e,"class","scheduled-task svelte-1mgzq9h"),p(e,"margin-left","20px"),p(e,"margin-bottom","10px"),p(e,"width","100%"),p(e,"height",s[0].duration&&!s[13]&&s[0].duration*90/60>s[0].children.length*60*.7**s[1]&&s[0].duration*90/60>60*.65**s[1]?`${s[0].duration*90/60}px`:"100%"),G(e,"black-duration-line",!s[0].isDone&&!(s[0].startTime&&s[0].startDate)),G(e,"orange-duration-line",!s[0].isDone&&s[0].startTime&&s[0].startDate),G(e,"green-duration-line",s[0].isDone)},m(d,c){j(d,e,c),y(e,t),y(t,l),u.m(l,null),y(t,n),y(t,a),T&&T.m(a,null),y(e,i),y(e,f);for(let b=0;b<g.length;b+=1)g[b].m(f,null);h=!0,_||(r=[N(e,"dragstart",ot(s[38])),N(e,"pointerenter",s[20]),N(e,"pointerleave",s[21])],_=!0)},p(d,c){if(o===(o=m(d))&&u?u.p(d,c):(u.d(1),u=o(d),u&&(u.c(),u.m(l,null))),(!h||c[0]&2)&&p(l,"font-size",5*.65**d[1]+"rem"),c[0]&1&&G(l,"scheduled-orange",!d[0].isDone&&d[0].startTime&&d[0].startDate),c[0]&1&&G(l,"crossed-out",d[0].isDone),d[4]?T?T.p(d,c):(T=je(d),T.c(),T.m(a,null)):T&&(T.d(1),T=null),(!h||c[0]&2)&&p(a,"width",200*.9**d[1]+"px"),c[0]&16387){v=d[0].children;let b;for(b=0;b<v.length;b+=1){const O=ye(d,v,b);g[b]?(g[b].p(O,c),U(g[b],1)):(g[b]=ze(O),g[b].c(),U(g[b],1),g[b].m(f,null))}for(L(),b=v.length;b<g.length;b+=1)k(b);J()}(!h||c[0]&2)&&p(f,"margin-top",60*.65**d[1]+"px"),(!h||c[0]&8195)&&p(e,"height",d[0].duration&&!d[13]&&d[0].duration*90/60>d[0].children.length*60*.7**d[1]&&d[0].duration*90/60>60*.65**d[1]?`${d[0].duration*90/60}px`:"100%"),c[0]&1&&G(e,"black-duration-line",!d[0].isDone&&!(d[0].startTime&&d[0].startDate)),c[0]&1&&G(e,"orange-duration-line",!d[0].isDone&&d[0].startTime&&d[0].startDate),c[0]&1&&G(e,"green-duration-line",d[0].isDone)},i(d){if(!h){for(let c=0;c<v.length;c+=1)U(g[c]);h=!0}},o(d){g=g.filter(Boolean);for(let c=0;c<g.length;c+=1)H(g[c]);h=!1},d(d){d&&D(e),u.d(),T&&T.d(),Z(g,d),_=!1,M(r)}}}function ct(s){let e,t,l;return{c(){e=w("input")},l(n){e=E(n,"INPUT",{})},m(n,a){j(n,e,a),A(e,s[3]),t||(l=[N(e,"input",s[24]),N(e,"keypress",s[18])],t=!0)},p(n,a){a[0]&8&&e.value!==n[3]&&A(e,n[3])},d(n){n&&D(e),t=!1,M(l)}}}function ht(s){let e,t=s[0].name+"",l,n,a,i,f,h,_=s[0].completionCount&&we(s),r=!s[0].isDone&&s[0].startTime&&s[0].startDate&&Ee(s),m=s[0].daysBeforeRepeating&&Ie(s);return{c(){e=w("div"),l=R(t),n=P(),_&&_.c(),a=P(),r&&r.c(),i=P(),m&&m.c()},l(o){e=E(o,"DIV",{});var u=C(e);l=S(u,t),n=B(u),_&&_.l(u),a=B(u),r&&r.l(u),i=B(u),m&&m.l(u),u.forEach(D)},m(o,u){j(o,e,u),y(e,l),y(e,n),_&&_.m(e,null),y(e,a),r&&r.m(e,null),y(e,i),m&&m.m(e,null),f||(h=N(e,"click",s[15]),f=!0)},p(o,u){u[0]&1&&t!==(t=o[0].name+"")&&$(l,t),o[0].completionCount?_?_.p(o,u):(_=we(o),_.c(),_.m(e,a)):_&&(_.d(1),_=null),!o[0].isDone&&o[0].startTime&&o[0].startDate?r?r.p(o,u):(r=Ee(o),r.c(),r.m(e,i)):r&&(r.d(1),r=null),o[0].daysBeforeRepeating?m?m.p(o,u):(m=Ie(o),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},d(o){o&&D(e),_&&_.d(),r&&r.d(),m&&m.d(),f=!1,h()}}}function we(s){let e=s[0].completionCount+"",t;return{c(){t=R(e)},l(l){t=S(l,e)},m(l,n){j(l,t,n)},p(l,n){n[0]&1&&e!==(e=l[0].completionCount+"")&&$(t,e)},d(l){l&&D(t)}}}function Ee(s){let e=s[0].startDate+" "+s[0].startTime+"",t;return{c(){t=R(e)},l(l){t=S(l,e)},m(l,n){j(l,t,n)},p(l,n){n[0]&1&&e!==(e=l[0].startDate+" "+l[0].startTime+"")&&$(t,e)},d(l){l&&D(t)}}}function Ie(s){let e,t=s[0].daysBeforeRepeating+"",l,n;return{c(){e=R("Every "),l=R(t),n=R(" days")},l(a){e=S(a,"Every "),l=S(a,t),n=S(a," days")},m(a,i){j(a,e,i),j(a,l,i),j(a,n,i)},p(a,i){i[0]&1&&t!==(t=a[0].daysBeforeRepeating+"")&&$(l,t)},d(a){a&&D(e),a&&D(l),a&&D(n)}}}function je(s){let e;function t(a,i){if(!(a[5]||a[7]||a[10]||a[12]))return kt;if(a[5])return gt;if(a[7])return mt;if(a[10])return _t;if(a[12])return pt}let l=t(s),n=l&&l(s);return{c(){n&&n.c(),e=Y()},l(a){n&&n.l(a),e=Y()},m(a,i){n&&n.m(a,i),j(a,e,i)},p(a,i){l===(l=t(a))&&n?n.p(a,i):(n&&n.d(1),n=l&&l(a),n&&(n.c(),n.m(e.parentNode,e)))},d(a){n&&n.d(a),a&&D(e)}}}function pt(s){let e,t,l,n,a,i,f,h;return{c(){e=w("div"),t=w("div"),l=R("Delete"),n=P(),a=w("div"),i=R("Cancel"),this.h()},l(_){e=E(_,"DIV",{style:!0});var r=C(e);t=E(r,"DIV",{});var m=C(t);l=S(m,"Delete"),m.forEach(D),n=B(r),a=E(r,"DIV",{});var o=C(a);i=S(o,"Cancel"),o.forEach(D),r.forEach(D),this.h()},h(){p(e,"display","flex"),p(e,"align-items","center"),p(e,"justify-content","space-evenly")},m(_,r){j(_,e,r),y(e,t),y(t,l),y(e,n),y(e,a),y(a,i),f||(h=[N(t,"click",s[23]),N(a,"click",s[33])],f=!0)},p:re,d(_){_&&D(e),f=!1,M(h)}}}function _t(s){let e,t,l,n,a,i;return{c(){e=w("div"),t=R("Repeats every "),l=w("input"),n=R(" days"),this.h()},l(f){e=E(f,"DIV",{style:!0});var h=C(e);t=S(h,"Repeats every "),l=E(h,"INPUT",{style:!0,placeholder:!0}),n=S(h," days"),h.forEach(D),this.h()},h(){p(l,"width","20px"),I(l,"placeholder","0"),p(e,"display","flex")},m(f,h){j(f,e,h),y(e,t),y(e,l),A(l,s[11]),y(e,n),a||(i=[N(l,"input",s[32]),N(l,"keypress",s[19])],a=!0)},p(f,h){h[0]&2048&&l.value!==f[11]&&A(l,f[11])},d(f){f&&D(e),a=!1,M(i)}}}function mt(s){let e,t,l,n,a;return{c(){e=w("input"),t=P(),l=w("input"),this.h()},l(i){e=E(i,"INPUT",{placeholder:!0,style:!0}),t=B(i),l=E(i,"INPUT",{placeholder:!0,style:!0}),this.h()},h(){I(e,"placeholder","03/14"),p(e,"width","40px"),p(e,"margin-left","14px"),I(l,"placeholder","13:00"),p(l,"width","40px")},m(i,f){j(i,e,f),A(e,s[8]),j(i,t,f),j(i,l,f),A(l,s[9]),n||(a=[N(e,"input",s[30]),N(l,"input",s[31]),N(l,"keypress",s[17])],n=!0)},p(i,f){f[0]&256&&e.value!==i[8]&&A(e,i[8]),f[0]&512&&l.value!==i[9]&&A(l,i[9])},d(i){i&&D(e),i&&D(t),i&&D(l),n=!1,M(a)}}}function gt(s){let e,t,l,n;return{c(){e=w("div"),t=w("input"),this.h()},l(a){e=E(a,"DIV",{style:!0});var i=C(e);t=E(i,"INPUT",{placeholder:!0,style:!0}),i.forEach(D),this.h()},h(){I(t,"placeholder","Sub-task A"),p(t,"width","100%"),p(t,"margin-left","5px"),p(e,"display","flex"),p(e,"align-items","center")},m(a,i){j(a,e,i),y(e,t),A(t,s[6]),l||(n=[N(t,"input",s[29]),N(t,"keypress",s[16])],l=!0)},p(a,i){i[0]&64&&t.value!==a[6]&&A(t,a[6])},d(a){a&&D(e),l=!1,M(n)}}}function kt(s){let e,t,l,n,a,i,f,h,_,r,m,o,u,T,v,g;return{c(){e=w("span"),t=R("playlist_add"),l=P(),n=w("span"),a=R("check"),i=P(),f=w("span"),h=R("schedule"),_=P(),r=w("span"),m=R("event_repeat"),o=P(),u=w("span"),T=R("delete"),this.h()},l(k){e=E(k,"SPAN",{class:!0,style:!0});var d=C(e);t=S(d,"playlist_add"),d.forEach(D),l=B(k),n=E(k,"SPAN",{class:!0,style:!0});var c=C(n);a=S(c,"check"),c.forEach(D),i=B(k),f=E(k,"SPAN",{class:!0,style:!0});var b=C(f);h=S(b,"schedule"),b.forEach(D),_=B(k),r=E(k,"SPAN",{class:!0,style:!0});var O=C(r);m=S(O,"event_repeat"),O.forEach(D),o=B(k),u=E(k,"SPAN",{class:!0,style:!0});var q=C(u);T=S(q,"delete"),q.forEach(D),this.h()},h(){I(e,"class","material-icons"),p(e,"margin-left","5px"),p(e,"font-size",2.5*.7**s[1]+"rem"),I(n,"class","material-icons"),p(n,"margin-left","5px"),p(n,"font-size",2.5*.7**s[1]+"rem"),I(f,"class","material-icons"),p(f,"margin-left","5px"),p(f,"font-size",2.5*.7**s[1]+"rem"),I(r,"class","material-icons"),p(r,"margin-left","5px"),p(r,"font-size",2.5*.7**s[1]+"rem"),I(u,"class","material-icons"),p(u,"margin-left","5px"),p(u,"font-size",2.5*.7**s[1]+"rem")},m(k,d){j(k,e,d),y(e,t),j(k,l,d),j(k,n,d),y(n,a),j(k,i,d),j(k,f,d),y(f,h),j(k,_,d),j(k,r,d),y(r,m),j(k,o,d),j(k,u,d),y(u,T),v||(g=[N(e,"click",s[25]),N(n,"click",s[22]),N(f,"click",s[26]),N(r,"click",s[27]),N(u,"click",s[28])],v=!0)},p(k,d){d[0]&2&&p(e,"font-size",2.5*.7**k[1]+"rem"),d[0]&2&&p(n,"font-size",2.5*.7**k[1]+"rem"),d[0]&2&&p(f,"font-size",2.5*.7**k[1]+"rem"),d[0]&2&&p(r,"font-size",2.5*.7**k[1]+"rem"),d[0]&2&&p(u,"font-size",2.5*.7**k[1]+"rem")},d(k){k&&D(e),k&&D(l),k&&D(n),k&&D(i),k&&D(f),k&&D(_),k&&D(r),k&&D(o),k&&D(u),v=!1,M(g)}}}function ze(s){let e,t;function l(...n){return s[34](s[45],...n)}return e=new Ce({props:{taskObject:s[43],depth:s[1]+1}}),e.$on("task-create",l),e.$on("task-done",s[35]),e.$on("task-delete",s[36]),e.$on("task-repeating",s[37]),{c(){se(e.$$.fragment)},l(n){ne(e.$$.fragment,n)},m(n,a){ae(e,n,a),t=!0},p(n,a){s=n;const i={};a[0]&1&&(i.taskObject=s[43]),a[0]&2&&(i.depth=s[1]+1),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){H(e.$$.fragment,n),t=!1},d(n){ie(e,n)}}}function vt(s){let e,t,l=!s[0].isDeleted&&Te(s);return{c(){l&&l.c(),e=Y()},l(n){l&&l.l(n),e=Y()},m(n,a){l&&l.m(n,a),j(n,e,a),t=!0},p(n,a){n[0].isDeleted?l&&(L(),H(l,1,1,()=>{l=null}),J()):l?(l.p(n,a),a[0]&1&&U(l,1)):(l=Te(n),l.c(),U(l,1),l.m(e.parentNode,e))},i(n){t||(U(l),t=!0)},o(n){H(l),t=!1},d(n){l&&l.d(n),n&&D(e)}}}function Dt(s,e){s.dataTransfer.setData("text/plain",e)}function bt(s,e,t){let l,{taskObject:n}=e,{depth:a}=e;const i=De();let f=!1,h="",_=!1,r=!1,m="",o=!1,u="",T="",v=!1,g=0,k=!1;function d(V,le){const _e=fe({},n.children[le]);_e.children=V.detail.updatedChildren;const me=[...n.children];me[le]=_e,ee(me)}function c(){t(2,f=!0),t(3,h=n.name)}function b(V){V.charCode===13&&(m&&K(m),t(6,m=""),t(5,r=!1))}function O(V){V.charCode===13&&(u.length!==5||T.length!==5?(alert("Formats must be exact - date is mm:dd and time is hh:mm, resetting"),t(0,n.startDate="",n),t(0,n.scheduledTime="",n)):(t(0,n.startDate=u,n),t(0,n.startTime=T,n)),i("task-done",{}),t(7,o=!1))}function q(V){if(V.charCode===13){if(!h){alert("Task name can't be empty.");return}t(0,n.name=h,n),i("task-done",{}),t(3,h=""),t(2,f=!1)}}function z(V){V.charCode===13&&(g?t(0,n.daysBeforeRepeating=g,n):(alert("Task is reset and will no longer repeat"),t(0,n.daysBeforeRepeating=0,n)),i("task-done",{}),t(11,g=0),t(10,v=!1))}function K(V){ee([...n.children,{name:V,children:[]}])}function ee(V){i("task-create",{updatedChildren:V})}function oe(){t(4,_=!0)}function X(){t(4,_=!1)}function W(){t(0,n.isDone=!n.isDone,n),n.isRepeating&&(n.isDone?(t(0,n.completionCount=n.completionCount+1||1,n),t(0,n.lastCompletionDate=pe(),n)):(t(0,n.completionCount=n.completionCount-1||0,n),t(0,n.lastCompletionDate="",n))),i("task-done",{})}function te(){t(0,n.isDeleted=!n.isDeleted,n),console.log("taskObject.deleted =",n.isDeleted),i("task-delete",{})}function Xe(){h=this.value,t(3,h)}const Ge=()=>t(5,r=!0),Me=()=>t(7,o=!0),Ye=()=>t(10,v=!0),We=()=>t(12,k=!0);function Fe(){m=this.value,t(6,m)}function Qe(){u=this.value,t(8,u)}function Le(){T=this.value,t(9,T)}function Je(){g=this.value,t(11,g)}const Ze=()=>t(12,k=!1),$e=(V,le)=>d(le,V);function xe(V){he.call(this,s,V)}function et(V){he.call(this,s,V)}function tt(V){he.call(this,s,V)}const lt=V=>Dt(V,n.name);return s.$$set=V=>{"taskObject"in V&&t(0,n=V.taskObject),"depth"in V&&t(1,a=V.depth)},s.$$.update=()=>{s.$$.dirty[0]&1&&t(13,l=n.children.filter(V=>V.duration).length>0)},[n,a,f,h,_,r,m,o,u,T,v,g,k,l,d,c,b,O,q,z,oe,X,W,te,Xe,Ge,Me,Ye,We,Fe,Qe,Le,Je,Ze,$e,xe,et,tt,lt]}class Ce extends ue{constructor(e){super();de(this,e,bt,vt,ce,{taskObject:0,depth:1},null,[-1,-1])}}function Oe(s,e,t){const l=s.slice();return l[16]=e[t],l[18]=t,l}function Ve(s,e,t){const l=s.slice();return l[19]=e[t],l}function Ne(s,e,t){const l=s.slice();return l[16]=e[t],l[18]=t,l}function qe(s){let e,t,l=s[16]+"",n,a,i,f,h;return{c(){e=w("div"),t=w("div"),n=R(l),a=P(),i=w("div"),h=P(),this.h()},l(_){e=E(_,"DIV",{style:!0,class:!0});var r=C(e);t=E(r,"DIV",{class:!0});var m=C(t);n=S(m,l),m.forEach(D),a=B(r),i=E(r,"DIV",{id:!0,class:!0}),C(i).forEach(D),h=B(r),r.forEach(D),this.h()},h(){I(t,"class","time-indicator svelte-1otkjb3"),I(i,"id",f=s[16]),I(i,"class","calendar-time-block svelte-1otkjb3"),p(e,"display","flex"),p(e,"top",90*s[18]+"px"),p(e,"position","absolute"),I(e,"class","svelte-1otkjb3")},m(_,r){j(_,e,r),y(e,t),y(t,n),y(e,a),y(e,i),y(e,h)},p:re,d(_){_&&D(e)}}}function Pe(s){let e,t,l=s[19].name+"",n,a,i,f,h,_,r,m;function o(...v){return s[8](s[19],...v)}function u(...v){return s[9](s[19],...v)}function T(...v){return s[11](s[19],...v)}return{c(){e=w("div"),t=w("div"),n=R(l),a=P(),i=w("div"),f=P(),h=w("div"),_=P(),this.h()},l(v){e=E(v,"DIV",{class:!0,style:!0});var g=C(e);t=E(g,"DIV",{draggable:!0,style:!0,class:!0});var k=C(t);n=S(k,l),k.forEach(D),a=B(g),i=E(g,"DIV",{style:!0,draggable:!0,class:!0});var d=C(i);d.forEach(D),f=B(g),h=E(g,"DIV",{draggable:!0,style:!0,class:!0});var c=C(h);c.forEach(D),_=B(g),g.forEach(D),this.h()},h(){I(t,"draggable","true"),p(t,"width","11vw"),I(t,"class","svelte-1otkjb3"),p(i,"height",s[19].duration*s[2]-20-10+"px"),p(i,"width","11vw"),I(i,"draggable","true"),I(i,"class","svelte-1otkjb3"),I(h,"draggable","true"),p(h,"height","8px"),p(h,"width","11vw"),p(h,"position","absolute"),p(h,"bottom","0"),p(h,"left","-3px"),p(h,"cursor","ns-resize"),I(h,"class","svelte-1otkjb3"),I(e,"class","scheduled-task svelte-1otkjb3"),p(e,"top",s[19].verticalOffset+"px"),p(e,"height",(s[19].duration*s[2]||30)+"px")},m(v,g){j(v,e,g),y(e,t),y(t,n),y(e,a),y(e,i),y(e,f),y(e,h),y(e,_),r||(m=[N(t,"dragstart",o),N(i,"dragstart",u),N(h,"dragstart",s[10]),N(h,"dragend",T)],r=!0)},p(v,g){s=v,g&1&&l!==(l=s[19].name+"")&&$(n,l),g&1&&p(i,"height",s[19].duration*s[2]-20-10+"px"),g&1&&p(e,"top",s[19].verticalOffset+"px"),g&1&&p(e,"height",(s[19].duration*s[2]||30)+"px")},d(v){v&&D(e),r=!1,M(m)}}}function Be(s){let e,t=s[0][s[16]],l=[];for(let n=0;n<t.length;n+=1)l[n]=Pe(Ve(s,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=Y()},l(n){for(let a=0;a<l.length;a+=1)l[a].l(n);e=Y()},m(n,a){for(let i=0;i<l.length;i+=1)l[i].m(n,a);j(n,e,a)},p(n,a){if(a&55){t=n[0][n[16]];let i;for(i=0;i<t.length;i+=1){const f=Ve(n,t,i);l[i]?l[i].p(f,a):(l[i]=Pe(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(n){Z(l,n),n&&D(e)}}}function yt(s){let e,t,l,n,a,i=s[1],f=[];for(let r=0;r<i.length;r+=1)f[r]=qe(Ne(s,i,r));let h=s[1],_=[];for(let r=0;r<h.length;r+=1)_[r]=Be(Oe(s,h,r));return{c(){e=w("div"),t=w("div");for(let r=0;r<f.length;r+=1)f[r].c();l=P();for(let r=0;r<_.length;r+=1)_[r].c();this.h()},l(r){e=E(r,"DIV",{style:!0,class:!0});var m=C(e);t=E(m,"DIV",{id:!0,style:!0,class:!0});var o=C(t);for(let u=0;u<f.length;u+=1)f[u].l(o);l=B(o);for(let u=0;u<_.length;u+=1)_[u].l(o);o.forEach(D),m.forEach(D),this.h()},h(){I(t,"id","calendar-day-container"),p(t,"width","12vw"),p(t,"margin-left","0px"),p(t,"margin-top","10px"),p(t,"position","relative"),p(t,"height","1600px"),I(t,"class","svelte-1otkjb3"),p(e,"height","100vh"),p(e,"overflow-y","scroll"),p(e,"overflow-x","hidden"),I(e,"class","svelte-1otkjb3")},m(r,m){j(r,e,m),y(e,t);for(let o=0;o<f.length;o+=1)f[o].m(t,null);y(t,l);for(let o=0;o<_.length;o+=1)_[o].m(t,null);n||(a=[N(t,"drop",s[12]),N(t,"dragover",Tt)],n=!0)},p(r,[m]){if(m&2){i=r[1];let o;for(o=0;o<i.length;o+=1){const u=Ne(r,i,o);f[o]?f[o].p(u,m):(f[o]=qe(u),f[o].c(),f[o].m(t,l))}for(;o<f.length;o+=1)f[o].d(1);f.length=i.length}if(m&55){h=r[1];let o;for(o=0;o<h.length;o+=1){const u=Oe(r,h,o);_[o]?_[o].p(u,m):(_[o]=Be(u),_[o].c(),_[o].m(t,null))}for(;o<_.length;o+=1)_[o].d(1);_.length=h.length}},i:re,o:re,d(r){r&&D(e),Z(f,r),Z(_,r),n=!1,M(a)}}}function Ue(s,e){s.dataTransfer.setData("text/plain",e)}function Tt(s){s.preventDefault(),s.dataTransfer.dropEffect="move"}function wt({startTime:s}){const e=s.slice(0,2),t=s.slice(3,5);return(Number(e)+Number(t)/60-8)*90}function Et(s,e,t){let{scheduledTasks:l}=e,{getDate:n}=e;const a=De(),i=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00","24:00"];let f={},h=0,_=90/60;function r(){const c={};for(const b of i){c[b]=[];for(const O of l)O.startTime.slice(0,2)===b.slice(0,2)&&c[b].push(ve(fe({},O),{verticalOffset:wt(O)}))}t(0,f=c)}function m(c){c.preventDefault();var O=document.getElementById("calendar-day-container").getBoundingClientRect();O.left,O.top;const q=90;let K=c.layerY/q;const ee=K-Math.floor(K),oe=Math.trunc(K);let X=ee*60,W=8+oe;W<10&&(W=`0${W}`),X<10?(X=X.toPrecision(1),X=`0${X}`):X=X.toPrecision(2);const te=`${W}:${X}`;console.log("scheduledTime =",te),a("task-scheduled",{taskName:c.dataTransfer.getData("text/plain"),timeOfDay:te,dateScheduled:n()})}function o(c){h=c.offsetY}function u(c,b){b.duration||(b.duration=10);const O=60/90,q=(c.offsetY-h)*O;a("task-duration-adjusted",{taskName:b.name,duration:Math.max(1,b.duration+q)})}const T=(c,b)=>Ue(b,c.name),v=(c,b)=>Ue(b,c.name),g=c=>o(c),k=(c,b)=>u(b,c),d=c=>m(c);return s.$$set=c=>{"scheduledTasks"in c&&t(6,l=c.scheduledTasks),"getDate"in c&&t(7,n=c.getDate)},s.$$.update=()=>{s.$$.dirty&64&&l&&r()},[f,i,_,m,o,u,l,n,T,v,g,k,d]}class Re extends ue{constructor(e){super();de(this,e,Et,yt,ce,{scheduledTasks:6,getDate:7})}}const It={apiKey:"AIzaSyCOVm0X6UUQQcftXf066z_0hFk497j4dNY",authDomain:"project-y-2a061.firebaseapp.com",projectId:"project-y-2a061",storageBucket:"project-y-2a061.appspot.com",messagingSenderId:"132745397287",appId:"1:132745397287:web:b34052fb4683bc85e73a02",measurementId:"G-EZSLE84PYQ"};ft(It);var Q=ut();function Se(s,e,t){const l=s.slice();return l[17]=e[t],l}function Ke(s){let e,t,l,n,a,i,f,h,_,r,m,o=s[0],u=[];for(let v=0;v<o.length;v+=1)u[v]=Ae(Se(s,o,v));const T=v=>H(u[v],1,1,()=>{u[v]=null});return{c(){for(let v=0;v<u.length;v+=1)u[v].c();e=P(),t=w("div"),l=w("div"),n=P(),a=w("input"),i=P(),f=w("div"),h=R("Create task"),this.h()},l(v){for(let d=0;d<u.length;d+=1)u[d].l(v);e=B(v),t=E(v,"DIV",{style:!0,class:!0});var g=C(t);l=E(g,"DIV",{class:!0,style:!0}),C(l).forEach(D),n=B(g),a=E(g,"INPUT",{placeholder:!0,class:!0}),i=B(g),f=E(g,"DIV",{style:!0,class:!0});var k=C(f);h=S(k,"Create task"),k.forEach(D),g.forEach(D),this.h()},h(){I(l,"class","plus alt svelte-qn541z"),p(l,"margin-left","12px"),I(a,"placeholder","Type task..."),I(a,"class","svelte-qn541z"),p(f,"margin-top","2px"),p(f,"font-size","1.65rem"),I(f,"class","svelte-qn541z"),p(t,"display","flex"),p(t,"align-content","center"),p(t,"justify-items","center"),I(t,"class","svelte-qn541z")},m(v,g){for(let k=0;k<u.length;k+=1)u[k].m(v,g);j(v,e,g),j(v,t,g),y(t,l),y(t,n),y(t,a),A(a,s[3]),y(t,i),y(t,f),y(f,h),_=!0,r||(m=[N(a,"input",s[10]),N(f,"click",s[6])],r=!0)},p(v,g){if(g&385){o=v[0];let k;for(k=0;k<o.length;k+=1){const d=Se(v,o,k);u[k]?(u[k].p(d,g),U(u[k],1)):(u[k]=Ae(d),u[k].c(),U(u[k],1),u[k].m(e.parentNode,e))}for(L(),k=o.length;k<u.length;k+=1)T(k);J()}g&8&&a.value!==v[3]&&A(a,v[3])},i(v){if(!_){for(let g=0;g<o.length;g+=1)U(u[g]);_=!0}},o(v){u=u.filter(Boolean);for(let g=0;g<u.length;g+=1)H(u[g]);_=!1},d(v){Z(u,v),v&&D(e),v&&D(t),r=!1,M(m)}}}function He(s){let e,t,l;function n(...a){return s[9](s[17],...a)}return t=new Ce({props:{taskObject:s[17],depth:1}}),t.$on("task-create",n),t.$on("task-done",s[8]),t.$on("task-delete",s[8]),t.$on("task-repeating",s[8]),{c(){e=w("div"),se(t.$$.fragment),this.h()},l(a){e=E(a,"DIV",{class:!0});var i=C(e);ne(t.$$.fragment,i),i.forEach(D),this.h()},h(){I(e,"class","task-container svelte-qn541z")},m(a,i){j(a,e,i),ae(t,e,null),l=!0},p(a,i){s=a;const f={};i&1&&(f.taskObject=s[17]),t.$set(f)},i(a){l||(U(t.$$.fragment,a),l=!0)},o(a){H(t.$$.fragment,a),l=!1},d(a){a&&D(e),ie(t)}}}function Ae(s){let e,t,l=!s[17].isDeleted&&He(s);return{c(){l&&l.c(),e=Y()},l(n){l&&l.l(n),e=Y()},m(n,a){l&&l.m(n,a),j(n,e,a),t=!0},p(n,a){n[17].isDeleted?l&&(L(),H(l,1,1,()=>{l=null}),J()):l?(l.p(n,a),a&1&&U(l,1)):(l=He(n),l.c(),U(l,1),l.m(e.parentNode,e))},i(n){t||(U(l),t=!0)},o(n){H(l),t=!1},d(n){l&&l.d(n),n&&D(e)}}}function jt(s){let e,t,l,n,a,i,f,h,_,r=s[0].length>0&&Ke(s);return i=new Re({props:{scheduledTasks:s[1],getDate:pe}}),i.$on("task-scheduled",s[11]),i.$on("task-duration-adjusted",s[12]),h=new Re({props:{scheduledTasks:s[2],getDate:be}}),h.$on("task-scheduled",s[13]),h.$on("task-duration-adjusted",s[14]),{c(){e=w("div"),t=w("div"),l=w("div"),r&&r.c(),n=P(),a=w("div"),se(i.$$.fragment),f=P(),se(h.$$.fragment),this.h()},l(m){e=E(m,"DIV",{style:!0,class:!0});var o=C(e);t=E(o,"DIV",{class:!0});var u=C(t);l=E(u,"DIV",{class:!0});var T=C(l);r&&r.l(T),T.forEach(D),u.forEach(D),n=B(o),a=E(o,"DIV",{style:!0,class:!0});var v=C(a);ne(i.$$.fragment,v),f=B(v),ne(h.$$.fragment,v),v.forEach(D),o.forEach(D),this.h()},h(){I(l,"class","todo-list svelte-qn541z"),I(t,"class","fixed-height-container-for-scrolling svelte-qn541z"),p(a,"display","flex"),p(a,"justify-content","space-evenly"),p(a,"width","30vw"),p(a,"border-left","2px dashed grey"),I(a,"class","svelte-qn541z"),p(e,"display","flex"),p(e,"padding-left","10px"),p(e,"padding-top","10px"),I(e,"class","svelte-qn541z")},m(m,o){j(m,e,o),y(e,t),y(t,l),r&&r.m(l,null),y(e,n),y(e,a),ae(i,a,null),y(a,f),ae(h,a,null),_=!0},p(m,[o]){m[0].length>0?r?(r.p(m,o),o&1&&U(r,1)):(r=Ke(m),r.c(),U(r,1),r.m(l,null)):r&&(L(),H(r,1,1,()=>{r=null}),J());const u={};o&2&&(u.scheduledTasks=m[1]),i.$set(u);const T={};o&4&&(T.scheduledTasks=m[2]),h.$set(T)},i(m){_||(U(r),U(i.$$.fragment,m),U(h.$$.fragment,m),_=!0)},o(m){H(r),H(i.$$.fragment,m),H(h.$$.fragment,m),_=!1},d(m){m&&D(e),r&&r.d(),ie(i),ie(h)}}}function zt(s,e,t){let l=[],n=[],a=[],i="";async function f({taskName:c,timeOfDay:b,dateScheduled:O}){function q(z){if(z.name===c)return z.startTime=b,z.startDate=O,!0;for(const K of z.children)if(q(K))return!0;return!1}for(const z of l)if(q(z)){console.log("successfully mutated allTasks, =",l);break}await x(F(Q,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:l}),t(0,l=[...l])}async function h({taskName:c,duration:b}){function O(q){if(q.name===c)return q.duration=b,!0;for(const z of q.children)if(O(z))return!0;return!1}for(const q of l)if(O(q)){console.log("successfully mutated allTasks, =",l);break}await x(F(Q,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:l}),t(0,l=[...l])}async function _(){const c=await dt(F(Q,"users/GxBbopqXHW0qgjKEwU4z"));t(0,l=c.data().allTasks)}_();function r(){i||alert("You have to type something first");const c=[...l,{name:i,children:[]}];x(F(Q,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:c}),t(0,l=[...c])}function m(c,b){const{updatedChildren:O}=c.detail;b.children=[...O],x(F(Q,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:l}),t(0,l=[...l])}function o(){console.log("updateFirestore()"),x(F(Q,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:l}),t(0,l=[...l])}const u=(c,b)=>m(b,c);function T(){i=this.value,t(3,i)}const v=c=>f(c.detail),g=c=>h(c.detail),k=c=>f(c.detail),d=c=>h(c.detail);return s.$$.update=()=>{if(s.$$.dirty&7&&l){let b=function(z){z.startTime!==void 0&&c.push(z);for(const K of z.children)b(K)};const c=[];for(const z of l)b(z);const O=pe();t(1,n=c.filter(z=>z.startDate===O&&!z.isDeleted));const q=be();t(2,a=c.filter(z=>z.startDate===q&&!z.isDeleted)),console.log("scheduledTasks2 =",a);for(const z of n)z.isRepeating&&z.lastCompletionDate!==O&&(z.startDate=O,z.isDone=!1);l.sort((z,K)=>!!z.isDone-!!K.isDone)}},[l,n,a,i,f,h,r,m,o,u,T,v,g,k,d]}class Vt extends ue{constructor(e){super();de(this,e,zt,jt,ce,{})}}export{Vt as default};
