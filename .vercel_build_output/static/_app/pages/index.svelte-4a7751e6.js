var Ge=Object.defineProperty,We=Object.defineProperties;var Ye=Object.getOwnPropertyDescriptors;var me=Object.getOwnPropertySymbols;var Fe=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable;var ge=(s,t,l)=>t in s?Ge(s,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[t]=l,oe=(s,t)=>{for(var l in t||(t={}))Fe.call(t,l)&&ge(s,l,t[l]);if(me)for(var l of me(t))Ae.call(t,l)&&ge(s,l,t[l]);return s},ve=(s,t)=>We(s,Ye(t));import{S as fe,i as ue,s as ce,e as I,t as K,k as P,c as O,a as C,h as M,m as S,d as D,b as V,f as v,L as se,g as N,J as E,M as q,N as Qe,j as L,O as W,q as z,w as ne,x as ae,y as re,o as R,B as ie,n as J,p as Z,P as $,l as F,Q as ke,R as X,K as x,T as de,U as Le,V as Je,W as ee,X as A,Y as Ze}from"../chunks/vendor-010b0951.js";function he(){const s=new Date;let t=s.getDate(),l=s.getMonth()+1;return t<10&&(t="0"+t),l<10&&(l="0"+l),`${l}/${t}`}function De(){const s=new Date,t=new Date(s);t.setDate(t.getDate()+1);let l=t.getDate(),e=t.getMonth()+1;return l<10&&(l="0"+l),e<10&&(e="0"+e),`${e}/${l}`}function be(s,t,l){const e=s.slice();return e[29]=t[l],e[31]=l,e}function ye(s){let t,l,e,n=s[0].name+"",i,a,d,k,g,f,m,o,p,j=s[0].completionCount&&Te(s),u=!s[0].isDone&&s[0].startTime&&s[0].startDate&&we(s),c=s[2]&&Ee(s),w=s[0].children,y=[];for(let r=0;r<w.length;r+=1)y[r]=je(be(s,w,r));const h=r=>R(y[r],1,1,()=>{y[r]=null});return{c(){t=I("div"),l=I("div"),e=I("div"),i=K(n),a=P(),j&&j.c(),d=P(),u&&u.c(),k=P(),c&&c.c(),g=P(),f=I("div");for(let r=0;r<y.length;r+=1)y[r].c();this.h()},l(r){t=O(r,"DIV",{draggable:!0,class:!0,style:!0});var _=C(t);l=O(_,"DIV",{class:!0});var T=C(l);e=O(T,"DIV",{class:!0,style:!0});var b=C(e);i=M(b,n),a=S(b),j&&j.l(b),d=S(b),u&&u.l(b),b.forEach(D),k=S(T),c&&c.l(T),T.forEach(D),g=S(_),f=O(_,"DIV",{style:!0});var B=C(f);for(let G=0;G<y.length;G+=1)y[G].l(B);B.forEach(D),_.forEach(D),this.h()},h(){V(e,"class","keep-on-same-line name-of-task svelte-fvgv77"),v(e,"font-size",5*.65**s[1]+"rem"),se(e,"scheduled-orange",!s[0].isDone&&s[0].startTime&&s[0].startDate),se(e,"crossed-out",s[0].isDone),V(l,"class","current-task-flexbox svelte-fvgv77"),v(f,"margin-top",60*.65**s[1]+"px"),V(t,"draggable","true"),V(t,"class","scheduled-task svelte-fvgv77"),v(t,"margin-left","20px"),v(t,"margin-bottom","10px"),v(t,"width","100%")},m(r,_){N(r,t,_),E(t,l),E(l,e),E(e,i),E(e,a),j&&j.m(e,null),E(e,d),u&&u.m(e,null),E(l,k),c&&c.m(l,null),E(t,g),E(t,f);for(let T=0;T<y.length;T+=1)y[T].m(f,null);m=!0,o||(p=[q(t,"dragstart",Qe(s[25])),q(t,"pointerenter",s[11]),q(t,"pointerleave",s[12])],o=!0)},p(r,_){if((!m||_[0]&1)&&n!==(n=r[0].name+"")&&L(i,n),r[0].completionCount?j?j.p(r,_):(j=Te(r),j.c(),j.m(e,d)):j&&(j.d(1),j=null),!r[0].isDone&&r[0].startTime&&r[0].startDate?u?u.p(r,_):(u=we(r),u.c(),u.m(e,null)):u&&(u.d(1),u=null),(!m||_[0]&2)&&v(e,"font-size",5*.65**r[1]+"rem"),_[0]&1&&se(e,"scheduled-orange",!r[0].isDone&&r[0].startTime&&r[0].startDate),_[0]&1&&se(e,"crossed-out",r[0].isDone),r[2]?c?c.p(r,_):(c=Ee(r),c.c(),c.m(l,null)):c&&(c.d(1),c=null),_[0]&259){w=r[0].children;let T;for(T=0;T<w.length;T+=1){const b=be(r,w,T);y[T]?(y[T].p(b,_),z(y[T],1)):(y[T]=je(b),y[T].c(),z(y[T],1),y[T].m(f,null))}for(J(),T=w.length;T<y.length;T+=1)h(T);Z()}(!m||_[0]&2)&&v(f,"margin-top",60*.65**r[1]+"px")},i(r){if(!m){for(let _=0;_<w.length;_+=1)z(y[_]);m=!0}},o(r){y=y.filter(Boolean);for(let _=0;_<y.length;_+=1)R(y[_]);m=!1},d(r){r&&D(t),j&&j.d(),u&&u.d(),c&&c.d(),$(y,r),o=!1,W(p)}}}function Te(s){let t=s[0].completionCount+"",l;return{c(){l=K(t)},l(e){l=M(e,t)},m(e,n){N(e,l,n)},p(e,n){n[0]&1&&t!==(t=e[0].completionCount+"")&&L(l,t)},d(e){e&&D(l)}}}function we(s){let t=s[0].startDate+" "+s[0].startTime+"",l;return{c(){l=K(t)},l(e){l=M(e,t)},m(e,n){N(e,l,n)},p(e,n){n[0]&1&&t!==(t=e[0].startDate+" "+e[0].startTime+"")&&L(l,t)},d(e){e&&D(l)}}}function Ee(s){let t,l,e,n,i,a=(s[0].isRepeating?"unrepeat":"repeat")+"",d,k,g,f,m,o,p;function j(r,_){return r[3]?$e:xe}let u=j(s),c=u(s);function w(r,_){return r[5]?et:tt}let y=w(s),h=y(s);return{c(){c.c(),t=P(),l=I("span"),e=K("\u2713"),n=P(),i=I("div"),d=K(a),k=P(),h.c(),g=P(),f=I("div"),m=K("Delete"),this.h()},l(r){c.l(r),t=S(r),l=O(r,"SPAN",{style:!0});var _=C(l);e=M(_,"\u2713"),_.forEach(D),n=S(r),i=O(r,"DIV",{style:!0});var T=C(i);d=M(T,a),T.forEach(D),k=S(r),h.l(r),g=S(r),f=O(r,"DIV",{style:!0});var b=C(f);m=M(b,"Delete"),b.forEach(D),this.h()},h(){v(l,"margin-left","10px"),v(i,"margin-left","10px"),v(f,"margin-left","10px")},m(r,_){c.m(r,_),N(r,t,_),N(r,l,_),E(l,e),N(r,n,_),N(r,i,_),E(i,d),N(r,k,_),h.m(r,_),N(r,g,_),N(r,f,_),E(f,m),o||(p=[q(l,"click",s[13]),q(i,"click",s[14]),q(f,"click",s[15])],o=!0)},p(r,_){u===(u=j(r))&&c?c.p(r,_):(c.d(1),c=u(r),c&&(c.c(),c.m(t.parentNode,t))),_[0]&1&&a!==(a=(r[0].isRepeating?"unrepeat":"repeat")+"")&&L(d,a),y===(y=w(r))&&h?h.p(r,_):(h.d(1),h=y(r),h&&(h.c(),h.m(g.parentNode,g)))},d(r){c.d(r),r&&D(t),r&&D(l),r&&D(n),r&&D(i),r&&D(k),h.d(r),r&&D(g),r&&D(f),o=!1,W(p)}}}function $e(s){let t,l,e;return{c(){t=I("input"),this.h()},l(n){t=O(n,"INPUT",{style:!0}),this.h()},h(){v(t,"width","100%"),v(t,"margin-left","5px")},m(n,i){N(n,t,i),X(t,s[4]),l||(e=[q(t,"input",s[17]),q(t,"keypress",s[9])],l=!0)},p(n,i){i[0]&16&&t.value!==n[4]&&X(t,n[4])},d(n){n&&D(t),l=!1,W(e)}}}function xe(s){let t,l,e,n;return{c(){t=I("div"),l=I("div"),this.h()},l(i){t=O(i,"DIV",{style:!0});var a=C(t);l=O(a,"DIV",{class:!0}),C(l).forEach(D),a.forEach(D),this.h()},h(){V(l,"class","plus alt svelte-fvgv77"),v(t,"margin-left","14px"),v(t,"display","flex"),v(t,"align-content","center")},m(i,a){N(i,t,a),E(t,l),e||(n=q(t,"click",s[16]),e=!0)},p:x,d(i){i&&D(t),e=!1,n()}}}function et(s){let t,l,e,n,i;return{c(){t=I("input"),l=P(),e=I("input"),this.h()},l(a){t=O(a,"INPUT",{placeholder:!0,style:!0}),l=S(a),e=O(a,"INPUT",{placeholder:!0,style:!0}),this.h()},h(){V(t,"placeholder","03/14"),v(t,"width","40px"),v(t,"margin-left","14px"),V(e,"placeholder","13:00"),v(e,"width","40px")},m(a,d){N(a,t,d),X(t,s[6]),N(a,l,d),N(a,e,d),X(e,s[7]),n||(i=[q(t,"input",s[19]),q(e,"input",s[20]),q(e,"keypress",s[10])],n=!0)},p(a,d){d[0]&64&&t.value!==a[6]&&X(t,a[6]),d[0]&128&&e.value!==a[7]&&X(e,a[7])},d(a){a&&D(t),a&&D(l),a&&D(e),n=!1,W(i)}}}function tt(s){let t,l,e,n;return{c(){t=I("div"),l=K("Schedule"),this.h()},l(i){t=O(i,"DIV",{style:!0});var a=C(t);l=M(a,"Schedule"),a.forEach(D),this.h()},h(){v(t,"margin-left","14px")},m(i,a){N(i,t,a),E(t,l),e||(n=q(t,"click",s[18]),e=!0)},p:x,d(i){i&&D(t),e=!1,n()}}}function je(s){let t,l;function e(...n){return s[21](s[31],...n)}return t=new Ie({props:{taskObject:s[29],depth:s[1]+1}}),t.$on("task-create",e),t.$on("task-done",s[22]),t.$on("task-delete",s[23]),t.$on("task-repeating",s[24]),{c(){ne(t.$$.fragment)},l(n){ae(t.$$.fragment,n)},m(n,i){re(t,n,i),l=!0},p(n,i){s=n;const a={};i[0]&1&&(a.taskObject=s[29]),i[0]&2&&(a.depth=s[1]+1),t.$set(a)},i(n){l||(z(t.$$.fragment,n),l=!0)},o(n){R(t.$$.fragment,n),l=!1},d(n){ie(t,n)}}}function lt(s){let t,l,e=!s[0].isDeleted&&ye(s);return{c(){e&&e.c(),t=F()},l(n){e&&e.l(n),t=F()},m(n,i){e&&e.m(n,i),N(n,t,i),l=!0},p(n,i){n[0].isDeleted?e&&(J(),R(e,1,1,()=>{e=null}),Z()):e?(e.p(n,i),i[0]&1&&z(e,1)):(e=ye(n),e.c(),z(e,1),e.m(t.parentNode,t))},i(n){l||(z(e),l=!0)},o(n){R(e),l=!1},d(n){e&&e.d(n),n&&D(t)}}}function st(s,t){s.dataTransfer.setData("text/plain",t)}function nt(s,t,l){let{taskObject:e}=t,{depth:n}=t;const i=ke();let a=!1,d=!1,k="",g=!1,f="",m="";function o(U,le){const pe=oe({},e.children[le]);pe.children=U.detail.updatedChildren;const _e=[...e.children];_e[le]=pe,c(_e)}function p(U){U.charCode===13&&(u(k),l(4,k=""),l(3,d=!1))}function j(U){U.charCode===13&&(f.length!==5||m.length!==5?(alert("Formats must be exact - date is mm:dd and time is hh:mm, resetting"),l(0,e.startDate="",e),l(0,e.scheduledTime="",e)):(l(0,e.startDate=f,e),l(0,e.startTime=m,e)),i("task-done",{}))}function u(U){c([...e.children,{name:U,children:[]}])}function c(U){i("task-create",{updatedChildren:U})}function w(){l(2,a=!0)}function y(){l(2,a=!1)}function h(){l(0,e.isDone=!e.isDone,e),e.isRepeating&&(e.isDone?(l(0,e.completionCount=e.completionCount+1||1,e),l(0,e.lastCompletionDate=he(),e)):(l(0,e.completionCount=e.completionCount-1||0,e),l(0,e.lastCompletionDate="",e))),i("task-done",{})}function r(){l(0,e.isRepeating=!e.isRepeating,e),i("task-repeating",{})}function _(){l(0,e.isDeleted=!e.isDeleted,e),console.log("taskObject.deleted =",e.isDeleted),i("task-delete",{})}const T=()=>l(3,d=!0);function b(){k=this.value,l(4,k)}const B=()=>l(5,g=!0);function G(){f=this.value,l(6,f)}function H(){m=this.value,l(7,m)}const Y=(U,le)=>o(le,U);function te(U){de.call(this,s,U)}function Ke(U){de.call(this,s,U)}function Me(U){de.call(this,s,U)}const Xe=U=>st(U,e.name);return s.$$set=U=>{"taskObject"in U&&l(0,e=U.taskObject),"depth"in U&&l(1,n=U.depth)},[e,n,a,d,k,g,f,m,o,p,j,w,y,h,r,_,T,b,B,G,H,Y,te,Ke,Me,Xe]}class Ie extends fe{constructor(t){super();ue(this,t,nt,lt,ce,{taskObject:0,depth:1},null,[-1,-1])}}function Oe(s,t,l){const e=s.slice();return e[16]=t[l],e[18]=l,e}function Ve(s,t,l){const e=s.slice();return e[19]=t[l],e}function Ce(s,t,l){const e=s.slice();return e[16]=t[l],e[18]=l,e}function Ne(s){let t,l,e=s[16]+"",n,i,a,d,k;return{c(){t=I("div"),l=I("div"),n=K(e),i=P(),a=I("div"),k=P(),this.h()},l(g){t=O(g,"DIV",{style:!0,class:!0});var f=C(t);l=O(f,"DIV",{class:!0});var m=C(l);n=M(m,e),m.forEach(D),i=S(f),a=O(f,"DIV",{id:!0,class:!0}),C(a).forEach(D),k=S(f),f.forEach(D),this.h()},h(){V(l,"class","time-indicator svelte-1otkjb3"),V(a,"id",d=s[16]),V(a,"class","calendar-time-block svelte-1otkjb3"),v(t,"display","flex"),v(t,"top",90*s[18]+"px"),v(t,"position","absolute"),V(t,"class","svelte-1otkjb3")},m(g,f){N(g,t,f),E(t,l),E(l,n),E(t,i),E(t,a),E(t,k)},p:x,d(g){g&&D(t)}}}function Ue(s){let t,l,e=s[19].name+"",n,i,a,d,k,g,f,m;function o(...u){return s[8](s[19],...u)}function p(...u){return s[9](s[19],...u)}function j(...u){return s[11](s[19],...u)}return{c(){t=I("div"),l=I("div"),n=K(e),i=P(),a=I("div"),d=P(),k=I("div"),g=P(),this.h()},l(u){t=O(u,"DIV",{class:!0,style:!0});var c=C(t);l=O(c,"DIV",{draggable:!0,style:!0,class:!0});var w=C(l);n=M(w,e),w.forEach(D),i=S(c),a=O(c,"DIV",{style:!0,draggable:!0,class:!0});var y=C(a);y.forEach(D),d=S(c),k=O(c,"DIV",{draggable:!0,style:!0,class:!0});var h=C(k);h.forEach(D),g=S(c),c.forEach(D),this.h()},h(){V(l,"draggable","true"),v(l,"width","11vw"),V(l,"class","svelte-1otkjb3"),v(a,"height",s[19].duration*s[2]-20-10+"px"),v(a,"width","11vw"),V(a,"draggable","true"),V(a,"class","svelte-1otkjb3"),V(k,"draggable","true"),v(k,"height","8px"),v(k,"width","11vw"),v(k,"position","absolute"),v(k,"bottom","0"),v(k,"left","-3px"),v(k,"cursor","ns-resize"),V(k,"class","svelte-1otkjb3"),V(t,"class","scheduled-task svelte-1otkjb3"),v(t,"top",s[19].verticalOffset+"px"),v(t,"height",(s[19].duration*s[2]||30)+"px")},m(u,c){N(u,t,c),E(t,l),E(l,n),E(t,i),E(t,a),E(t,d),E(t,k),E(t,g),f||(m=[q(l,"dragstart",o),q(a,"dragstart",p),q(k,"dragstart",s[10]),q(k,"dragend",j)],f=!0)},p(u,c){s=u,c&1&&e!==(e=s[19].name+"")&&L(n,e),c&1&&v(a,"height",s[19].duration*s[2]-20-10+"px"),c&1&&v(t,"top",s[19].verticalOffset+"px"),c&1&&v(t,"height",(s[19].duration*s[2]||30)+"px")},d(u){u&&D(t),f=!1,W(m)}}}function Pe(s){let t,l=s[0][s[16]],e=[];for(let n=0;n<l.length;n+=1)e[n]=Ue(Ve(s,l,n));return{c(){for(let n=0;n<e.length;n+=1)e[n].c();t=F()},l(n){for(let i=0;i<e.length;i+=1)e[i].l(n);t=F()},m(n,i){for(let a=0;a<e.length;a+=1)e[a].m(n,i);N(n,t,i)},p(n,i){if(i&55){l=n[0][n[16]];let a;for(a=0;a<l.length;a+=1){const d=Ve(n,l,a);e[a]?e[a].p(d,i):(e[a]=Ue(d),e[a].c(),e[a].m(t.parentNode,t))}for(;a<e.length;a+=1)e[a].d(1);e.length=l.length}},d(n){$(e,n),n&&D(t)}}}function at(s){let t,l,e,n,i,a=s[1],d=[];for(let f=0;f<a.length;f+=1)d[f]=Ne(Ce(s,a,f));let k=s[1],g=[];for(let f=0;f<k.length;f+=1)g[f]=Pe(Oe(s,k,f));return{c(){t=I("div"),l=I("div");for(let f=0;f<d.length;f+=1)d[f].c();e=P();for(let f=0;f<g.length;f+=1)g[f].c();this.h()},l(f){t=O(f,"DIV",{style:!0,class:!0});var m=C(t);l=O(m,"DIV",{style:!0,class:!0});var o=C(l);for(let p=0;p<d.length;p+=1)d[p].l(o);e=S(o);for(let p=0;p<g.length;p+=1)g[p].l(o);o.forEach(D),m.forEach(D),this.h()},h(){v(l,"width","12vw"),v(l,"margin-left","0px"),v(l,"margin-top","10px"),v(l,"position","relative"),v(l,"height","1600px"),V(l,"class","svelte-1otkjb3"),v(t,"height","100vh"),v(t,"overflow-y","scroll"),v(t,"overflow-x","hidden"),V(t,"class","svelte-1otkjb3")},m(f,m){N(f,t,m),E(t,l);for(let o=0;o<d.length;o+=1)d[o].m(l,null);E(l,e);for(let o=0;o<g.length;o+=1)g[o].m(l,null);n||(i=[q(l,"drop",s[12]),q(l,"dragover",rt)],n=!0)},p(f,[m]){if(m&2){a=f[1];let o;for(o=0;o<a.length;o+=1){const p=Ce(f,a,o);d[o]?d[o].p(p,m):(d[o]=Ne(p),d[o].c(),d[o].m(l,e))}for(;o<d.length;o+=1)d[o].d(1);d.length=a.length}if(m&55){k=f[1];let o;for(o=0;o<k.length;o+=1){const p=Oe(f,k,o);g[o]?g[o].p(p,m):(g[o]=Pe(p),g[o].c(),g[o].m(l,null))}for(;o<g.length;o+=1)g[o].d(1);g.length=k.length}},i:x,o:x,d(f){f&&D(t),$(d,f),$(g,f),n=!1,W(i)}}}function Se(s,t){s.dataTransfer.setData("text/plain",t)}function rt(s){s.preventDefault(),s.dataTransfer.dropEffect="move"}function it({startTime:s}){const t=s.slice(0,2),l=s.slice(3,5);return(Number(t)+Number(l)/60-8)*90}function ot(s,t,l){let{scheduledTasks:e}=t,{getDate:n}=t;const i=ke(),a=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00","24:00"];let d={},k=0,g=90/60;function f(){const h={};for(const r of a){h[r]=[];for(const _ of e)_.startTime.slice(0,2)===r.slice(0,2)&&h[r].push(ve(oe({},_),{verticalOffset:it(_)}))}l(0,d=h)}function m(h){h.preventDefault();const r=90,_=20;let b=(h.pageY-_)/r;const B=b-Math.floor(b),G=Math.trunc(b);let H=B*60,Y=8+G;Y<10&&(Y=`0${Y}`),H<10?(H=H.toPrecision(1),H=`0${H}`):H=H.toPrecision(2);const te=`${Y}:${H}`;console.log("scheduledTime =",te),i("task-scheduled",{taskName:h.dataTransfer.getData("text/plain"),timeOfDay:te,dateScheduled:n()})}function o(h){k=h.offsetY}function p(h,r){r.duration||(r.duration=10);const _=60/90,T=(h.offsetY-k)*_;i("task-duration-adjusted",{taskName:r.name,duration:Math.max(1,r.duration+T)})}const j=(h,r)=>Se(r,h.name),u=(h,r)=>Se(r,h.name),c=h=>o(h),w=(h,r)=>p(r,h),y=h=>m(h);return s.$$set=h=>{"scheduledTasks"in h&&l(6,e=h.scheduledTasks),"getDate"in h&&l(7,n=h.getDate)},s.$$.update=()=>{s.$$.dirty&64&&e&&f()},[d,a,g,m,o,p,e,n,j,u,c,w,y]}class qe extends fe{constructor(t){super();ue(this,t,ot,at,ce,{scheduledTasks:6,getDate:7})}}const ft={apiKey:"AIzaSyCOVm0X6UUQQcftXf066z_0hFk497j4dNY",authDomain:"project-y-2a061.firebaseapp.com",projectId:"project-y-2a061",storageBucket:"project-y-2a061.appspot.com",messagingSenderId:"132745397287",appId:"1:132745397287:web:b34052fb4683bc85e73a02",measurementId:"G-EZSLE84PYQ"};Le(ft);var Q=Je();function ze(s,t,l){const e=s.slice();return e[17]=t[l],e}function Re(s){let t,l,e,n,i,a,d,k,g,f,m,o=s[0],p=[];for(let u=0;u<o.length;u+=1)p[u]=He(ze(s,o,u));const j=u=>R(p[u],1,1,()=>{p[u]=null});return{c(){for(let u=0;u<p.length;u+=1)p[u].c();t=P(),l=I("div"),e=I("div"),n=P(),i=I("input"),a=P(),d=I("div"),k=K("Create task"),this.h()},l(u){for(let y=0;y<p.length;y+=1)p[y].l(u);t=S(u),l=O(u,"DIV",{style:!0,class:!0});var c=C(l);e=O(c,"DIV",{class:!0,style:!0}),C(e).forEach(D),n=S(c),i=O(c,"INPUT",{placeholder:!0,class:!0}),a=S(c),d=O(c,"DIV",{style:!0,class:!0});var w=C(d);k=M(w,"Create task"),w.forEach(D),c.forEach(D),this.h()},h(){V(e,"class","plus alt svelte-72e1ex"),v(e,"margin-left","12px"),V(i,"placeholder","Type task..."),V(i,"class","svelte-72e1ex"),v(d,"margin-top","2px"),v(d,"font-size","1.65rem"),V(d,"class","svelte-72e1ex"),v(l,"display","flex"),v(l,"align-content","center"),v(l,"justify-items","center"),V(l,"class","svelte-72e1ex")},m(u,c){for(let w=0;w<p.length;w+=1)p[w].m(u,c);N(u,t,c),N(u,l,c),E(l,e),E(l,n),E(l,i),X(i,s[3]),E(l,a),E(l,d),E(d,k),g=!0,f||(m=[q(i,"input",s[10]),q(d,"click",s[6])],f=!0)},p(u,c){if(c&385){o=u[0];let w;for(w=0;w<o.length;w+=1){const y=ze(u,o,w);p[w]?(p[w].p(y,c),z(p[w],1)):(p[w]=He(y),p[w].c(),z(p[w],1),p[w].m(t.parentNode,t))}for(J(),w=o.length;w<p.length;w+=1)j(w);Z()}c&8&&i.value!==u[3]&&X(i,u[3])},i(u){if(!g){for(let c=0;c<o.length;c+=1)z(p[c]);g=!0}},o(u){p=p.filter(Boolean);for(let c=0;c<p.length;c+=1)R(p[c]);g=!1},d(u){$(p,u),u&&D(t),u&&D(l),f=!1,W(m)}}}function Be(s){let t,l,e;function n(...i){return s[9](s[17],...i)}return l=new Ie({props:{taskObject:s[17],depth:1}}),l.$on("task-create",n),l.$on("task-done",s[8]),l.$on("task-delete",s[8]),l.$on("task-repeating",s[8]),{c(){t=I("div"),ne(l.$$.fragment),this.h()},l(i){t=O(i,"DIV",{class:!0});var a=C(t);ae(l.$$.fragment,a),a.forEach(D),this.h()},h(){V(t,"class","task-container svelte-72e1ex")},m(i,a){N(i,t,a),re(l,t,null),e=!0},p(i,a){s=i;const d={};a&1&&(d.taskObject=s[17]),l.$set(d)},i(i){e||(z(l.$$.fragment,i),e=!0)},o(i){R(l.$$.fragment,i),e=!1},d(i){i&&D(t),ie(l)}}}function He(s){let t,l,e=!s[17].isDeleted&&Be(s);return{c(){e&&e.c(),t=F()},l(n){e&&e.l(n),t=F()},m(n,i){e&&e.m(n,i),N(n,t,i),l=!0},p(n,i){n[17].isDeleted?e&&(J(),R(e,1,1,()=>{e=null}),Z()):e?(e.p(n,i),i&1&&z(e,1)):(e=Be(n),e.c(),z(e,1),e.m(t.parentNode,t))},i(n){l||(z(e),l=!0)},o(n){R(e),l=!1},d(n){e&&e.d(n),n&&D(t)}}}function ut(s){let t,l,e,n,i,a,d,k,g,f,m=s[0].length>0&&Re(s);return d=new qe({props:{scheduledTasks:s[1],getDate:he}}),d.$on("task-scheduled",s[11]),d.$on("task-duration-adjusted",s[12]),g=new qe({props:{scheduledTasks:s[2],getDate:De}}),g.$on("task-scheduled",s[13]),g.$on("task-duration-adjusted",s[14]),{c(){t=P(),l=I("div"),e=I("div"),n=I("div"),m&&m.c(),i=P(),a=I("div"),ne(d.$$.fragment),k=P(),ne(g.$$.fragment),this.h()},l(o){t=S(o),l=O(o,"DIV",{style:!0,class:!0});var p=C(l);e=O(p,"DIV",{class:!0});var j=C(e);n=O(j,"DIV",{class:!0});var u=C(n);m&&m.l(u),u.forEach(D),j.forEach(D),i=S(p),a=O(p,"DIV",{style:!0,class:!0});var c=C(a);ae(d.$$.fragment,c),k=S(c),ae(g.$$.fragment,c),c.forEach(D),p.forEach(D),this.h()},h(){V(n,"class","todo-list svelte-72e1ex"),V(e,"class","fixed-height-container-for-scrolling svelte-72e1ex"),v(a,"display","flex"),v(a,"justify-content","space-evenly"),v(a,"width","30vw"),V(a,"class","svelte-72e1ex"),v(l,"display","flex"),v(l,"padding-left","10px"),v(l,"padding-top","10px"),V(l,"class","svelte-72e1ex")},m(o,p){N(o,t,p),N(o,l,p),E(l,e),E(e,n),m&&m.m(n,null),E(l,i),E(l,a),re(d,a,null),E(a,k),re(g,a,null),f=!0},p(o,[p]){o[0].length>0?m?(m.p(o,p),p&1&&z(m,1)):(m=Re(o),m.c(),z(m,1),m.m(n,null)):m&&(J(),R(m,1,1,()=>{m=null}),Z());const j={};p&2&&(j.scheduledTasks=o[1]),d.$set(j);const u={};p&4&&(u.scheduledTasks=o[2]),g.$set(u)},i(o){f||(z(m),z(d.$$.fragment,o),z(g.$$.fragment,o),f=!0)},o(o){R(m),R(d.$$.fragment,o),R(g.$$.fragment,o),f=!1},d(o){o&&D(t),o&&D(l),m&&m.d(),ie(d),ie(g)}}}function ct(s,t,l){let e=[],n=[],i=[],a="";async function d({taskName:h,timeOfDay:r,dateScheduled:_}){function T(b){if(b.name===h)return b.startTime=r,b.startDate=_,!0;for(const B of b.children)if(T(B))return!0;return!1}for(const b of e)if(T(b)){console.log("successfully mutated allTasks, =",e);break}await ee(A(Q,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:e}),l(0,e=[...e])}async function k({taskName:h,duration:r}){function _(T){if(T.name===h)return T.duration=r,!0;for(const b of T.children)if(_(b))return!0;return!1}for(const T of e)if(_(T)){console.log("successfully mutated allTasks, =",e);break}await ee(A(Q,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:e}),l(0,e=[...e])}async function g(){const h=await Ze(A(Q,"users/GxBbopqXHW0qgjKEwU4z"));l(0,e=h.data().allTasks)}g();function f(){const h=[...e,{name:a,children:[]}];ee(A(Q,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:h}),l(0,e=[...h])}function m(h,r){const{updatedChildren:_}=h.detail;r.children=[..._],ee(A(Q,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:e}),l(0,e=[...e])}function o(){console.log("updateFirestore()"),ee(A(Q,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:e}),l(0,e=[...e])}const p=(h,r)=>m(r,h);function j(){a=this.value,l(3,a)}const u=h=>d(h.detail),c=h=>k(h.detail),w=h=>d(h.detail),y=h=>k(h.detail);return s.$$.update=()=>{if(s.$$.dirty&7&&e){let r=function(b){b.startTime!==void 0&&h.push(b);for(const B of b.children)r(B)};const h=[];for(const b of e)r(b);const _=he();l(1,n=h.filter(b=>b.startDate===_&&!b.isDeleted));const T=De();l(2,i=h.filter(b=>b.startDate===T&&!b.isDeleted)),console.log("scheduledTasks2 =",i);for(const b of n)b.isRepeating&&b.lastCompletionDate!==_&&(b.startDate=_,b.isDone=!1);e.sort((b,B)=>!!b.isDone-!!B.isDone)}},[e,n,i,a,d,k,f,m,o,p,j,u,c,w,y]}class pt extends fe{constructor(t){super();ue(this,t,ct,ut,ce,{})}}export{pt as default};
