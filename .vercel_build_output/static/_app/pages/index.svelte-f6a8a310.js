var rt=Object.defineProperty,at=Object.defineProperties;var it=Object.getOwnPropertyDescriptors;var Ce=Object.getOwnPropertySymbols;var ot=Object.prototype.hasOwnProperty,ft=Object.prototype.propertyIsEnumerable;var Re=(n,e,t)=>e in n?rt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ee=(n,e)=>{for(var t in e||(e={}))ot.call(e,t)&&Re(n,t,e[t]);if(Ce)for(var t of Ce(e))ft.call(e,t)&&Re(n,t,e[t]);return n},Be=(n,e)=>at(n,it(e));import{S as ye,i as Te,s as we,e as D,t as G,k as K,c as y,a as I,h as Y,d as _,m as A,b as E,f as d,g as C,J as v,L as Q,M as q,j as te,N as $,l as L,K as x,O as Ie,w as re,x as ae,P as ee,y as ie,Q as dt,q as F,o as W,B as oe,n as fe,p as de,R as ue,T as Oe,v as ut,U as ct,V as ht,W as pt,X as ce,Y as le,Z as _t}from"../chunks/vendor-a8c23782.js";function se(){const n=new Date;let e=n.getDate(),t=n.getMonth()+1;return e<10&&(e="0"+e),t<10&&(t="0"+t),`${t}/${e}`}function je(){let e=new Date().getHours();return e<10&&(e="0"+e),`${e}`}function qe(){const n=new Date,e=new Date(n);e.setDate(e.getDate()+1);let t=e.getDate(),l=e.getMonth()+1;return t<10&&(t="0"+t),l<10&&(l="0"+l),`${l}/${t}`}function Pe(n){let e,t,l,s,a,r,i=n[0].name+"",f,c,o,p,u,T,z,j,g,k,B,m,P,R,h,w,H,b,M,O=!n[0].isDone&&n[0].startTime&&n[0].startDate&&Ue(n),V=n[0].daysBeforeRepeating&&Se(n);function N(X,U){return X[2]?mt:vt}let J=N(n),Z=J(n);return{c(){e=D("div"),t=D("div"),l=D("span"),s=G("close"),a=K(),r=D("div"),f=G(i),c=K(),o=D("div"),O&&O.c(),p=K(),u=D("div"),V&&V.c(),T=K(),z=D("h2"),j=G("Notes"),g=K(),k=D("textarea"),B=K(),m=D("div"),P=G("Save notes"),R=K(),h=D("div"),w=G("Done"),H=K(),Z.c(),this.h()},l(X){e=y(X,"DIV",{class:!0});var U=I(e);t=y(U,"DIV",{style:!0});var he=I(t);l=y(he,"SPAN",{class:!0,style:!0});var pe=I(l);s=Y(pe,"close"),pe.forEach(_),he.forEach(_),a=A(U),r=y(U,"DIV",{class:!0,style:!0});var _e=I(r);f=Y(_e,i),_e.forEach(_),c=A(U),o=y(U,"DIV",{class:!0,style:!0});var me=I(o);O&&O.l(me),me.forEach(_),p=A(U),u=y(U,"DIV",{class:!0,style:!0});var ve=I(u);V&&V.l(ve),ve.forEach(_),T=A(U),z=y(U,"H2",{});var ge=I(z);j=Y(ge,"Notes"),ge.forEach(_),g=A(U),k=y(U,"TEXTAREA",{cols:!0}),I(k).forEach(_),B=A(U),m=y(U,"DIV",{});var ke=I(m);P=Y(ke,"Save notes"),ke.forEach(_),R=A(U),h=y(U,"DIV",{});var be=I(h);w=Y(be,"Done"),be.forEach(_),H=A(U),Z.l(U),U.forEach(_),this.h()},h(){E(l,"class","material-icons"),d(l,"margin-left","auto"),d(l,"margin-right","0"),d(t,"display","flex"),E(r,"class","google-calendar-event-title svelte-1q27ax5"),d(r,"margin-top","10px"),d(r,"margin-left","10px"),E(o,"class","google-calendar-event-time svelte-1q27ax5"),d(o,"margin-top","4px"),d(o,"margin-left","10px"),E(u,"class","google-calendar-event-detail svelte-1q27ax5"),d(u,"margin-top","12px"),d(u,"margin-left","16px"),E(k,"cols","44"),E(e,"class","detailed-card svelte-1q27ax5")},m(X,U){C(X,e,U),v(e,t),v(t,l),v(l,s),v(e,a),v(e,r),v(r,f),v(e,c),v(e,o),O&&O.m(o,null),v(e,p),v(e,u),V&&V.m(u,null),v(e,T),v(e,z),v(z,j),v(e,g),v(e,k),Q(k,n[4]),v(e,B),v(e,m),v(m,P),v(e,R),v(e,h),v(h,w),v(e,H),Z.m(e,null),b||(M=[q(l,"click",n[8]),q(k,"input",n[9]),q(m,"click",n[6]),q(h,"click",n[10])],b=!0)},p(X,U){U&1&&i!==(i=X[0].name+"")&&te(f,i),!X[0].isDone&&X[0].startTime&&X[0].startDate?O?O.p(X,U):(O=Ue(X),O.c(),O.m(o,null)):O&&(O.d(1),O=null),X[0].daysBeforeRepeating?V?V.p(X,U):(V=Se(X),V.c(),V.m(u,null)):V&&(V.d(1),V=null),U&16&&Q(k,X[4]),J===(J=N(X))&&Z?Z.p(X,U):(Z.d(1),Z=J(X),Z&&(Z.c(),Z.m(e,null)))},d(X){X&&_(e),O&&O.d(),V&&V.d(),Z.d(),b=!1,$(M)}}}function Ue(n){let e,t=n[0].startDate+" "+n[0].startTime+"",l;return{c(){e=G("Scheduled for "),l=G(t)},l(s){e=Y(s,"Scheduled for "),l=Y(s,t)},m(s,a){C(s,e,a),C(s,l,a)},p(s,a){a&1&&t!==(t=s[0].startDate+" "+s[0].startTime+"")&&te(l,t)},d(s){s&&_(e),s&&_(l)}}}function Se(n){let e,t=n[0].daysBeforeRepeating+"",l,s,a=(n[0].completionCount||0)+"",r,i;return{c(){e=G("Repeats every "),l=G(t),s=G(" days, completed "),r=G(a),i=G(" times")},l(f){e=Y(f,"Repeats every "),l=Y(f,t),s=Y(f," days, completed "),r=Y(f,a),i=Y(f," times")},m(f,c){C(f,e,c),C(f,l,c),C(f,s,c),C(f,r,c),C(f,i,c)},p(f,c){c&1&&t!==(t=f[0].daysBeforeRepeating+"")&&te(l,t),c&1&&a!==(a=(f[0].completionCount||0)+"")&&te(r,a)},d(f){f&&_(e),f&&_(l),f&&_(s),f&&_(r),f&&_(i)}}}function mt(n){let e,t,l,s,a,r;return{c(){e=D("div"),t=G("Repeats every "),l=D("input"),s=G(" days"),this.h()},l(i){e=y(i,"DIV",{style:!0});var f=I(e);t=Y(f,"Repeats every "),l=y(f,"INPUT",{style:!0,placeholder:!0}),s=Y(f," days"),f.forEach(_),this.h()},h(){d(l,"width","20px"),E(l,"placeholder","0"),d(e,"display","flex")},m(i,f){C(i,e,f),v(e,t),v(e,l),Q(l,n[3]),v(e,s),a||(r=[q(l,"input",n[12]),q(l,"keypress",n[7])],a=!0)},p(i,f){f&8&&l.value!==i[3]&&Q(l,i[3])},d(i){i&&_(e),a=!1,$(r)}}}function vt(n){let e,t,l,s;return{c(){e=D("span"),t=G("Repeat task"),this.h()},l(a){e=y(a,"SPAN",{style:!0});var r=I(e);t=Y(r,"Repeat task"),r.forEach(_),this.h()},h(){d(e,"margin-left","5px")},m(a,r){C(a,e,r),v(e,t),l||(s=q(e,"click",n[11]),l=!0)},p:x,d(a){a&&_(e),l=!1,s()}}}function gt(n){let e,t=n[1]&&Pe(n);return{c(){t&&t.c(),e=L()},l(l){t&&t.l(l),e=L()},m(l,s){t&&t.m(l,s),C(l,e,s)},p(l,[s]){l[1]?t?t.p(l,s):(t=Pe(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:x,o:x,d(l){t&&t.d(l),l&&_(e)}}}function kt(n,e,t){let{taskObject:l}=e,{isOpen:s=!1}=e,a=!1,r=7;const i=Ie();let f=l.notes||"";function c(){t(0,l.notes=f,l),i("task-notes-update")}function o(g){g.charCode===13&&(r?t(0,l.daysBeforeRepeating=r,l):(alert("Task is reset and will no longer repeat"),t(0,l.daysBeforeRepeating=0,l)),i("task-repeat"),t(3,r=0),t(2,a=!1))}const p=()=>i("card-close");function u(){f=this.value,t(4,f)}const T=()=>i("task-done"),z=()=>t(2,a=!0);function j(){r=this.value,t(3,r)}return n.$$set=g=>{"taskObject"in g&&t(0,l=g.taskObject),"isOpen"in g&&t(1,s=g.isOpen)},[l,s,a,r,f,i,c,o,p,u,T,z,j]}class bt extends ye{constructor(e){super();Te(this,e,kt,gt,we,{taskObject:0,isOpen:1})}}function ze(n,e,t){const l=n.slice();return l[43]=e[t],l[45]=t,l}function He(n){let e,t,l,s,a,r,i,f,c,o,p,u,T;function z(h,w){return h[3]?Dt:yt}let j=z(n),g=j(n);a=new bt({props:{isOpen:n[2],taskObject:n[0]}}),a.$on("card-close",n[25]),a.$on("task-done",n[21]),a.$on("task-notes-update",n[26]),a.$on("task-repeat",n[27]);let k=n[5]&&Ke(n),B=n[0].children,m=[];for(let h=0;h<B.length;h+=1)m[h]=Ae(ze(n,B,h));const P=h=>W(m[h],1,1,()=>{m[h]=null});let R=n[5]&&Me(n);return{c(){e=D("div"),t=D("div"),l=D("div"),g.c(),s=K(),re(a.$$.fragment),r=K(),i=D("div"),k&&k.c(),f=K(),c=D("div");for(let h=0;h<m.length;h+=1)m[h].c();o=K(),R&&R.c(),this.h()},l(h){e=y(h,"DIV",{draggable:!0,class:!0,style:!0});var w=I(e);t=y(w,"DIV",{class:!0});var H=I(t);l=y(H,"DIV",{style:!0,class:!0});var b=I(l);g.l(b),b.forEach(_),s=A(H),ae(a.$$.fragment,H),r=A(H),i=y(H,"DIV",{style:!0});var M=I(i);k&&k.l(M),M.forEach(_),H.forEach(_),f=A(w),c=y(w,"DIV",{style:!0});var O=I(c);for(let V=0;V<m.length;V+=1)m[V].l(O);o=A(O),R&&R.l(O),O.forEach(_),w.forEach(_),this.h()},h(){d(l,"font-size",1.5*.85**n[1]+"rem"),d(l,"font-family","aktiv-grotesk, sans-serif"),E(l,"class","keep-on-same-line name-of-task svelte-t4v7r0"),ee(l,"scheduled-orange",!n[0].isDone&&n[0].startTime&&n[0].startDate),ee(l,"crossed-out",n[0].isDone),d(i,"width",200*.9**n[1]+"px"),d(i,"height","100%"),E(t,"class","current-task-flexbox svelte-t4v7r0"),d(c,"margin-top",20*.7**n[1]+"px"),E(e,"draggable","true"),E(e,"class","scheduled-task svelte-t4v7r0"),d(e,"margin-left",(n[1]===1?"0":"20")+"px"),d(e,"margin-bottom","10px"),d(e,"width",350*.8**n[1]+"px"),d(e,"height",n[0].duration&&!n[13]&&n[0].duration*90/60>n[0].children.length*60*.7**n[1]&&n[0].duration*90/60>60*.65**n[1]?`${n[0].duration*90/60}px`:"100%"),d(e,"padding-left",10*.8**n[1]+"px"),ee(e,"black-duration-line",!n[0].isDone&&!(n[0].startTime&&n[0].startDate)),ee(e,"orange-duration-line",!n[0].isDone&&n[0].startTime&&n[0].startDate),ee(e,"green-duration-line",n[0].isDone)},m(h,w){C(h,e,w),v(e,t),v(t,l),g.m(l,null),v(t,s),ie(a,t,null),v(t,r),v(t,i),k&&k.m(i,null),v(e,f),v(e,c);for(let H=0;H<m.length;H+=1)m[H].m(c,null);v(c,o),R&&R.m(c,null),p=!0,u||(T=[q(e,"dragstart",dt(n[38])),q(e,"pointerleave",n[20])],u=!0)},p(h,w){j===(j=z(h))&&g?g.p(h,w):(g.d(1),g=j(h),g&&(g.c(),g.m(l,null))),(!p||w[0]&2)&&d(l,"font-size",1.5*.85**h[1]+"rem"),w[0]&1&&ee(l,"scheduled-orange",!h[0].isDone&&h[0].startTime&&h[0].startDate),w[0]&1&&ee(l,"crossed-out",h[0].isDone);const H={};if(w[0]&4&&(H.isOpen=h[2]),w[0]&1&&(H.taskObject=h[0]),a.$set(H),h[5]?k?k.p(h,w):(k=Ke(h),k.c(),k.m(i,null)):k&&(k.d(1),k=null),(!p||w[0]&2)&&d(i,"width",200*.9**h[1]+"px"),w[0]&32771){B=h[0].children;let b;for(b=0;b<B.length;b+=1){const M=ze(h,B,b);m[b]?(m[b].p(M,w),F(m[b],1)):(m[b]=Ae(M),m[b].c(),F(m[b],1),m[b].m(c,o))}for(fe(),b=B.length;b<m.length;b+=1)P(b);de()}h[5]?R?R.p(h,w):(R=Me(h),R.c(),R.m(c,null)):R&&(R.d(1),R=null),(!p||w[0]&2)&&d(c,"margin-top",20*.7**h[1]+"px"),(!p||w[0]&2)&&d(e,"margin-left",(h[1]===1?"0":"20")+"px"),(!p||w[0]&2)&&d(e,"width",350*.8**h[1]+"px"),(!p||w[0]&8195)&&d(e,"height",h[0].duration&&!h[13]&&h[0].duration*90/60>h[0].children.length*60*.7**h[1]&&h[0].duration*90/60>60*.65**h[1]?`${h[0].duration*90/60}px`:"100%"),(!p||w[0]&2)&&d(e,"padding-left",10*.8**h[1]+"px"),w[0]&1&&ee(e,"black-duration-line",!h[0].isDone&&!(h[0].startTime&&h[0].startDate)),w[0]&1&&ee(e,"orange-duration-line",!h[0].isDone&&h[0].startTime&&h[0].startDate),w[0]&1&&ee(e,"green-duration-line",h[0].isDone)},i(h){if(!p){F(a.$$.fragment,h);for(let w=0;w<B.length;w+=1)F(m[w]);p=!0}},o(h){W(a.$$.fragment,h),m=m.filter(Boolean);for(let w=0;w<m.length;w+=1)W(m[w]);p=!1},d(h){h&&_(e),g.d(),oe(a),k&&k.d(),ue(m,h),R&&R.d(),u=!1,$(T)}}}function Dt(n){let e,t,l;return{c(){e=D("input")},l(s){e=y(s,"INPUT",{})},m(s,a){C(s,e,a),Q(e,n[4]),t||(l=[q(e,"input",n[24]),q(e,"keypress",n[18])],t=!0)},p(s,a){a[0]&16&&e.value!==s[4]&&Q(e,s[4])},d(s){s&&_(e),t=!1,$(l)}}}function yt(n){let e,t=n[0].name+"",l,s,a;return{c(){e=D("div"),l=G(t),this.h()},l(r){e=y(r,"DIV",{class:!0,style:!0});var i=I(e);l=Y(i,t),i.forEach(_),this.h()},h(){E(e,"class","truncate svelte-t4v7r0"),d(e,"width",350*.85**n[1]+"px")},m(r,i){C(r,e,i),v(e,l),s||(a=[q(e,"click",n[23]),q(e,"pointerenter",n[19])],s=!0)},p(r,i){i[0]&1&&t!==(t=r[0].name+"")&&te(l,t),i[0]&2&&d(e,"width",350*.85**r[1]+"px")},d(r){r&&_(e),s=!1,$(a)}}}function Ke(n){let e;function t(a,r){if(!(a[6]||a[8]||Vt||a[12]))return Et;if(a[8])return wt;if(a[12])return Tt}let l=t(n),s=l&&l(n);return{c(){s&&s.c(),e=L()},l(a){s&&s.l(a),e=L()},m(a,r){s&&s.m(a,r),C(a,e,r)},p(a,r){l===(l=t(a))&&s?s.p(a,r):(s&&s.d(1),s=l&&l(a),s&&(s.c(),s.m(e.parentNode,e)))},d(a){s&&s.d(a),a&&_(e)}}}function Tt(n){let e,t,l,s,a,r,i,f;return{c(){e=D("div"),t=D("div"),l=G("Delete"),s=K(),a=D("div"),r=G("Cancel"),this.h()},l(c){e=y(c,"DIV",{style:!0});var o=I(e);t=y(o,"DIV",{});var p=I(t);l=Y(p,"Delete"),p.forEach(_),s=A(o),a=y(o,"DIV",{});var u=I(a);r=Y(u,"Cancel"),u.forEach(_),o.forEach(_),this.h()},h(){d(e,"display","flex"),d(e,"align-items","center"),d(e,"justify-content","space-evenly")},m(c,o){C(c,e,o),v(e,t),v(t,l),v(e,s),v(e,a),v(a,r),i||(f=[q(t,"click",n[22]),q(a,"click",n[31])],i=!0)},p:x,d(c){c&&_(e),i=!1,$(f)}}}function wt(n){let e,t,l,s,a;return{c(){e=D("input"),t=K(),l=D("input"),this.h()},l(r){e=y(r,"INPUT",{placeholder:!0,style:!0}),t=A(r),l=y(r,"INPUT",{placeholder:!0,style:!0}),this.h()},h(){E(e,"placeholder","03/14"),d(e,"width","40px"),d(e,"margin-left","14px"),E(l,"placeholder","13:00"),d(l,"width","40px")},m(r,i){C(r,e,i),Q(e,n[9]),C(r,t,i),C(r,l,i),Q(l,n[10]),s||(a=[q(e,"input",n[28]),q(l,"input",n[29]),q(l,"keypress",n[17])],s=!0)},p(r,i){i[0]&512&&e.value!==r[9]&&Q(e,r[9]),i[0]&1024&&l.value!==r[10]&&Q(l,r[10])},d(r){r&&_(e),r&&_(t),r&&_(l),s=!1,$(a)}}}function Et(n){return{c:x,l:x,m:x,p:x,d:x}}function Ae(n){let e,t;function l(...s){return n[32](n[45],...s)}return e=new Xe({props:{taskObject:n[43],depth:n[1]+1}}),e.$on("task-create",l),e.$on("task-done",n[33]),e.$on("task-delete",n[34]),e.$on("task-repeating",n[35]),{c(){re(e.$$.fragment)},l(s){ae(e.$$.fragment,s)},m(s,a){ie(e,s,a),t=!0},p(s,a){n=s;const r={};a[0]&1&&(r.taskObject=n[43]),a[0]&2&&(r.depth=n[1]+1),e.$set(r)},i(s){t||(F(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){oe(e,s)}}}function Me(n){let e;function t(a,r){return a[6]?It:Ot}let l=t(n),s=l(n);return{c(){s.c(),e=L()},l(a){s.l(a),e=L()},m(a,r){s.m(a,r),C(a,e,r)},p(a,r){l===(l=t(a))&&s?s.p(a,r):(s.d(1),s=l(a),s&&(s.c(),s.m(e.parentNode,e)))},d(a){s.d(a),a&&_(e)}}}function It(n){let e,t,l,s;return{c(){e=D("div"),t=D("input"),this.h()},l(a){e=y(a,"DIV",{style:!0});var r=I(e);t=y(r,"INPUT",{placeholder:!0,style:!0}),r.forEach(_),this.h()},h(){E(t,"placeholder","Type sub-task"),d(t,"width","100%"),d(t,"margin-left","5px"),d(e,"display","flex"),d(e,"align-items","center"),d(e,"margin-left","20px")},m(a,r){C(a,e,r),v(e,t),Q(t,n[7]),l||(s=[q(t,"input",n[37]),q(t,"keypress",n[16])],l=!0)},p(a,r){r[0]&128&&t.value!==a[7]&&Q(t,a[7])},d(a){a&&_(e),l=!1,$(s)}}}function Ot(n){let e,t,l,s,a;return{c(){e=D("div"),t=D("div"),l=G("new sub-task"),this.h()},l(r){e=y(r,"DIV",{style:!0});var i=I(e);t=y(i,"DIV",{style:!0});var f=I(t);l=Y(f,"new sub-task"),f.forEach(_),i.forEach(_),this.h()},h(){d(t,"border-left","2px solid grey"),d(t,"color","grey"),d(t,"padding-left","5px"),d(t,"padding-bottom",8*.68**(n[1]+1)+"px"),d(t,"font-size",1.5*.85**(n[1]+1)+"rem"),d(e,"display","flex"),d(e,"align-items","center"),d(e,"margin-left","20px")},m(r,i){C(r,e,i),v(e,t),v(t,l),s||(a=q(t,"click",n[36]),s=!0)},p(r,i){i[0]&2&&d(t,"padding-bottom",8*.68**(r[1]+1)+"px"),i[0]&2&&d(t,"font-size",1.5*.85**(r[1]+1)+"rem")},d(r){r&&_(e),s=!1,a()}}}function jt(n){let e,t,l=!n[0].isDeleted&&!n[0].isDone&&!(n[0].startTime&&n[0].startDate)&&He(n);return{c(){l&&l.c(),e=L()},l(s){l&&l.l(s),e=L()},m(s,a){l&&l.m(s,a),C(s,e,a),t=!0},p(s,a){!s[0].isDeleted&&!s[0].isDone&&!(s[0].startTime&&s[0].startDate)?l?(l.p(s,a),a[0]&1&&F(l,1)):(l=He(s),l.c(),F(l,1),l.m(e.parentNode,e)):l&&(fe(),W(l,1,1,()=>{l=null}),de())},i(s){t||(F(l),t=!0)},o(s){W(l),t=!1},d(s){l&&l.d(s),s&&_(e)}}}let Vt=!1;function Nt(n,e){n.dataTransfer.setData("text/plain",e)}function Ct(n,e,t){let l,{taskObject:s}=e,{depth:a}=e,r=!1;const i=Ie();let f=!1,c="",o=!1,p=!1,u="",T=!1,z="",j="",g=0,k=!1;function B(S,De){const Ve=Ee({},s.children[De]);Ve.children=S.detail.updatedChildren;const Ne=[...s.children];Ne[De]=Ve,w(Ne)}function m(S){S.charCode===13&&(u&&h(u),t(7,u=""),t(6,p=!1))}function P(S){S.charCode===13&&(z.length!==5||j.length!==5?(alert("Formats must be exact - date is mm:dd and time is hh:mm, resetting"),t(0,s.startDate="",s),t(0,s.scheduledTime="",s)):(t(0,s.startDate=z,s),t(0,s.startTime=j,s)),i("task-done",{}),t(8,T=!1))}function R(S){if(S.charCode===13){if(!c){alert("Task name can't be empty.");return}t(0,s.name=c,s),i("task-done",{}),t(4,c=""),t(3,f=!1)}}function h(S){w([...s.children,{name:S,children:[]}])}function w(S){i("task-create",{updatedChildren:S})}function H(){t(5,o=!0)}function b(){t(5,o=!1)}function M(){t(0,s.isDone=!s.isDone,s),s.isRepeating&&(s.isDone?(t(0,s.completionCount=s.completionCount+1||1,s),t(0,s.lastCompletionDate=se(),s)):(t(0,s.completionCount=s.completionCount-1||0,s),t(0,s.lastCompletionDate="",s))),i("task-done",{})}function O(){t(0,s.isDeleted=!s.isDeleted,s),console.log("taskObject.deleted =",s.isDeleted),i("task-delete",{})}const V=()=>t(2,r=!0);function N(){c=this.value,t(4,c)}const J=()=>t(2,r=!1),Z=()=>i("task-done"),X=()=>i("task-done");function U(){z=this.value,t(9,z)}function he(){j=this.value,t(10,j)}function pe(){g=this.value,t(11,g)}const _e=()=>t(12,k=!1),me=(S,De)=>B(De,S);function ve(S){Oe.call(this,n,S)}function ge(S){Oe.call(this,n,S)}function ke(S){Oe.call(this,n,S)}const be=()=>t(6,p=!0);function st(){u=this.value,t(7,u)}const nt=S=>Nt(S,s.name);return n.$$set=S=>{"taskObject"in S&&t(0,s=S.taskObject),"depth"in S&&t(1,a=S.depth)},n.$$.update=()=>{n.$$.dirty[0]&1&&t(13,l=s.children.filter(S=>S.duration).length>0)},[s,a,r,f,c,o,p,u,T,z,j,g,k,l,i,B,m,P,R,H,b,M,O,V,N,J,Z,X,U,he,pe,_e,me,ve,ge,ke,be,st,nt]}class Xe extends ye{constructor(e){super();Te(this,e,Ct,jt,we,{taskObject:0,depth:1},null,[-1,-1])}}function Ge(n,e,t){const l=n.slice();return l[16]=e[t],l[18]=t,l}function Ye(n,e,t){const l=n.slice();return l[19]=e[t],l}function Fe(n,e,t){const l=n.slice();return l[16]=e[t],l[18]=t,l}function We(n){let e,t,l=n[16]+"",s,a,r,i,f,c;return{c(){e=D("div"),t=D("div"),s=G(l),r=K(),i=D("div"),c=K(),this.h()},l(o){e=y(o,"DIV",{style:!0,class:!0});var p=I(e);t=y(p,"DIV",{class:!0,style:!0,id:!0});var u=I(t);s=Y(u,l),u.forEach(_),r=A(p),i=y(p,"DIV",{id:!0,class:!0}),I(i).forEach(_),c=A(p),p.forEach(_),this.h()},h(){E(t,"class","time-indicator svelte-1otkjb3"),d(t,"color",n[16].slice(0,2)===je()&&se()===n[0]()?"red":""),E(t,"id",a=n[16].slice(0,2)===je()?"current-hour-block":""),E(i,"id",f=n[16]),E(i,"class","calendar-time-block svelte-1otkjb3"),d(e,"display","flex"),d(e,"top",90*n[18]+"px"),d(e,"position","absolute"),E(e,"class","svelte-1otkjb3")},m(o,p){C(o,e,p),v(e,t),v(t,s),v(e,r),v(e,i),v(e,c)},p(o,p){p&1&&d(t,"color",o[16].slice(0,2)===je()&&se()===o[0]()?"red":"")},d(o){o&&_(e)}}}function Qe(n){let e,t,l=n[19].name+"",s,a,r,i,f,c,o,p;function u(...j){return n[8](n[19],...j)}function T(...j){return n[9](n[19],...j)}function z(...j){return n[11](n[19],...j)}return{c(){e=D("div"),t=D("div"),s=G(l),a=K(),r=D("div"),i=K(),f=D("div"),c=K(),this.h()},l(j){e=y(j,"DIV",{class:!0,style:!0});var g=I(e);t=y(g,"DIV",{draggable:!0,style:!0,class:!0});var k=I(t);s=Y(k,l),k.forEach(_),a=A(g),r=y(g,"DIV",{style:!0,draggable:!0,class:!0});var B=I(r);B.forEach(_),i=A(g),f=y(g,"DIV",{draggable:!0,style:!0,class:!0});var m=I(f);m.forEach(_),c=A(g),g.forEach(_),this.h()},h(){E(t,"draggable","true"),d(t,"width","11vw"),E(t,"class","svelte-1otkjb3"),d(r,"height",n[19].duration*n[3]-20-10+"px"),d(r,"width","11vw"),E(r,"draggable","true"),E(r,"class","svelte-1otkjb3"),E(f,"draggable","true"),d(f,"height","8px"),d(f,"width","11vw"),d(f,"position","absolute"),d(f,"bottom","0"),d(f,"left","-3px"),d(f,"cursor","ns-resize"),E(f,"class","svelte-1otkjb3"),E(e,"class","scheduled-task svelte-1otkjb3"),d(e,"top",n[19].verticalOffset+"px"),d(e,"height",(n[19].duration*n[3]||30)+"px")},m(j,g){C(j,e,g),v(e,t),v(t,s),v(e,a),v(e,r),v(e,i),v(e,f),v(e,c),o||(p=[q(t,"dragstart",u),q(r,"dragstart",T),q(f,"dragstart",n[10]),q(f,"dragend",z)],o=!0)},p(j,g){n=j,g&2&&l!==(l=n[19].name+"")&&te(s,l),g&2&&d(r,"height",n[19].duration*n[3]-20-10+"px"),g&2&&d(e,"top",n[19].verticalOffset+"px"),g&2&&d(e,"height",(n[19].duration*n[3]||30)+"px")},d(j){j&&_(e),o=!1,$(p)}}}function Le(n){let e,t=n[1][n[16]],l=[];for(let s=0;s<t.length;s+=1)l[s]=Qe(Ye(n,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=L()},l(s){for(let a=0;a<l.length;a+=1)l[a].l(s);e=L()},m(s,a){for(let r=0;r<l.length;r+=1)l[r].m(s,a);C(s,e,a)},p(s,a){if(a&110){t=s[1][s[16]];let r;for(r=0;r<t.length;r+=1){const i=Ye(s,t,r);l[r]?l[r].p(i,a):(l[r]=Qe(i),l[r].c(),l[r].m(e.parentNode,e))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},d(s){ue(l,s),s&&_(e)}}}function Rt(n){let e,t,l,s,a,r=n[2],i=[];for(let o=0;o<r.length;o+=1)i[o]=We(Fe(n,r,o));let f=n[2],c=[];for(let o=0;o<f.length;o+=1)c[o]=Le(Ge(n,f,o));return{c(){e=D("div"),t=D("div");for(let o=0;o<i.length;o+=1)i[o].c();l=K();for(let o=0;o<c.length;o+=1)c[o].c();this.h()},l(o){e=y(o,"DIV",{style:!0,class:!0});var p=I(e);t=y(p,"DIV",{id:!0,style:!0,class:!0});var u=I(t);for(let T=0;T<i.length;T+=1)i[T].l(u);l=A(u);for(let T=0;T<c.length;T+=1)c[T].l(u);u.forEach(_),p.forEach(_),this.h()},h(){E(t,"id","calendar-day-container"),d(t,"width","12vw"),d(t,"margin-left","0px"),d(t,"margin-top","10px"),d(t,"position","relative"),d(t,"height","1600px"),E(t,"class","svelte-1otkjb3"),d(e,"height","80vh"),d(e,"overflow-y","scroll"),d(e,"overflow-x","hidden"),E(e,"class","svelte-1otkjb3")},m(o,p){C(o,e,p),v(e,t);for(let u=0;u<i.length;u+=1)i[u].m(t,null);v(t,l);for(let u=0;u<c.length;u+=1)c[u].m(t,null);s||(a=[q(t,"drop",n[12]),q(t,"dragover",Bt)],s=!0)},p(o,[p]){if(p&5){r=o[2];let u;for(u=0;u<r.length;u+=1){const T=Fe(o,r,u);i[u]?i[u].p(T,p):(i[u]=We(T),i[u].c(),i[u].m(t,l))}for(;u<i.length;u+=1)i[u].d(1);i.length=r.length}if(p&110){f=o[2];let u;for(u=0;u<f.length;u+=1){const T=Ge(o,f,u);c[u]?c[u].p(T,p):(c[u]=Le(T),c[u].c(),c[u].m(t,null))}for(;u<c.length;u+=1)c[u].d(1);c.length=f.length}},i:x,o:x,d(o){o&&_(e),ue(i,o),ue(c,o),s=!1,$(a)}}}function Ze(n,e){n.dataTransfer.setData("text/plain",e)}function Bt(n){n.preventDefault(),n.dataTransfer.dropEffect="move"}function qt({startTime:n}){const e=n.slice(0,2),t=n.slice(3,5);return(Number(e)+Number(t)/60-8)*90}function Pt(n,e,t){let{scheduledTasks:l}=e,{getDate:s}=e;const a=Ie(),r=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00","00:00","01:00","02:00"];let i={},f=0,c=90/60;ut(()=>{se()===s()&&document.getElementById("current-hour-block").scrollIntoView()});function o(){const m={};for(const P of r){m[P]=[];for(const R of l)R.startTime.slice(0,2)===P.slice(0,2)&&m[P].push(Be(Ee({},R),{verticalOffset:qt(R)}))}t(1,i=m)}function p(m){m.preventDefault();var R=document.getElementById("calendar-day-container").getBoundingClientRect();R.left,R.top;const h=90;let H=m.layerY/h;const b=H-Math.floor(H),M=Math.trunc(H);let O=b*60,V=8+M;V<10&&(V=`0${V}`),O<10?(O=O.toPrecision(1),O=`0${O}`):O=O.toPrecision(2);const N=`${V}:${O}`;console.log("scheduledTime =",N),a("task-scheduled",{taskName:m.dataTransfer.getData("text/plain"),timeOfDay:N,dateScheduled:s()})}function u(m){f=m.offsetY}function T(m,P){P.duration||(P.duration=10);const R=60/90,h=(m.offsetY-f)*R;a("task-duration-adjusted",{taskName:P.name,duration:Math.max(1,P.duration+h)})}const z=(m,P)=>Ze(P,m.name),j=(m,P)=>Ze(P,m.name),g=m=>u(m),k=(m,P)=>T(P,m),B=m=>p(m);return n.$$set=m=>{"scheduledTasks"in m&&t(7,l=m.scheduledTasks),"getDate"in m&&t(0,s=m.getDate)},n.$$.update=()=>{n.$$.dirty&128&&l&&o()},[s,i,r,c,p,u,T,l,z,j,g,k,B]}class Je extends ye{constructor(e){super();Te(this,e,Pt,Rt,we,{scheduledTasks:7,getDate:0})}}const Ut={apiKey:"AIzaSyCOVm0X6UUQQcftXf066z_0hFk497j4dNY",authDomain:"project-y-2a061.firebaseapp.com",projectId:"project-y-2a061",storageBucket:"project-y-2a061.appspot.com",messagingSenderId:"132745397287",appId:"1:132745397287:web:b34052fb4683bc85e73a02",measurementId:"G-EZSLE84PYQ"};ct(Ut);var ne=ht();function $e(n,e,t){const l=n.slice();return l[23]=e[t],l}function xe(n){let e,t,l,s,a,r=n[0],i=[];for(let o=0;o<r.length;o+=1)i[o]=tt($e(n,r,o));const f=o=>W(i[o],1,1,()=>{i[o]=null});let c=n[5]&&lt(n);return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=K(),t=D("div"),c&&c.c(),this.h()},l(o){for(let u=0;u<i.length;u+=1)i[u].l(o);e=A(o),t=y(o,"DIV",{style:!0,class:!0});var p=I(t);c&&c.l(p),p.forEach(_),this.h()},h(){d(t,"height","100px"),E(t,"class","svelte-lld6s9")},m(o,p){for(let u=0;u<i.length;u+=1)i[u].m(o,p);C(o,e,p),C(o,t,p),c&&c.m(t,null),l=!0,s||(a=[q(t,"mouseenter",n[14]),q(t,"mouseleave",n[15])],s=!0)},p(o,p){if(p&1537){r=o[0];let u;for(u=0;u<r.length;u+=1){const T=$e(o,r,u);i[u]?(i[u].p(T,p),F(i[u],1)):(i[u]=tt(T),i[u].c(),F(i[u],1),i[u].m(e.parentNode,e))}for(fe(),u=r.length;u<i.length;u+=1)f(u);de()}o[5]?c?c.p(o,p):(c=lt(o),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i(o){if(!l){for(let p=0;p<r.length;p+=1)F(i[p]);l=!0}},o(o){i=i.filter(Boolean);for(let p=0;p<i.length;p+=1)W(i[p]);l=!1},d(o){ue(i,o),o&&_(e),o&&_(t),c&&c.d(),s=!1,$(a)}}}function et(n){let e,t,l,s;function a(...r){return n[11](n[23],...r)}return t=new Xe({props:{taskObject:n[23],depth:1}}),t.$on("task-create",a),t.$on("task-done",n[10]),t.$on("task-delete",n[10]),t.$on("task-repeating",n[10]),{c(){e=D("div"),re(t.$$.fragment),l=K(),this.h()},l(r){e=y(r,"DIV",{class:!0});var i=I(e);ae(t.$$.fragment,i),l=A(i),i.forEach(_),this.h()},h(){E(e,"class","task-container svelte-lld6s9")},m(r,i){C(r,e,i),ie(t,e,null),v(e,l),s=!0},p(r,i){n=r;const f={};i&1&&(f.taskObject=n[23]),t.$set(f)},i(r){s||(F(t.$$.fragment,r),s=!0)},o(r){W(t.$$.fragment,r),s=!1},d(r){r&&_(e),oe(t)}}}function tt(n){let e,t,l=!n[23].isDeleted&&et(n);return{c(){l&&l.c(),e=L()},l(s){l&&l.l(s),e=L()},m(s,a){l&&l.m(s,a),C(s,e,a),t=!0},p(s,a){s[23].isDeleted?l&&(fe(),W(l,1,1,()=>{l=null}),de()):l?(l.p(s,a),a&1&&F(l,1)):(l=et(s),l.c(),F(l,1),l.m(e.parentNode,e))},i(s){t||(F(l),t=!0)},o(s){W(l),t=!1},d(s){l&&l.d(s),s&&_(e)}}}function lt(n){let e;function t(a,r){return a[4]?St:zt}let l=t(n),s=l(n);return{c(){s.c(),e=L()},l(a){s.l(a),e=L()},m(a,r){s.m(a,r),C(a,e,r)},p(a,r){l===(l=t(a))&&s?s.p(a,r):(s.d(1),s=l(a),s&&(s.c(),s.m(e.parentNode,e)))},d(a){s.d(a),a&&_(e)}}}function St(n){let e,t,l,s;return{c(){e=D("div"),t=D("input"),this.h()},l(a){e=y(a,"DIV",{style:!0,class:!0});var r=I(e);t=y(r,"INPUT",{placeholder:!0,class:!0}),r.forEach(_),this.h()},h(){E(t,"placeholder","Type task..."),E(t,"class","svelte-lld6s9"),d(e,"display","flex"),d(e,"align-content","center"),d(e,"justify-items","center"),E(e,"class","svelte-lld6s9")},m(a,r){C(a,e,r),v(e,t),Q(t,n[3]),l||(s=[q(t,"input",n[13]),q(t,"keypress",n[8])],l=!0)},p(a,r){r&8&&t.value!==a[3]&&Q(t,a[3])},d(a){a&&_(e),l=!1,$(s)}}}function zt(n){let e,t,l,s;return{c(){e=D("div"),t=G("New task"),this.h()},l(a){e=y(a,"DIV",{style:!0,class:!0});var r=I(e);t=Y(r,"New task"),r.forEach(_),this.h()},h(){d(e,"font-size","1.5rem"),d(e,"color","grey"),E(e,"class","svelte-lld6s9")},m(a,r){C(a,e,r),v(e,t),l||(s=q(e,"click",n[12]),l=!0)},p:x,d(a){a&&_(e),l=!1,s()}}}function Ht(n){let e,t,l,s,a,r,i,f,c,o,p,u,T,z,j,g=n[0].length>0&&xe(n);return c=new Je({props:{scheduledTasks:n[1],getDate:se}}),c.$on("task-scheduled",n[16]),c.$on("task-duration-adjusted",n[17]),p=new Je({props:{scheduledTasks:n[2],getDate:qe}}),p.$on("task-scheduled",n[18]),p.$on("task-duration-adjusted",n[19]),{c(){e=D("div"),t=D("div"),l=K(),s=D("div"),a=D("div"),r=D("div"),g&&g.c(),i=K(),f=D("div"),re(c.$$.fragment),o=K(),re(p.$$.fragment),u=K(),T=D("iframe"),this.h()},l(k){e=y(k,"DIV",{id:!0,style:!0,class:!0});var B=I(e);t=y(B,"DIV",{style:!0,class:!0}),I(t).forEach(_),l=A(B),s=y(B,"DIV",{style:!0,class:!0});var m=I(s);a=y(m,"DIV",{class:!0,style:!0});var P=I(a);r=y(P,"DIV",{class:!0});var R=I(r);g&&g.l(R),R.forEach(_),P.forEach(_),i=A(m),f=y(m,"DIV",{style:!0,class:!0});var h=I(f);ae(c.$$.fragment,h),o=A(h),ae(p.$$.fragment,h),h.forEach(_),m.forEach(_),B.forEach(_),u=A(k),T=y(k,"IFRAME",{src:!0,allow:!0,style:!0,id:!0,class:!0});var w=I(T);w.forEach(_),this.h()},h(){d(t,"height","80px"),E(t,"class","svelte-lld6s9"),E(r,"class","todo-list svelte-lld6s9"),E(a,"class","fixed-height-container-for-scrolling svelte-lld6s9"),d(a,"background-color","white"),d(a,"border","2px solid green"),d(a,"border-top-left-radius","20px"),d(a,"border-bottom-left-radius","20px"),d(f,"display","flex"),d(f,"justify-content","space-evenly"),d(f,"width","30vw"),d(f,"border-left","2px dashed grey"),d(f,"background-color","white"),d(f,"border","2px solid green"),d(f,"border-top-right-radius","20px"),d(f,"border-bottom-right-radius","20px"),E(f,"class","svelte-lld6s9"),d(s,"display","flex"),d(s,"padding-left","0"),d(s,"padding-top","10px"),E(s,"class","svelte-lld6s9"),E(e,"id","background-image-holder"),d(e,"height","100vh"),d(e,"padding-left","80px"),d(e,"padding-right","80px"),E(e,"class","svelte-lld6s9"),pt(T.src,z="../illiyard-moor-lofi.mp3")||E(T,"src",z),E(T,"allow","autoplay"),d(T,"display","none"),E(T,"id","iframeAudio"),E(T,"class","svelte-lld6s9")},m(k,B){C(k,e,B),v(e,t),v(e,l),v(e,s),v(s,a),v(a,r),g&&g.m(r,null),v(s,i),v(s,f),ie(c,f,null),v(f,o),ie(p,f,null),C(k,u,B),C(k,T,B),j=!0},p(k,[B]){k[0].length>0?g?(g.p(k,B),B&1&&F(g,1)):(g=xe(k),g.c(),F(g,1),g.m(r,null)):g&&(fe(),W(g,1,1,()=>{g=null}),de());const m={};B&2&&(m.scheduledTasks=k[1]),c.$set(m);const P={};B&4&&(P.scheduledTasks=k[2]),p.$set(P)},i(k){j||(F(g),F(c.$$.fragment,k),F(p.$$.fragment,k),j=!0)},o(k){W(g),W(c.$$.fragment,k),W(p.$$.fragment,k),j=!1},d(k){k&&_(e),g&&g.d(),oe(c),oe(p),k&&_(u),k&&_(T)}}}function Kt(n,e,t){let l=[],s=[],a=[],r="",i=!1,f=!1;async function c({taskName:b,timeOfDay:M,dateScheduled:O}){function V(N){if(N.name===b)return N.startTime=M,N.startDate=O,!0;for(const J of N.children)if(V(J))return!0;return!1}for(const N of l)if(V(N)){console.log("successfully mutated allTasks, =",l);break}await ce(le(ne,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:l}),t(0,l=[...l])}async function o({taskName:b,duration:M}){function O(V){if(V.name===b)return V.duration=M,!0;for(const N of V.children)if(O(N))return!0;return!1}for(const V of l)if(O(V)){console.log("successfully mutated allTasks, =",l);break}await ce(le(ne,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:l}),t(0,l=[...l])}async function p(){const b=await _t(le(ne,"users/GxBbopqXHW0qgjKEwU4z"));t(0,l=b.data().allTasks)}p();function u(b){b.charCode===13&&T()}function T(){r||alert("You have to type something first");const b=[...l,{name:r,children:[]}];ce(le(ne,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:b}),t(0,l=[...b]),newToplevelTask="",isTypingNewTask=!1}function z(b,M){const{updatedChildren:O}=b.detail;M.children=[...O],ce(le(ne,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:l}),t(0,l=[...l])}function j(){console.log("updateFirestore()"),ce(le(ne,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:l}),t(0,l=[...l])}const g=(b,M)=>z(M,b),k=()=>t(4,i=!0);function B(){r=this.value,t(3,r)}const m=()=>t(5,f=!0),P=()=>t(5,f=!1),R=b=>c(b.detail),h=b=>o(b.detail),w=b=>c(b.detail),H=b=>o(b.detail);return n.$$.update=()=>{if(n.$$.dirty&7&&l){let M=function(N){N.startTime!==void 0&&b.push(N);for(const J of N.children)M(J)};const b=[];for(const N of l)M(N);const O=se();t(1,s=b.filter(N=>N.startDate===O&&!N.isDeleted));const V=qe();t(2,a=b.filter(N=>N.startDate===V&&!N.isDeleted)),console.log("scheduledTasks2 =",a);for(const N of s)N.isRepeating&&(console.log("task.name =",N.name),console.log("last completion date =",N.lastCompletionDate),N.lastCompletionDate!==O&&(N.startDate=O,N.isDone=!1));l.sort((N,J)=>!!N.isDone-!!J.isDone)}},[l,s,a,r,i,f,c,o,u,z,j,g,k,B,m,P,R,h,w,H]}class Xt extends ye{constructor(e){super();Te(this,e,Kt,Ht,we,{})}}export{Xt as default};
