var ut=Object.defineProperty;var qe=Object.getOwnPropertySymbols;var ft=Object.prototype.hasOwnProperty,dt=Object.prototype.propertyIsEnumerable;var ze=(l,e,t)=>e in l?ut(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,Ae=(l,e)=>{for(var t in e||(e={}))ft.call(e,t)&&ze(l,t,e[t]);if(qe)for(var t of qe(e))dt.call(e,t)&&ze(l,t,e[t]);return l};import{S as we,i as Ee,s as Ie,e as O,t as H,k as A,c as T,a as I,h as K,d as c,m as F,b as j,f as u,g as W,J as m,L as ne,M as B,j as de,N as ie,l as oe,K as ae,O as Ue,_ as ct,P as ee,w as ye,x as De,y as Oe,Q as pt,q as te,o as re,B as Te,n as je,p as Ne,R as Ve,T as Pe,U as ht,V as _t,v as mt,W as ve,X as he,Y as kt,Z as vt}from"../chunks/vendor-ecd12436.js";function We(){const l=new Date;let e=l.getDate(),t=l.getMonth()+1;return e<10&&(e="0"+e),t<10&&(t="0"+t),`${t}/${e}`}function Fe(l){let e,t,s,n=l[0].name+"",a,r,i,_,o,f,p,g,b,k,U,h,D,R,N,z,P,d,v,w,y,V;function L(G,Z){return!G[0].isDone&&G[0].startTime&&G[0].startDate?yt:G[4]?gt:bt}let J=L(l),Y=J(l);function S(G,Z){if(G[0].daysBeforeRepeating)return Ot;if(G[0].repeatsOnDaysOfWeek)return Dt}let X=S(l),q=X&&X(l);function M(G,Z){return G[5]?Tt:wt}let ue=M(l),se=ue(l);return{c(){e=O("div"),t=O("div"),s=O("div"),a=H(n),r=A(),i=O("span"),_=H("close"),o=A(),f=O("div"),Y.c(),p=A(),g=O("div"),q&&q.c(),b=A(),k=O("textarea"),U=A(),h=O("div"),D=O("div"),se.c(),R=A(),N=O("div"),z=O("button"),P=H("Delete"),d=A(),v=O("button"),w=H("Done"),this.h()},l(G){e=T(G,"DIV",{class:!0});var Z=I(e);t=T(Z,"DIV",{style:!0});var fe=I(t);s=T(fe,"DIV",{class:!0,style:!0});var ce=I(s);a=K(ce,n),ce.forEach(c),r=F(fe),i=T(fe,"SPAN",{class:!0,style:!0});var pe=I(i);_=K(pe,"close"),pe.forEach(c),fe.forEach(c),o=F(Z),f=T(Z,"DIV",{class:!0,style:!0});var ge=I(f);Y.l(ge),ge.forEach(c),p=F(Z),g=T(Z,"DIV",{class:!0,style:!0});var be=I(g);q&&q.l(be),be.forEach(c),b=F(Z),k=T(Z,"TEXTAREA",{cols:!0,placeholder:!0,style:!0}),I(k).forEach(c),U=F(Z),h=T(Z,"DIV",{style:!0});var me=I(h);D=T(me,"DIV",{});var C=I(D);se.l(C),C.forEach(c),R=F(me),N=T(me,"DIV",{style:!0});var E=I(N);z=T(E,"BUTTON",{});var Q=I(z);P=K(Q,"Delete"),Q.forEach(c),d=F(E),v=T(E,"BUTTON",{});var x=I(v);w=K(x,"Done"),x.forEach(c),E.forEach(c),me.forEach(c),Z.forEach(c),this.h()},h(){j(s,"class","google-calendar-event-title svelte-lssk3a"),u(s,"margin-top","10px"),u(s,"margin-left","10px"),j(i,"class","material-icons"),u(i,"margin-left","auto"),u(i,"margin-right","0"),u(t,"display","flex"),j(f,"class","google-calendar-event-time svelte-lssk3a"),u(f,"margin-top","4px"),u(f,"margin-left","10px"),j(g,"class","google-calendar-event-detail svelte-lssk3a"),u(g,"margin-top","12px"),u(g,"margin-left","16px"),j(k,"cols","48"),j(k,"placeholder","notes"),u(k,"margin-left","10px"),u(N,"margin-left","auto"),u(N,"margin-right","16px"),u(h,"display","flex"),u(h,"margin-left","6px"),j(e,"class","detailed-card svelte-lssk3a")},m(G,Z){W(G,e,Z),m(e,t),m(t,s),m(s,a),m(t,r),m(t,i),m(i,_),m(e,o),m(e,f),Y.m(f,null),m(e,p),m(e,g),q&&q.m(g,null),m(e,b),m(e,k),ne(k,l[7]),m(e,U),m(e,h),m(h,D),se.m(D,null),m(h,R),m(h,N),m(N,z),m(z,P),m(N,d),m(N,v),m(v,w),y||(V=[B(i,"click",l[13]),B(k,"input",l[17]),B(k,"input",l[9]),B(z,"click",l[27]),B(v,"click",l[28])],y=!0)},p(G,Z){Z&1&&n!==(n=G[0].name+"")&&de(a,n),J===(J=L(G))&&Y?Y.p(G,Z):(Y.d(1),Y=J(G),Y&&(Y.c(),Y.m(f,null))),X===(X=S(G))&&q?q.p(G,Z):(q&&q.d(1),q=X&&X(G),q&&(q.c(),q.m(g,null))),Z&128&&ne(k,G[7]),ue===(ue=M(G))&&se?se.p(G,Z):(se.d(1),se=ue(G),se&&(se.c(),se.m(D,null)))},d(G){G&&c(e),Y.d(),q&&q.d(),se.d(),y=!1,ie(V)}}}function gt(l){let e,t,s,n,a;return{c(){e=O("input"),t=A(),s=O("input"),this.h()},l(r){e=T(r,"INPUT",{placeholder:!0,style:!0}),t=F(r),s=T(r,"INPUT",{placeholder:!0,style:!0}),this.h()},h(){j(e,"placeholder","12/31"),u(e,"width","40px"),j(s,"placeholder","19:45"),u(s,"width","40px")},m(r,i){W(r,e,i),ne(e,l[2]),W(r,t,i),W(r,s,i),ne(s,l[3]),n||(a=[B(e,"input",l[15]),B(s,"input",l[16]),B(s,"keypress",l[12])],n=!0)},p(r,i){i&4&&e.value!==r[2]&&ne(e,r[2]),i&8&&s.value!==r[3]&&ne(s,r[3])},d(r){r&&c(e),r&&c(t),r&&c(s),n=!1,ie(a)}}}function bt(l){let e,t,s,n;return{c(){e=O("button"),t=H("Schedule")},l(a){e=T(a,"BUTTON",{});var r=I(e);t=K(r,"Schedule"),r.forEach(c)},m(a,r){W(a,e,r),m(e,t),s||(n=B(e,"click",l[14]),s=!0)},p:ae,d(a){a&&c(e),s=!1,n()}}}function yt(l){let e,t=l[0].startDate+" "+l[0].startTime+"",s;return{c(){e=H("Scheduled for "),s=H(t)},l(n){e=K(n,"Scheduled for "),s=K(n,t)},m(n,a){W(n,e,a),W(n,s,a)},p(n,a){a&1&&t!==(t=n[0].startDate+" "+n[0].startTime+"")&&de(s,t)},d(n){n&&c(e),n&&c(s)}}}function Dt(l){let e,t=l[0].repeatsOnDaysOfWeek+"",s;return{c(){e=H("Repeats "),s=H(t)},l(n){e=K(n,"Repeats "),s=K(n,t)},m(n,a){W(n,e,a),W(n,s,a)},p(n,a){a&1&&t!==(t=n[0].repeatsOnDaysOfWeek+"")&&de(s,t)},d(n){n&&c(e),n&&c(s)}}}function Ot(l){let e,t=l[0].daysBeforeRepeating+"",s,n,a=(l[0].completionCount||0)+"",r,i;return{c(){e=H("Repeats every "),s=H(t),n=H(" days, completed "),r=H(a),i=H(" times")},l(_){e=K(_,"Repeats every "),s=K(_,t),n=K(_," days, completed "),r=K(_,a),i=K(_," times")},m(_,o){W(_,e,o),W(_,s,o),W(_,n,o),W(_,r,o),W(_,i,o)},p(_,o){o&1&&t!==(t=_[0].daysBeforeRepeating+"")&&de(s,t),o&1&&a!==(a=(_[0].completionCount||0)+"")&&de(r,a)},d(_){_&&c(e),_&&c(s),_&&c(n),_&&c(r),_&&c(i)}}}function Tt(l){let e,t,s,n,a,r,i,_,o,f,p,g,b,k,U,h,D,R,N,z,P,d,v,w,y,V,L,J,Y;return{c(){e=O("div"),t=H("Repeats every "),s=O("input"),n=H(" days"),a=A(),r=O("div"),i=O("div"),_=O("button"),o=H("M"),f=A(),p=O("button"),g=H("T"),b=A(),k=O("button"),U=H("W"),h=A(),D=O("button"),R=H("R"),N=A(),z=O("button"),P=H("F"),d=A(),v=O("button"),w=H("S"),y=A(),V=O("button"),L=H("S"),this.h()},l(S){e=T(S,"DIV",{style:!0});var X=I(e);t=K(X,"Repeats every "),s=T(X,"INPUT",{style:!0,placeholder:!0}),n=K(X," days"),X.forEach(c),a=F(S),r=T(S,"DIV",{style:!0});var q=I(r);i=T(q,"DIV",{});var M=I(i);_=T(M,"BUTTON",{class:!0});var ue=I(_);o=K(ue,"M"),ue.forEach(c),f=F(M),p=T(M,"BUTTON",{class:!0});var se=I(p);g=K(se,"T"),se.forEach(c),b=F(M),k=T(M,"BUTTON",{class:!0});var G=I(k);U=K(G,"W"),G.forEach(c),h=F(M),D=T(M,"BUTTON",{class:!0});var Z=I(D);R=K(Z,"R"),Z.forEach(c),N=F(M),z=T(M,"BUTTON",{class:!0});var fe=I(z);P=K(fe,"F"),fe.forEach(c),d=F(M),v=T(M,"BUTTON",{class:!0});var ce=I(v);w=K(ce,"S"),ce.forEach(c),y=F(M),V=T(M,"BUTTON",{class:!0});var pe=I(V);L=K(pe,"S"),pe.forEach(c),M.forEach(c),q.forEach(c),this.h()},h(){u(s,"width","20px"),j(s,"placeholder","0"),u(e,"display","flex"),j(_,"class","svelte-lssk3a"),ee(_,"selected",l[0].repeatsOnDaysOfWeek&&l[0].repeatsOnDaysOfWeek[0]),j(p,"class","svelte-lssk3a"),ee(p,"selected",l[0].repeatsOnDaysOfWeek&&l[0].repeatsOnDaysOfWeek[1]),j(k,"class","svelte-lssk3a"),ee(k,"selected",l[0].repeatsOnDaysOfWeek&&l[0].repeatsOnDaysOfWeek[2]),j(D,"class","svelte-lssk3a"),ee(D,"selected",l[0].repeatsOnDaysOfWeek&&l[0].repeatsOnDaysOfWeek[3]),j(z,"class","svelte-lssk3a"),ee(z,"selected",l[0].repeatsOnDaysOfWeek&&l[0].repeatsOnDaysOfWeek[4]),j(v,"class","svelte-lssk3a"),ee(v,"selected",l[0].repeatsOnDaysOfWeek&&l[0].repeatsOnDaysOfWeek[5]),j(V,"class","svelte-lssk3a"),ee(V,"selected",l[0].repeatsOnDaysOfWeek&&l[0].repeatsOnDaysOfWeek[6]),u(r,"display","flex")},m(S,X){W(S,e,X),m(e,t),m(e,s),ne(s,l[6]),m(e,n),W(S,a,X),W(S,r,X),m(r,i),m(i,_),m(_,o),m(i,f),m(i,p),m(p,g),m(i,b),m(i,k),m(k,U),m(i,h),m(i,D),m(D,R),m(i,N),m(i,z),m(z,P),m(i,d),m(i,v),m(v,w),m(i,y),m(i,V),m(V,L),J||(Y=[B(s,"input",l[19]),B(s,"keypress",l[11]),B(_,"click",l[20]),B(p,"click",l[21]),B(k,"click",l[22]),B(D,"click",l[23]),B(z,"click",l[24]),B(v,"click",l[25]),B(V,"click",l[26])],J=!0)},p(S,X){X&64&&s.value!==S[6]&&ne(s,S[6]),X&1&&ee(_,"selected",S[0].repeatsOnDaysOfWeek&&S[0].repeatsOnDaysOfWeek[0]),X&1&&ee(p,"selected",S[0].repeatsOnDaysOfWeek&&S[0].repeatsOnDaysOfWeek[1]),X&1&&ee(k,"selected",S[0].repeatsOnDaysOfWeek&&S[0].repeatsOnDaysOfWeek[2]),X&1&&ee(D,"selected",S[0].repeatsOnDaysOfWeek&&S[0].repeatsOnDaysOfWeek[3]),X&1&&ee(z,"selected",S[0].repeatsOnDaysOfWeek&&S[0].repeatsOnDaysOfWeek[4]),X&1&&ee(v,"selected",S[0].repeatsOnDaysOfWeek&&S[0].repeatsOnDaysOfWeek[5]),X&1&&ee(V,"selected",S[0].repeatsOnDaysOfWeek&&S[0].repeatsOnDaysOfWeek[6])},d(S){S&&c(e),S&&c(a),S&&c(r),J=!1,ie(Y)}}}function wt(l){let e,t,s,n;return{c(){e=O("button"),t=H("Repeat task"),this.h()},l(a){e=T(a,"BUTTON",{style:!0});var r=I(e);t=K(r,"Repeat task"),r.forEach(c),this.h()},h(){u(e,"margin-left","5px")},m(a,r){W(a,e,r),m(e,t),s||(n=B(e,"click",l[18]),s=!0)},p:ae,d(a){a&&c(e),s=!1,n()}}}function Et(l){let e,t=l[1]&&Fe(l);return{c(){t&&t.c(),e=oe()},l(s){t&&t.l(s),e=oe()},m(s,n){t&&t.m(s,n),W(s,e,n)},p(s,[n]){s[1]?t?t.p(s,n):(t=Fe(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ae,o:ae,d(s){t&&t.d(s),s&&c(e)}}}function It(l,e,t){let{taskObject:s}=e,{isOpen:n=!1}=e,a,r,i=!1,_=!1,o=7;const f=Ue();let p=s.notes||"";const g=ct.throttle(M=>{t(7,p=M.target.value),k()},500);function b({dayNumber:M}){s.repeatsOnDaysOfWeek||t(0,s.repeatsOnDaysOfWeek=[!1,!1,!1,!1,!1,!1,!1],s),t(0,s.repeatsOnDaysOfWeek[M-1]=!s.repeatsOnDaysOfWeek[M-1],s),f("task-repeat")}function k(){t(0,s.notes=p,s),f("task-notes-update")}function U(M){M.charCode===13&&(o?t(0,s.daysBeforeRepeating=o,s):(alert("Task is reset and will no longer repeat"),t(0,s.daysBeforeRepeating=0,s)),f("task-repeat"),t(6,o=0),t(5,_=!1))}function h(M){M.charCode===13&&(!a||!r?alert("Need BOTH date and time"):(t(0,s.startDate=a,s),t(0,s.startTime=r,s)),f("task-schedule"),t(2,a=""),t(3,r=""))}const D=()=>f("card-close"),R=()=>t(4,i=!0);function N(){a=this.value,t(2,a)}function z(){r=this.value,t(3,r)}function P(){p=this.value,t(7,p)}const d=()=>t(5,_=!0);function v(){o=this.value,t(6,o)}const w=()=>b({dayNumber:1}),y=()=>b({dayNumber:2}),V=()=>b({dayNumber:3}),L=()=>b({dayNumber:4}),J=()=>b({dayNumber:5}),Y=()=>b({dayNumber:6}),S=()=>b({dayNumber:7}),X=()=>f("task-delete"),q=()=>f("task-done");return l.$$set=M=>{"taskObject"in M&&t(0,s=M.taskObject),"isOpen"in M&&t(1,n=M.isOpen)},[s,n,a,r,i,_,o,p,f,g,b,U,h,D,R,N,z,P,d,v,w,y,V,L,J,Y,S,X,q]}class He extends we{constructor(e){super();Ee(this,e,It,Et,Ie,{taskObject:0,isOpen:1})}}function Ke(l,e,t){const s=l.slice();return s[44]=e[t],s[46]=t,s}function Xe(l){let e,t,s,n,a,r,i,_,o,f,p,g,b;function k(d,v){return d[3]?jt:Nt}let U=k(l),h=U(l);a=new He({props:{isOpen:l[2],taskObject:l[0]}}),a.$on("card-close",l[25]),a.$on("task-done",l[21]),a.$on("task-notes-update",l[26]),a.$on("task-repeat",l[27]),a.$on("task-schedule",l[28]);let D=l[5]&&Ge(l),R=l[0].children,N=[];for(let d=0;d<R.length;d+=1)N[d]=Ye(Ke(l,R,d));const z=d=>re(N[d],1,1,()=>{N[d]=null});let P=l[5]&&Le(l);return{c(){e=O("div"),t=O("div"),s=O("div"),h.c(),n=A(),ye(a.$$.fragment),r=A(),i=O("div"),D&&D.c(),_=A(),o=O("div");for(let d=0;d<N.length;d+=1)N[d].c();f=A(),P&&P.c(),this.h()},l(d){e=T(d,"DIV",{draggable:!0,class:!0,style:!0});var v=I(e);t=T(v,"DIV",{class:!0});var w=I(t);s=T(w,"DIV",{style:!0,class:!0});var y=I(s);h.l(y),y.forEach(c),n=F(w),De(a.$$.fragment,w),r=F(w),i=T(w,"DIV",{style:!0});var V=I(i);D&&D.l(V),V.forEach(c),w.forEach(c),_=F(v),o=T(v,"DIV",{style:!0});var L=I(o);for(let J=0;J<N.length;J+=1)N[J].l(L);f=F(L),P&&P.l(L),L.forEach(c),v.forEach(c),this.h()},h(){u(s,"font-size",1.5*.85**l[1]+"rem"),u(s,"font-family","aktiv-grotesk, sans-serif"),j(s,"class","keep-on-same-line name-of-task svelte-t4v7r0"),ee(s,"scheduled-orange",!l[0].isDone&&l[0].startTime&&l[0].startDate),ee(s,"crossed-out",l[0].isDone),u(i,"width",200*.9**l[1]+"px"),u(i,"height","100%"),j(t,"class","current-task-flexbox svelte-t4v7r0"),u(o,"margin-top",20*.7**l[1]+"px"),j(e,"draggable","true"),j(e,"class","scheduled-task svelte-t4v7r0"),u(e,"margin-left",(l[1]===1?"0":"20")+"px"),u(e,"margin-bottom","10px"),u(e,"width",350*.8**l[1]+"px"),u(e,"height",l[0].duration&&!l[13]&&l[0].duration*90/60>l[0].children.length*60*.7**l[1]&&l[0].duration*90/60>60*.65**l[1]?`${l[0].duration*90/60}px`:"100%"),u(e,"padding-left",10*.8**l[1]+"px"),ee(e,"black-duration-line",!l[0].isDone&&!(l[0].startTime&&l[0].startDate)),ee(e,"orange-duration-line",!l[0].isDone&&l[0].startTime&&l[0].startDate),ee(e,"green-duration-line",l[0].isDone)},m(d,v){W(d,e,v),m(e,t),m(t,s),h.m(s,null),m(t,n),Oe(a,t,null),m(t,r),m(t,i),D&&D.m(i,null),m(e,_),m(e,o);for(let w=0;w<N.length;w+=1)N[w].m(o,null);m(o,f),P&&P.m(o,null),p=!0,g||(b=[B(e,"dragstart",pt(l[39])),B(e,"pointerleave",l[20])],g=!0)},p(d,v){U===(U=k(d))&&h?h.p(d,v):(h.d(1),h=U(d),h&&(h.c(),h.m(s,null))),(!p||v[0]&2)&&u(s,"font-size",1.5*.85**d[1]+"rem"),v[0]&1&&ee(s,"scheduled-orange",!d[0].isDone&&d[0].startTime&&d[0].startDate),v[0]&1&&ee(s,"crossed-out",d[0].isDone);const w={};if(v[0]&4&&(w.isOpen=d[2]),v[0]&1&&(w.taskObject=d[0]),a.$set(w),d[5]?D?D.p(d,v):(D=Ge(d),D.c(),D.m(i,null)):D&&(D.d(1),D=null),(!p||v[0]&2)&&u(i,"width",200*.9**d[1]+"px"),v[0]&32771){R=d[0].children;let y;for(y=0;y<R.length;y+=1){const V=Ke(d,R,y);N[y]?(N[y].p(V,v),te(N[y],1)):(N[y]=Ye(V),N[y].c(),te(N[y],1),N[y].m(o,f))}for(je(),y=R.length;y<N.length;y+=1)z(y);Ne()}d[5]?P?P.p(d,v):(P=Le(d),P.c(),P.m(o,null)):P&&(P.d(1),P=null),(!p||v[0]&2)&&u(o,"margin-top",20*.7**d[1]+"px"),(!p||v[0]&2)&&u(e,"margin-left",(d[1]===1?"0":"20")+"px"),(!p||v[0]&2)&&u(e,"width",350*.8**d[1]+"px"),(!p||v[0]&8195)&&u(e,"height",d[0].duration&&!d[13]&&d[0].duration*90/60>d[0].children.length*60*.7**d[1]&&d[0].duration*90/60>60*.65**d[1]?`${d[0].duration*90/60}px`:"100%"),(!p||v[0]&2)&&u(e,"padding-left",10*.8**d[1]+"px"),v[0]&1&&ee(e,"black-duration-line",!d[0].isDone&&!(d[0].startTime&&d[0].startDate)),v[0]&1&&ee(e,"orange-duration-line",!d[0].isDone&&d[0].startTime&&d[0].startDate),v[0]&1&&ee(e,"green-duration-line",d[0].isDone)},i(d){if(!p){te(a.$$.fragment,d);for(let v=0;v<R.length;v+=1)te(N[v]);p=!0}},o(d){re(a.$$.fragment,d),N=N.filter(Boolean);for(let v=0;v<N.length;v+=1)re(N[v]);p=!1},d(d){d&&c(e),h.d(),Te(a),D&&D.d(),Ve(N,d),P&&P.d(),g=!1,ie(b)}}}function jt(l){let e,t,s;return{c(){e=O("input")},l(n){e=T(n,"INPUT",{})},m(n,a){W(n,e,a),ne(e,l[4]),t||(s=[B(e,"input",l[24]),B(e,"keypress",l[18])],t=!0)},p(n,a){a[0]&16&&e.value!==n[4]&&ne(e,n[4])},d(n){n&&c(e),t=!1,ie(s)}}}function Nt(l){let e,t=l[0].name+"",s,n,a;return{c(){e=O("div"),s=H(t),this.h()},l(r){e=T(r,"DIV",{class:!0,style:!0});var i=I(e);s=K(i,t),i.forEach(c),this.h()},h(){j(e,"class","truncate svelte-t4v7r0"),u(e,"width",350*.85**l[1]+"px")},m(r,i){W(r,e,i),m(e,s),n||(a=[B(e,"click",l[23]),B(e,"pointerenter",l[19])],n=!0)},p(r,i){i[0]&1&&t!==(t=r[0].name+"")&&de(s,t),i[0]&2&&u(e,"width",350*.85**r[1]+"px")},d(r){r&&c(e),n=!1,ie(a)}}}function Ge(l){let e;function t(a,r){if(!(a[6]||a[8]||Ut||a[12]))return Ct;if(a[8])return Wt;if(a[12])return Vt}let s=t(l),n=s&&s(l);return{c(){n&&n.c(),e=oe()},l(a){n&&n.l(a),e=oe()},m(a,r){n&&n.m(a,r),W(a,e,r)},p(a,r){s===(s=t(a))&&n?n.p(a,r):(n&&n.d(1),n=s&&s(a),n&&(n.c(),n.m(e.parentNode,e)))},d(a){n&&n.d(a),a&&c(e)}}}function Vt(l){let e,t,s,n,a,r,i,_;return{c(){e=O("div"),t=O("div"),s=H("Delete"),n=A(),a=O("div"),r=H("Cancel"),this.h()},l(o){e=T(o,"DIV",{style:!0});var f=I(e);t=T(f,"DIV",{});var p=I(t);s=K(p,"Delete"),p.forEach(c),n=F(f),a=T(f,"DIV",{});var g=I(a);r=K(g,"Cancel"),g.forEach(c),f.forEach(c),this.h()},h(){u(e,"display","flex"),u(e,"align-items","center"),u(e,"justify-content","space-evenly")},m(o,f){W(o,e,f),m(e,t),m(t,s),m(e,n),m(e,a),m(a,r),i||(_=[B(t,"click",l[22]),B(a,"click",l[32])],i=!0)},p:ae,d(o){o&&c(e),i=!1,ie(_)}}}function Wt(l){let e,t,s,n,a;return{c(){e=O("input"),t=A(),s=O("input"),this.h()},l(r){e=T(r,"INPUT",{placeholder:!0,style:!0}),t=F(r),s=T(r,"INPUT",{placeholder:!0,style:!0}),this.h()},h(){j(e,"placeholder","03/14"),u(e,"width","40px"),u(e,"margin-left","14px"),j(s,"placeholder","13:00"),u(s,"width","40px")},m(r,i){W(r,e,i),ne(e,l[9]),W(r,t,i),W(r,s,i),ne(s,l[10]),n||(a=[B(e,"input",l[29]),B(s,"input",l[30]),B(s,"keypress",l[17])],n=!0)},p(r,i){i[0]&512&&e.value!==r[9]&&ne(e,r[9]),i[0]&1024&&s.value!==r[10]&&ne(s,r[10])},d(r){r&&c(e),r&&c(t),r&&c(s),n=!1,ie(a)}}}function Ct(l){return{c:ae,l:ae,m:ae,p:ae,d:ae}}function Ye(l){let e,t;function s(...n){return l[33](l[46],...n)}return e=new Qe({props:{taskObject:l[44],depth:l[1]+1}}),e.$on("task-create",s),e.$on("task-done",l[34]),e.$on("task-delete",l[35]),e.$on("task-repeating",l[36]),{c(){ye(e.$$.fragment)},l(n){De(e.$$.fragment,n)},m(n,a){Oe(e,n,a),t=!0},p(n,a){l=n;const r={};a[0]&1&&(r.taskObject=l[44]),a[0]&2&&(r.depth=l[1]+1),e.$set(r)},i(n){t||(te(e.$$.fragment,n),t=!0)},o(n){re(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function Le(l){let e;function t(a,r){return a[6]?Rt:Bt}let s=t(l),n=s(l);return{c(){n.c(),e=oe()},l(a){n.l(a),e=oe()},m(a,r){n.m(a,r),W(a,e,r)},p(a,r){s===(s=t(a))&&n?n.p(a,r):(n.d(1),n=s(a),n&&(n.c(),n.m(e.parentNode,e)))},d(a){n.d(a),a&&c(e)}}}function Rt(l){let e,t,s,n;return{c(){e=O("div"),t=O("input"),this.h()},l(a){e=T(a,"DIV",{style:!0});var r=I(e);t=T(r,"INPUT",{placeholder:!0,style:!0}),r.forEach(c),this.h()},h(){j(t,"placeholder","Type sub-task"),u(t,"width","100%"),u(t,"margin-left","5px"),u(e,"display","flex"),u(e,"align-items","center"),u(e,"margin-left","20px")},m(a,r){W(a,e,r),m(e,t),ne(t,l[7]),s||(n=[B(t,"input",l[38]),B(t,"keypress",l[16])],s=!0)},p(a,r){r[0]&128&&t.value!==a[7]&&ne(t,a[7])},d(a){a&&c(e),s=!1,ie(n)}}}function Bt(l){let e,t,s,n,a;return{c(){e=O("div"),t=O("div"),s=H("new sub-task"),this.h()},l(r){e=T(r,"DIV",{style:!0});var i=I(e);t=T(i,"DIV",{style:!0});var _=I(t);s=K(_,"new sub-task"),_.forEach(c),i.forEach(c),this.h()},h(){u(t,"border-left","2px solid grey"),u(t,"color","grey"),u(t,"padding-left","5px"),u(t,"padding-bottom",8*.68**(l[1]+1)+"px"),u(t,"font-size",1.5*.85**(l[1]+1)+"rem"),u(e,"display","flex"),u(e,"align-items","center"),u(e,"margin-left","20px")},m(r,i){W(r,e,i),m(e,t),m(t,s),n||(a=B(t,"click",l[37]),n=!0)},p(r,i){i[0]&2&&u(t,"padding-bottom",8*.68**(r[1]+1)+"px"),i[0]&2&&u(t,"font-size",1.5*.85**(r[1]+1)+"rem")},d(r){r&&c(e),n=!1,a()}}}function St(l){let e,t,s=!l[0].isDeleted&&!l[0].isDone&&!(l[0].startTime&&l[0].startDate)&&Xe(l);return{c(){s&&s.c(),e=oe()},l(n){s&&s.l(n),e=oe()},m(n,a){s&&s.m(n,a),W(n,e,a),t=!0},p(n,a){!n[0].isDeleted&&!n[0].isDone&&!(n[0].startTime&&n[0].startDate)?s?(s.p(n,a),a[0]&1&&te(s,1)):(s=Xe(n),s.c(),te(s,1),s.m(e.parentNode,e)):s&&(je(),re(s,1,1,()=>{s=null}),Ne())},i(n){t||(te(s),t=!0)},o(n){re(s),t=!1},d(n){s&&s.d(n),n&&c(e)}}}let Ut=!1;function Pt(l,e){l.dataTransfer.setData("text/plain",e)}function Mt(l,e,t){let s,{taskObject:n}=e,{depth:a}=e,r=!1;const i=Ue();let _=!1,o="",f=!1,p=!1,g="",b=!1,k="",U="",h=0,D=!1;function R(E,Q){const x=Ae({},n.children[Q]);x.children=E.detail.updatedChildren;const le=[...n.children];le[Q]=x,v(le)}function N(E){E.charCode===13&&(g&&d(g),t(7,g=""),t(6,p=!1))}function z(E){E.charCode===13&&(k.length!==5||U.length!==5?(alert("Formats must be exact - date is mm:dd and time is hh:mm, resetting"),t(0,n.startDate="",n),t(0,n.scheduledTime="",n)):(t(0,n.startDate=k,n),t(0,n.startTime=U,n)),i("task-done",{}),t(8,b=!1))}function P(E){if(E.charCode===13){if(!o){alert("Task name can't be empty.");return}t(0,n.name=o,n),i("task-done",{}),t(4,o=""),t(3,_=!1)}}function d(E){v([...n.children,{name:E,children:[]}])}function v(E){i("task-create",{updatedChildren:E})}function w(){t(5,f=!0)}function y(){t(5,f=!1)}function V(){t(0,n.isDone=!n.isDone,n),n.isRepeating&&(n.isDone?(t(0,n.completionCount=n.completionCount+1||1,n),t(0,n.lastCompletionDate=We(),n)):(t(0,n.completionCount=n.completionCount-1||0,n),t(0,n.lastCompletionDate="",n))),i("task-done",{})}function L(){t(0,n.isDeleted=!n.isDeleted,n),console.log("taskObject.deleted =",n.isDeleted),i("task-delete",{})}const J=()=>t(2,r=!0);function Y(){o=this.value,t(4,o)}const S=()=>t(2,r=!1),X=()=>i("task-done"),q=()=>i("task-done"),M=()=>i("task-done");function ue(){k=this.value,t(9,k)}function se(){U=this.value,t(10,U)}function G(){h=this.value,t(11,h)}const Z=()=>t(12,D=!1),fe=(E,Q)=>R(Q,E);function ce(E){Pe.call(this,l,E)}function pe(E){Pe.call(this,l,E)}function ge(E){Pe.call(this,l,E)}const be=()=>t(6,p=!0);function me(){g=this.value,t(7,g)}const C=E=>Pt(E,n.name);return l.$$set=E=>{"taskObject"in E&&t(0,n=E.taskObject),"depth"in E&&t(1,a=E.depth)},l.$$.update=()=>{l.$$.dirty[0]&1&&t(13,s=n.children.filter(E=>E.duration).length>0)},[n,a,r,_,o,f,p,g,b,k,U,h,D,s,i,R,N,z,P,w,y,V,L,J,Y,S,X,q,M,ue,se,G,Z,fe,ce,pe,ge,be,me,C]}class Qe extends we{constructor(e){super();Ee(this,e,Mt,St,Ie,{taskObject:0,depth:1},null,[-1,-1])}}function Je(l,e,t){const s=l.slice();return s[19]=e[t],s[21]=t,s}function Ze(l,e,t){const s=l.slice();return s[22]=e[t],s[21]=t,s}function $e(l){let e,t=l[22].substring(0,5)+"",s;return{c(){e=O("div"),s=H(t),this.h()},l(n){e=T(n,"DIV",{class:!0,style:!0});var a=I(e);s=K(a,t),a.forEach(c),this.h()},h(){j(e,"class","time-indicator svelte-x8u2ov"),u(e,"top",30+60*l[21]+"px")},m(n,a){W(n,e,a),m(e,s)},p:ae,d(n){n&&c(e)}}}function xe(l){let e,t,s=l[19].name+"",n,a,r,i,_,o,f,p;function g(...h){return l[9](l[19],...h)}function b(...h){return l[10](l[19],...h)}function k(...h){return l[12](l[19],...h)}function U(){return l[13](l[19])}return{c(){e=O("div"),t=O("div"),n=H(s),a=A(),r=O("div"),i=A(),_=O("div"),o=A(),this.h()},l(h){e=T(h,"DIV",{class:!0,style:!0});var D=I(e);t=T(D,"DIV",{draggable:!0,style:!0,class:!0});var R=I(t);n=K(R,s),R.forEach(c),a=F(D),r=T(D,"DIV",{style:!0,draggable:!0,class:!0});var N=I(r);N.forEach(c),i=F(D),_=T(D,"DIV",{draggable:!0,style:!0,class:!0});var z=I(_);z.forEach(c),o=F(D),D.forEach(c),this.h()},h(){j(t,"draggable","true"),u(t,"width","11vw"),j(t,"class","svelte-x8u2ov"),u(r,"height",l[19].duration*l[3]-20-10+"px"),u(r,"width","11vw"),j(r,"draggable","true"),j(r,"class","svelte-x8u2ov"),j(_,"draggable","true"),u(_,"height","8px"),u(_,"width","11vw"),u(_,"position","absolute"),u(_,"bottom","0"),u(_,"left","-3px"),u(_,"cursor","ns-resize"),j(_,"class","svelte-x8u2ov"),j(e,"class","scheduled-task svelte-x8u2ov"),u(e,"top",l[4](l[19])+"px"),u(e,"height",(l[19].duration*l[3]||30)+"px"),u(e,"left","30px")},m(h,D){W(h,e,D),m(e,t),m(t,n),m(e,a),m(e,r),m(e,i),m(e,_),m(e,o),f||(p=[B(t,"dragstart",g),B(r,"dragstart",b),B(_,"dragstart",l[11]),B(_,"dragend",k),B(e,"click",U)],f=!0)},p(h,D){l=h,D&1&&s!==(s=l[19].name+"")&&de(n,s),D&1&&u(r,"height",l[19].duration*l[3]-20-10+"px"),D&1&&u(e,"top",l[4](l[19])+"px"),D&1&&u(e,"height",(l[19].duration*l[3]||30)+"px")},d(h){h&&c(e),f=!1,ie(p)}}}function qt(l){let e,t,s,n=l[1]()+"",a,r,i,_,o,f=l[2],p=[];for(let k=0;k<f.length;k+=1)p[k]=$e(Ze(l,f,k));let g=l[0],b=[];for(let k=0;k<g.length;k+=1)b[k]=xe(Je(l,g,k));return{c(){e=O("div"),t=O("div"),s=O("div"),a=H(n),r=A();for(let k=0;k<p.length;k+=1)p[k].c();i=A();for(let k=0;k<b.length;k+=1)b[k].c();this.h()},l(k){e=T(k,"DIV",{style:!0,class:!0});var U=I(e);t=T(U,"DIV",{id:!0,style:!0,class:!0});var h=I(t);s=T(h,"DIV",{style:!0,class:!0});var D=I(s);a=K(D,n),D.forEach(c),r=F(h);for(let R=0;R<p.length;R+=1)p[R].l(h);i=F(h);for(let R=0;R<b.length;R+=1)b[R].l(h);h.forEach(c),U.forEach(c),this.h()},h(){u(s,"margin-top","6px"),j(s,"class","svelte-x8u2ov"),j(t,"id","calendar-day-container"),u(t,"position","relative"),u(t,"width","12vw"),u(t,"height","1000px"),j(t,"class","svelte-x8u2ov"),u(e,"overflow-y","scroll"),u(e,"overflow-x","hidden"),u(e,"height","77vh"),j(e,"class","svelte-x8u2ov")},m(k,U){W(k,e,U),m(e,t),m(t,s),m(s,a),m(t,r);for(let h=0;h<p.length;h+=1)p[h].m(t,null);m(t,i);for(let h=0;h<b.length;h+=1)b[h].m(t,null);_||(o=[B(t,"drop",l[14]),B(t,"dragover",zt)],_=!0)},p(k,[U]){if(U&4){f=k[2];let h;for(h=0;h<f.length;h+=1){const D=Ze(k,f,h);p[h]?p[h].p(D,U):(p[h]=$e(D),p[h].c(),p[h].m(t,i))}for(;h<p.length;h+=1)p[h].d(1);p.length=f.length}if(U&441){g=k[0];let h;for(h=0;h<g.length;h+=1){const D=Je(k,g,h);b[h]?b[h].p(D,U):(b[h]=xe(D),b[h].c(),b[h].m(t,null))}for(;h<b.length;h+=1)b[h].d(1);b.length=g.length}},i:ae,o:ae,d(k){k&&c(e),Ve(p,k),Ve(b,k),_=!1,ie(o)}}}function et(l,e){l.dataTransfer.setData("text/plain",e)}function zt(l){l.preventDefault(),l.dataTransfer.dropEffect="move"}function At(l,e,t){let{scheduledTasks:s}=e;const n=Ue(),a=We;let r=[],i=90/60,_=0,o="";function f(){const d=new Date,v=d.getHours()*60;for(const y of s){const V=y.startTime.substring(0,2),L=parseInt(V)*60,J=L+y.duration;L<v&&v<J&&(o=`${V}:00`)}o||(o=`${d.toLocaleTimeString().substring(0,2)}:00`);let w=d.getHours();for(let y=0;y<16;y++)w===24&&(w=0),w<10?r.push("0"+w+":00"):r.push(w+":00"),w+=1}f();function p({startTime:d}){const v=d.slice(0,2),w=d.slice(3,5);return(Number(v)+Number(w)/60-parseInt(o.substring(0,2)))*90}function g(d){n("task-click",{task:d})}function b(d){console.log("drop detected"),d.preventDefault();var w=document.getElementById("calendar-day-container").getBoundingClientRect();w.left,w.top;const y=90;let V=d.layerY/y;const L=V-Math.floor(V),J=Math.trunc(V);let Y=L*60,S;Y<10?S=`0${Y.toPrecision(1)}`:S=Y.toPrecision(2);let q=parseInt(o.substring(0,2))+J;q<10&&(q=`0${q}`);const M=`${q}:${S}`;console.log("scheduledTime =",M),n("task-scheduled",{taskName:d.dataTransfer.getData("text/plain"),timeOfDay:M,dateScheduled:a()})}function k(d){_=d.offsetY}function U(d,v){v.duration||(v.duration=10);const w=60/90,y=(d.offsetY-_)*w;n("task-duration-adjusted",{taskName:v.name,duration:Math.max(1,v.duration+y)})}const h=(d,v)=>et(v,d.name),D=(d,v)=>et(v,d.name),R=d=>k(d),N=(d,v)=>U(v,d),z=d=>g(d),P=d=>b(d);return l.$$set=d=>{"scheduledTasks"in d&&t(0,s=d.scheduledTasks)},[s,a,r,i,p,g,b,k,U,h,D,R,N,z,P]}class Ft extends we{constructor(e){super();Ee(this,e,At,qt,Ie,{scheduledTasks:0})}}function tt(l,e,t){const s=l.slice();return s[1]=e[t],s[3]=t,s}function lt(l){let e,t=l[1].startDate+"",s,n,a,r=l[1].name+"",i,_,o;return{c(){e=O("div"),s=H(t),n=A(),a=O("div"),i=H(r),_=A(),o=O("div"),this.h()},l(f){e=T(f,"DIV",{style:!0,class:!0});var p=I(e);s=K(p,t),p.forEach(c),n=F(f),a=T(f,"DIV",{class:!0,style:!0});var g=I(a);i=K(g,r),g.forEach(c),_=F(f),o=T(f,"DIV",{class:!0,style:!0});var b=I(o);b.forEach(c),this.h()},h(){u(e,"position","absolute"),u(e,"top",100*l[3]+"px"),j(e,"class","svelte-ko0je8"),j(a,"class","scheduled-task svelte-ko0je8"),u(a,"top",20+100*l[3]+"px"),u(a,"height",30+"px"),u(a,"border-left","2px solid red"),j(o,"class","scheduled-task svelte-ko0je8"),u(o,"top",70+100*l[3]+"px"),u(o,"height",15+"px"),u(o,"border-left","2px dashed black")},m(f,p){W(f,e,p),m(e,s),W(f,n,p),W(f,a,p),m(a,i),W(f,_,p),W(f,o,p)},p(f,p){p&1&&t!==(t=f[1].startDate+"")&&de(s,t),p&1&&r!==(r=f[1].name+"")&&de(i,r)},d(f){f&&c(e),f&&c(n),f&&c(a),f&&c(_),f&&c(o)}}}function Ht(l){let e,t,s=l[0],n=[];for(let a=0;a<s.length;a+=1)n[a]=lt(tt(l,s,a));return{c(){e=O("div"),t=O("div");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){e=T(a,"DIV",{style:!0,class:!0});var r=I(e);t=T(r,"DIV",{style:!0,class:!0});var i=I(t);for(let _=0;_<n.length;_+=1)n[_].l(i);i.forEach(c),r.forEach(c),this.h()},h(){u(t,"width","12vw"),u(t,"margin-left","0px"),u(t,"margin-top","6px"),u(t,"position","relative"),u(t,"height","1600px"),j(t,"class","svelte-ko0je8"),u(e,"height","77vh"),u(e,"overflow-y","scroll"),u(e,"overflow-x","hidden"),j(e,"class","svelte-ko0je8")},m(a,r){W(a,e,r),m(e,t);for(let i=0;i<n.length;i+=1)n[i].m(t,null)},p(a,[r]){if(r&1){s=a[0];let i;for(i=0;i<s.length;i+=1){const _=tt(a,s,i);n[i]?n[i].p(_,r):(n[i]=lt(_),n[i].c(),n[i].m(t,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=s.length}},i:ae,o:ae,d(a){a&&c(e),Ve(n,a)}}}function Kt(l,e,t){let{futureScheduledTasks:s}=e;return l.$$set=n=>{"futureScheduledTasks"in n&&t(0,s=n.futureScheduledTasks)},[s]}class Xt extends we{constructor(e){super();Ee(this,e,Kt,Ht,Ie,{futureScheduledTasks:0})}}const Gt={apiKey:"AIzaSyCOVm0X6UUQQcftXf066z_0hFk497j4dNY",authDomain:"project-y-2a061.firebaseapp.com",projectId:"project-y-2a061",storageBucket:"project-y-2a061.appspot.com",messagingSenderId:"132745397287",appId:"1:132745397287:web:b34052fb4683bc85e73a02",measurementId:"G-EZSLE84PYQ"};ht(Gt);var _e=_t();function st(l,e,t){const s=l.slice();return s[43]=e[t],s}function nt(l){let e,t,s,n,a,r=l[0],i=[];for(let f=0;f<r.length;f+=1)i[f]=rt(st(l,r,f));const _=f=>re(i[f],1,1,()=>{i[f]=null});let o=l[7]&&it(l);return{c(){for(let f=0;f<i.length;f+=1)i[f].c();e=A(),t=O("div"),o&&o.c(),this.h()},l(f){for(let g=0;g<i.length;g+=1)i[g].l(f);e=F(f),t=T(f,"DIV",{style:!0,class:!0});var p=I(t);o&&o.l(p),p.forEach(c),this.h()},h(){u(t,"height","100px"),j(t,"class","svelte-1agrjel")},m(f,p){for(let g=0;g<i.length;g+=1)i[g].m(f,p);W(f,e,p),W(f,t,p),o&&o.m(t,null),s=!0,n||(a=[B(t,"mouseenter",l[23]),B(t,"mouseleave",l[24])],n=!0)},p(f,p){if(p[0]&393217){r=f[0];let g;for(g=0;g<r.length;g+=1){const b=st(f,r,g);i[g]?(i[g].p(b,p),te(i[g],1)):(i[g]=rt(b),i[g].c(),te(i[g],1),i[g].m(e.parentNode,e))}for(je(),g=r.length;g<i.length;g+=1)_(g);Ne()}f[7]?o?o.p(f,p):(o=it(f),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},i(f){if(!s){for(let p=0;p<r.length;p+=1)te(i[p]);s=!0}},o(f){i=i.filter(Boolean);for(let p=0;p<i.length;p+=1)re(i[p]);s=!1},d(f){Ve(i,f),f&&c(e),f&&c(t),o&&o.d(),n=!1,ie(a)}}}function at(l){let e,t,s,n;function a(...r){return l[20](l[43],...r)}return t=new Qe({props:{taskObject:l[43],depth:1}}),t.$on("task-create",a),t.$on("task-done",l[18]),t.$on("task-delete",l[18]),t.$on("task-repeating",l[18]),{c(){e=O("div"),ye(t.$$.fragment),s=A(),this.h()},l(r){e=T(r,"DIV",{class:!0});var i=I(e);De(t.$$.fragment,i),s=F(i),i.forEach(c),this.h()},h(){j(e,"class","task-container svelte-1agrjel")},m(r,i){W(r,e,i),Oe(t,e,null),m(e,s),n=!0},p(r,i){l=r;const _={};i[0]&1&&(_.taskObject=l[43]),t.$set(_)},i(r){n||(te(t.$$.fragment,r),n=!0)},o(r){re(t.$$.fragment,r),n=!1},d(r){r&&c(e),Te(t)}}}function rt(l){let e,t,s=!l[43].isDeleted&&at(l);return{c(){s&&s.c(),e=oe()},l(n){s&&s.l(n),e=oe()},m(n,a){s&&s.m(n,a),W(n,e,a),t=!0},p(n,a){n[43].isDeleted?s&&(je(),re(s,1,1,()=>{s=null}),Ne()):s?(s.p(n,a),a[0]&1&&te(s,1)):(s=at(n),s.c(),te(s,1),s.m(e.parentNode,e))},i(n){t||(te(s),t=!0)},o(n){re(s),t=!1},d(n){s&&s.d(n),n&&c(e)}}}function it(l){let e;function t(a,r){return a[6]?Yt:Lt}let s=t(l),n=s(l);return{c(){n.c(),e=oe()},l(a){n.l(a),e=oe()},m(a,r){n.m(a,r),W(a,e,r)},p(a,r){s===(s=t(a))&&n?n.p(a,r):(n.d(1),n=s(a),n&&(n.c(),n.m(e.parentNode,e)))},d(a){n.d(a),a&&c(e)}}}function Yt(l){let e,t,s,n;return{c(){e=O("div"),t=O("input"),this.h()},l(a){e=T(a,"DIV",{style:!0,class:!0});var r=I(e);t=T(r,"INPUT",{placeholder:!0,class:!0}),r.forEach(c),this.h()},h(){j(t,"placeholder","Type task..."),j(t,"class","svelte-1agrjel"),u(e,"display","flex"),u(e,"align-content","center"),u(e,"justify-items","center"),j(e,"class","svelte-1agrjel")},m(a,r){W(a,e,r),m(e,t),ne(t,l[5]),s||(n=[B(t,"input",l[22]),B(t,"keypress",l[16])],s=!0)},p(a,r){r[0]&32&&t.value!==a[5]&&ne(t,a[5])},d(a){a&&c(e),s=!1,ie(n)}}}function Lt(l){let e,t,s,n;return{c(){e=O("div"),t=H("New task"),this.h()},l(a){e=T(a,"DIV",{style:!0,class:!0});var r=I(e);t=K(r,"New task"),r.forEach(c),this.h()},h(){u(e,"font-size","1.5rem"),u(e,"color","grey"),j(e,"class","svelte-1agrjel")},m(a,r){W(a,e,r),m(e,t),s||(n=B(e,"click",l[21]),s=!0)},p:ae,d(a){a&&c(e),s=!1,n()}}}function Qt(l){let e,t,s,n,a,r=(l[3]?"music_note":"music_off")+"",i,_,o,f,p,g,b,k,U,h,D,R,N,z,P,d,v,w=l[0]&&nt(l);return k=new He({props:{isOpen:l[8],taskObject:l[9]}}),k.$on("card-close",l[25]),k.$on("task-done",l[26]),k.$on("task-delete",l[27]),h=new Ft({props:{scheduledTasks:l[4]}}),h.$on("task-scheduled",l[28]),h.$on("task-duration-adjusted",l[29]),h.$on("task-click",l[30]),R=new Xt({props:{futureScheduledTasks:l[1]}}),{c(){e=O("div"),t=O("div"),s=A(),n=O("div"),a=O("span"),i=H(r),_=A(),o=O("div"),f=O("div"),p=O("div"),w&&w.c(),g=A(),b=O("div"),ye(k.$$.fragment),U=A(),ye(h.$$.fragment),D=A(),ye(R.$$.fragment),N=A(),z=O("audio"),this.h()},l(y){e=T(y,"DIV",{id:!0,style:!0,class:!0});var V=I(e);t=T(V,"DIV",{style:!0,class:!0}),I(t).forEach(c),s=F(V),n=T(V,"DIV",{style:!0,class:!0});var L=I(n);a=T(L,"SPAN",{class:!0,style:!0});var J=I(a);i=K(J,r),J.forEach(c),L.forEach(c),_=F(V),o=T(V,"DIV",{style:!0,class:!0});var Y=I(o);f=T(Y,"DIV",{class:!0,style:!0});var S=I(f);p=T(S,"DIV",{class:!0});var X=I(p);w&&w.l(X),X.forEach(c),S.forEach(c),g=F(Y),b=T(Y,"DIV",{style:!0,class:!0});var q=I(b);De(k.$$.fragment,q),U=F(q),De(h.$$.fragment,q),D=F(q),De(R.$$.fragment,q),q.forEach(c),Y.forEach(c),V.forEach(c),N=F(y),z=T(y,"AUDIO",{class:!0}),I(z).forEach(c),this.h()},h(){u(t,"height","100px"),j(t,"class","svelte-1agrjel"),j(a,"class","material-icons svelte-1agrjel"),u(a,"margin-left","auto"),u(a,"margin-right","0"),u(a,"color","white"),u(n,"position","absolute"),u(n,"top","30px"),u(n,"left","30px"),j(n,"class","svelte-1agrjel"),j(p,"class","todo-list svelte-1agrjel"),j(f,"class","fixed-height-container-for-scrolling svelte-1agrjel"),u(f,"background-color","white"),u(f,"border","2px solid green"),u(f,"border-top-left-radius","20px"),u(f,"border-bottom-left-radius","20px"),u(b,"display","flex"),u(b,"justify-content","space-evenly"),u(b,"width","30vw"),u(b,"border-left","2px dashed grey"),u(b,"background-color","white"),u(b,"border","2px solid green"),u(b,"border-top-right-radius","20px"),u(b,"border-bottom-right-radius","20px"),j(b,"class","svelte-1agrjel"),u(o,"display","flex"),u(o,"padding-left","0"),u(o,"padding-top","10px"),j(o,"class","svelte-1agrjel"),j(e,"id","background-image-holder"),u(e,"height","100vh"),u(e,"padding-left","120px"),u(e,"padding-right","120px"),j(e,"class","svelte-1agrjel"),j(z,"class","svelte-1agrjel")},m(y,V){W(y,e,V),m(e,t),m(e,s),m(e,n),m(n,a),m(a,i),m(e,_),m(e,o),m(o,f),m(f,p),w&&w.m(p,null),m(o,g),m(o,b),Oe(k,b,null),m(b,U),Oe(h,b,null),m(b,D),Oe(R,b,null),W(y,N,V),W(y,z,V),l[31](z),P=!0,d||(v=B(n,"click",l[11]),d=!0)},p(y,V){(!P||V[0]&8)&&r!==(r=(y[3]?"music_note":"music_off")+"")&&de(i,r),y[0]?w?(w.p(y,V),V[0]&1&&te(w,1)):(w=nt(y),w.c(),te(w,1),w.m(p,null)):w&&(je(),re(w,1,1,()=>{w=null}),Ne());const L={};V[0]&256&&(L.isOpen=y[8]),V[0]&512&&(L.taskObject=y[9]),k.$set(L);const J={};V[0]&16&&(J.scheduledTasks=y[4]),h.$set(J);const Y={};V[0]&2&&(Y.futureScheduledTasks=y[1]),R.$set(Y)},i(y){P||(te(w),te(k.$$.fragment,y),te(h.$$.fragment,y),te(R.$$.fragment,y),P=!0)},o(y){re(w),re(k.$$.fragment,y),re(h.$$.fragment,y),re(R.$$.fragment,y),P=!1},d(y){y&&c(e),w&&w.d(),Te(k),Te(h),Te(R),y&&c(N),y&&c(z),l[31](null),d=!1,v()}}}function ot(l){return Math.floor(Math.random()*l)}function Ce({node:l,fulfilsCriteria:e,applyFunc:t}){e(l)&&t(l);for(const s of l.children)Ce({node:s,fulfilsCriteria:e,applyFunc:t})}function Jt(l,e,t){let s,n=["illiyard-moor.mp3","ms-leafre-lofi.mp3"],a,r=!1,i=["https://i.imgur.com/rzkUMW8.jpeg","https://i.imgur.com/ShnqIpJ.jpeg"],_;mt(()=>{_=i[ot(2)];const C=document.getElementById("background-image-holder");C.style["background-image"]=`url(${_})`,s=n[ot(2)],console.log("chosenAudio =",s),t(2,a.src=s,a)});let o=null,f="",p=We(),g=[],b=[],k="",U=!1,h=!1,D=!1,R={};function N({task:C}){t(9,R=C),t(8,D=!0)}function z(){t(2,a.volume=.1,a),a.paused?(a.play(),t(3,r=!0)):(a.pause(),t(3,r=!1))}function P(){t(4,g=[]);for(const C of o)Ce({node:C,fulfilsCriteria:E=>E.startDate===We()&&E.startTime,applyFunc:E=>g.push(E)})}function d(){t(1,b=[]);for(const C of o)Ce({node:C,fulfilsCriteria:E=>E.startDate&&E.startTime&&E.startDate>We(),applyFunc:E=>b.push(E)})}async function v(C){for(const E of o)Ce({node:E,fulfilsCriteria:Q=>Q.name===C,applyFunc:Q=>Q.isDone=!0});await ve(he(_e,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:o}),console.log("updated")}async function w(C){Ce({node:{name:"root",children:o},fulfilsCriteria:Q=>Q.children.filter(x=>x.name===C).length>=1,applyFunc:Q=>{let x;for(let le=0;le<Q.children.length;le++)if(Q.children[le]===C){x=le;break}Q.children.splice(x,1)}}),await ve(he(_e,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:o}),t(0,o=[...o])}async function y({taskName:C,timeOfDay:E,dateScheduled:Q}){function x(le){if(le.name===C)return le.startTime=E,le.startDate=Q,!0;for(const $ of le.children)if(x($))return!0;return!1}for(const le of o)if(x(le)){console.log("successfully mutated allTasks, =",o);break}await ve(he(_e,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:o}),t(0,o=[...o])}async function V({taskName:C,duration:E}){function Q(x){if(x.name===C)return x.duration=E,!0;for(const le of x.children)if(Q(le))return!0;return!1}for(const x of o)if(Q(x)){console.log("successfully mutated allTasks, =",o);break}await ve(he(_e,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:o}),t(0,o=[...o])}async function L(){const C=await kt(he(_e,"users/GxBbopqXHW0qgjKEwU4z"));t(0,o=C.data().allTasks),t(19,f=C.data().lastRanRepeatAtDate)}L();function J(C){C.charCode===13&&Y()}function Y(){k||alert("You have to type something first");const C=[...o,{name:k,duration:15,children:[]}];ve(he(_e,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:C}),t(0,o=[...C]),t(5,k=""),isTypingNewTask=!1}function S(C,E){const{updatedChildren:Q}=C.detail;E.children=[...Q],ve(he(_e,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:o}),t(0,o=[...o])}function X(){console.log("updateFirestore()"),ve(he(_e,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:o}),t(0,o=[...o])}const q=(C,E)=>S(E,C),M=()=>t(6,U=!0);function ue(){k=this.value,t(5,k)}const se=()=>t(7,h=!0),G=()=>t(7,h=!1),Z=()=>t(8,D=!1),fe=()=>v(R.name),ce=()=>w(R.name),pe=C=>y(C.detail),ge=C=>V(C.detail),be=C=>N(C.detail);function me(C){vt[C?"unshift":"push"](()=>{a=C,t(2,a)})}return l.$$.update=()=>{if(l.$$.dirty[0]&524291&&o&&(console.log("collecting scheduled tasks to be displayed..."),P(),d(),b.sort((C,E)=>{const Q=new Date(C.startDate),x=new Date(E.startDate);return Q.getTime()-x.getTime()}),o.sort((C,E)=>!!C.isDone-!!E.isDone),f!==p)){let Q=function($){$.repeatsOnDaysOfWeek&&$.repeatsOnDaysOfWeek[C.getDay()]&&$.lastCompletionDate!==p&&($.isDone=!1,$.startDate=p,$.startTime||E.push($));for(const ke of $.children)Q(ke)},x=function($){if($.daysBeforeRepeating){const ke=new Date(`node.lastCompletionDate/${2022}`),Se=new Date().getTime()-ke.getTime();Math.ceil(Se/(1e3*3600*24))>=$.daysBeforeRepeating&&($.isDone=!1,$.startDate=p,E.push($))}for(const ke of $.children)x(ke)};console.log("running repeating task algorithm");const C=new Date,E=[];for(const $ of o)Q($);for(const $ of o)x($);console.log("pool for resolve conflict =",E);let le=1440;for(const $ of E){le-=$.duration||5;const ke=le/60,Be=parseInt(ke),Se=ke-Be,Me=Be;let Re=Math.round(Se*60);Re<10&&(Re=`0${Re}`),$.startTime=`${Me}:${Re}`,console.log(`habit ${$.name} starts =`,$.startTime)}ve(he(_e,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:o,lastRanRepeatAtDate:p}),t(0,o=[...o])}},[o,b,a,r,g,k,U,h,D,R,N,z,v,w,y,V,J,S,X,f,q,M,ue,se,G,Z,fe,ce,pe,ge,be,me]}class xt extends we{constructor(e){super();Ee(this,e,Jt,Qt,Ie,{},null,[-1,-1])}}export{xt as default};
