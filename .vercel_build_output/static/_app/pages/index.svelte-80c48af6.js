var st=Object.defineProperty,nt=Object.defineProperties;var at=Object.getOwnPropertyDescriptors;var ge=Object.getOwnPropertySymbols;var it=Object.prototype.hasOwnProperty,rt=Object.prototype.propertyIsEnumerable;var ke=(n,e,t)=>e in n?st(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,fe=(n,e)=>{for(var t in e||(e={}))it.call(e,t)&&ke(n,t,e[t]);if(ge)for(var t of ge(e))rt.call(e,t)&&ke(n,t,e[t]);return n},ve=(n,e)=>nt(n,at(e));import{S as ue,i as de,s as ce,e as w,k as q,c as E,a as C,d as D,m as P,b as I,f as m,L as G,g as j,J as y,M as N,N as ot,l as Y,q as U,w as se,x as ne,y as ae,o as H,B as ie,n as L,p as J,O as Z,P as M,Q as De,R as A,t as R,h as S,j as $,K as re,T as he,U as ft,V as ut,W as x,X as F,Y as dt}from"../chunks/vendor-24794758.js";function pe(){const n=new Date;let e=n.getDate(),t=n.getMonth()+1;return e<10&&(e="0"+e),t<10&&(t="0"+t),`${t}/${e}`}function be(){const n=new Date,e=new Date(n);e.setDate(e.getDate()+1);let t=e.getDate(),l=e.getMonth()+1;return t<10&&(t="0"+t),l<10&&(l="0"+l),`${l}/${t}`}function ye(n,e,t){const l=n.slice();return l[43]=e[t],l[45]=t,l}function Te(n){let e,t,l,s,a,i,o,g,h,u;function _(d,c){return d[2]?ct:ht}let r=_(n),f=r(n),T=n[4]&&je(n),v=n[0].children,p=[];for(let d=0;d<v.length;d+=1)p[d]=ze(ye(n,v,d));const k=d=>H(p[d],1,1,()=>{p[d]=null});return{c(){e=w("div"),t=w("div"),l=w("div"),f.c(),s=q(),a=w("div"),T&&T.c(),i=q(),o=w("div");for(let d=0;d<p.length;d+=1)p[d].c();this.h()},l(d){e=E(d,"DIV",{draggable:!0,class:!0,style:!0});var c=C(e);t=E(c,"DIV",{class:!0});var b=C(t);l=E(b,"DIV",{class:!0,style:!0});var O=C(l);f.l(O),O.forEach(D),s=P(b),a=E(b,"DIV",{style:!0});var B=C(a);T&&T.l(B),B.forEach(D),b.forEach(D),i=P(c),o=E(c,"DIV",{style:!0});var z=C(o);for(let K=0;K<p.length;K+=1)p[K].l(z);z.forEach(D),c.forEach(D),this.h()},h(){I(l,"class","keep-on-same-line name-of-task svelte-1mgzq9h"),m(l,"font-size",5*.65**n[1]+"rem"),G(l,"scheduled-orange",!n[0].isDone&&n[0].startTime&&n[0].startDate),G(l,"crossed-out",n[0].isDone),m(a,"width",200*.9**n[1]+"px"),m(a,"height","100%"),I(t,"class","current-task-flexbox svelte-1mgzq9h"),m(o,"margin-top",60*.65**n[1]+"px"),I(e,"draggable","true"),I(e,"class","scheduled-task svelte-1mgzq9h"),m(e,"margin-left","20px"),m(e,"margin-bottom","10px"),m(e,"width","100%"),m(e,"height",n[0].duration&&!n[13]&&n[0].duration*90/60>n[0].children.length*60*.7**n[1]&&n[0].duration*90/60>60*.65**n[1]?`${n[0].duration*90/60}px`:"100%"),G(e,"black-duration-line",!n[0].isDone&&!(n[0].startTime&&n[0].startDate)),G(e,"orange-duration-line",!n[0].isDone&&n[0].startTime&&n[0].startDate),G(e,"green-duration-line",n[0].isDone)},m(d,c){j(d,e,c),y(e,t),y(t,l),f.m(l,null),y(t,s),y(t,a),T&&T.m(a,null),y(e,i),y(e,o);for(let b=0;b<p.length;b+=1)p[b].m(o,null);g=!0,h||(u=[N(e,"dragstart",ot(n[38])),N(e,"pointerenter",n[20]),N(e,"pointerleave",n[21])],h=!0)},p(d,c){if(r===(r=_(d))&&f?f.p(d,c):(f.d(1),f=r(d),f&&(f.c(),f.m(l,null))),(!g||c[0]&2)&&m(l,"font-size",5*.65**d[1]+"rem"),c[0]&1&&G(l,"scheduled-orange",!d[0].isDone&&d[0].startTime&&d[0].startDate),c[0]&1&&G(l,"crossed-out",d[0].isDone),d[4]?T?T.p(d,c):(T=je(d),T.c(),T.m(a,null)):T&&(T.d(1),T=null),(!g||c[0]&2)&&m(a,"width",200*.9**d[1]+"px"),c[0]&16387){v=d[0].children;let b;for(b=0;b<v.length;b+=1){const O=ye(d,v,b);p[b]?(p[b].p(O,c),U(p[b],1)):(p[b]=ze(O),p[b].c(),U(p[b],1),p[b].m(o,null))}for(L(),b=v.length;b<p.length;b+=1)k(b);J()}(!g||c[0]&2)&&m(o,"margin-top",60*.65**d[1]+"px"),(!g||c[0]&8195)&&m(e,"height",d[0].duration&&!d[13]&&d[0].duration*90/60>d[0].children.length*60*.7**d[1]&&d[0].duration*90/60>60*.65**d[1]?`${d[0].duration*90/60}px`:"100%"),c[0]&1&&G(e,"black-duration-line",!d[0].isDone&&!(d[0].startTime&&d[0].startDate)),c[0]&1&&G(e,"orange-duration-line",!d[0].isDone&&d[0].startTime&&d[0].startDate),c[0]&1&&G(e,"green-duration-line",d[0].isDone)},i(d){if(!g){for(let c=0;c<v.length;c+=1)U(p[c]);g=!0}},o(d){p=p.filter(Boolean);for(let c=0;c<p.length;c+=1)H(p[c]);g=!1},d(d){d&&D(e),f.d(),T&&T.d(),Z(p,d),h=!1,M(u)}}}function ct(n){let e,t,l;return{c(){e=w("input")},l(s){e=E(s,"INPUT",{})},m(s,a){j(s,e,a),A(e,n[3]),t||(l=[N(e,"input",n[24]),N(e,"keypress",n[18])],t=!0)},p(s,a){a[0]&8&&e.value!==s[3]&&A(e,s[3])},d(s){s&&D(e),t=!1,M(l)}}}function ht(n){let e,t=n[0].name+"",l,s,a,i,o,g,h=n[0].completionCount&&we(n),u=!n[0].isDone&&n[0].startTime&&n[0].startDate&&Ee(n),_=n[0].daysBeforeRepeating&&Ie(n);return{c(){e=w("div"),l=R(t),s=q(),h&&h.c(),a=q(),u&&u.c(),i=q(),_&&_.c()},l(r){e=E(r,"DIV",{});var f=C(e);l=S(f,t),s=P(f),h&&h.l(f),a=P(f),u&&u.l(f),i=P(f),_&&_.l(f),f.forEach(D)},m(r,f){j(r,e,f),y(e,l),y(e,s),h&&h.m(e,null),y(e,a),u&&u.m(e,null),y(e,i),_&&_.m(e,null),o||(g=N(e,"click",n[15]),o=!0)},p(r,f){f[0]&1&&t!==(t=r[0].name+"")&&$(l,t),r[0].completionCount?h?h.p(r,f):(h=we(r),h.c(),h.m(e,a)):h&&(h.d(1),h=null),!r[0].isDone&&r[0].startTime&&r[0].startDate?u?u.p(r,f):(u=Ee(r),u.c(),u.m(e,i)):u&&(u.d(1),u=null),r[0].daysBeforeRepeating?_?_.p(r,f):(_=Ie(r),_.c(),_.m(e,null)):_&&(_.d(1),_=null)},d(r){r&&D(e),h&&h.d(),u&&u.d(),_&&_.d(),o=!1,g()}}}function we(n){let e=n[0].completionCount+"",t;return{c(){t=R(e)},l(l){t=S(l,e)},m(l,s){j(l,t,s)},p(l,s){s[0]&1&&e!==(e=l[0].completionCount+"")&&$(t,e)},d(l){l&&D(t)}}}function Ee(n){let e=n[0].startDate+" "+n[0].startTime+"",t;return{c(){t=R(e)},l(l){t=S(l,e)},m(l,s){j(l,t,s)},p(l,s){s[0]&1&&e!==(e=l[0].startDate+" "+l[0].startTime+"")&&$(t,e)},d(l){l&&D(t)}}}function Ie(n){let e,t=n[0].daysBeforeRepeating+"",l,s;return{c(){e=R("Every "),l=R(t),s=R(" days")},l(a){e=S(a,"Every "),l=S(a,t),s=S(a," days")},m(a,i){j(a,e,i),j(a,l,i),j(a,s,i)},p(a,i){i[0]&1&&t!==(t=a[0].daysBeforeRepeating+"")&&$(l,t)},d(a){a&&D(e),a&&D(l),a&&D(s)}}}function je(n){let e;function t(a,i){if(!(a[5]||a[7]||a[10]||a[12]))return kt;if(a[5])return gt;if(a[7])return mt;if(a[10])return _t;if(a[12])return pt}let l=t(n),s=l&&l(n);return{c(){s&&s.c(),e=Y()},l(a){s&&s.l(a),e=Y()},m(a,i){s&&s.m(a,i),j(a,e,i)},p(a,i){l===(l=t(a))&&s?s.p(a,i):(s&&s.d(1),s=l&&l(a),s&&(s.c(),s.m(e.parentNode,e)))},d(a){s&&s.d(a),a&&D(e)}}}function pt(n){let e,t,l,s,a,i,o,g;return{c(){e=w("div"),t=w("div"),l=R("Delete"),s=q(),a=w("div"),i=R("Cancel"),this.h()},l(h){e=E(h,"DIV",{style:!0});var u=C(e);t=E(u,"DIV",{});var _=C(t);l=S(_,"Delete"),_.forEach(D),s=P(u),a=E(u,"DIV",{});var r=C(a);i=S(r,"Cancel"),r.forEach(D),u.forEach(D),this.h()},h(){m(e,"display","flex"),m(e,"align-items","center"),m(e,"justify-content","space-evenly")},m(h,u){j(h,e,u),y(e,t),y(t,l),y(e,s),y(e,a),y(a,i),o||(g=[N(t,"click",n[23]),N(a,"click",n[33])],o=!0)},p:re,d(h){h&&D(e),o=!1,M(g)}}}function _t(n){let e,t,l,s,a,i;return{c(){e=w("div"),t=R("Repeats every "),l=w("input"),s=R(" days"),this.h()},l(o){e=E(o,"DIV",{style:!0});var g=C(e);t=S(g,"Repeats every "),l=E(g,"INPUT",{style:!0,placeholder:!0}),s=S(g," days"),g.forEach(D),this.h()},h(){m(l,"width","20px"),I(l,"placeholder","0"),m(e,"display","flex")},m(o,g){j(o,e,g),y(e,t),y(e,l),A(l,n[11]),y(e,s),a||(i=[N(l,"input",n[32]),N(l,"keypress",n[19])],a=!0)},p(o,g){g[0]&2048&&l.value!==o[11]&&A(l,o[11])},d(o){o&&D(e),a=!1,M(i)}}}function mt(n){let e,t,l,s,a;return{c(){e=w("input"),t=q(),l=w("input"),this.h()},l(i){e=E(i,"INPUT",{placeholder:!0,style:!0}),t=P(i),l=E(i,"INPUT",{placeholder:!0,style:!0}),this.h()},h(){I(e,"placeholder","03/14"),m(e,"width","40px"),m(e,"margin-left","14px"),I(l,"placeholder","13:00"),m(l,"width","40px")},m(i,o){j(i,e,o),A(e,n[8]),j(i,t,o),j(i,l,o),A(l,n[9]),s||(a=[N(e,"input",n[30]),N(l,"input",n[31]),N(l,"keypress",n[17])],s=!0)},p(i,o){o[0]&256&&e.value!==i[8]&&A(e,i[8]),o[0]&512&&l.value!==i[9]&&A(l,i[9])},d(i){i&&D(e),i&&D(t),i&&D(l),s=!1,M(a)}}}function gt(n){let e,t,l,s;return{c(){e=w("div"),t=w("input"),this.h()},l(a){e=E(a,"DIV",{style:!0});var i=C(e);t=E(i,"INPUT",{placeholder:!0,style:!0}),i.forEach(D),this.h()},h(){I(t,"placeholder","Sub-task A"),m(t,"width","100%"),m(t,"margin-left","5px"),m(e,"display","flex"),m(e,"align-items","center")},m(a,i){j(a,e,i),y(e,t),A(t,n[6]),l||(s=[N(t,"input",n[29]),N(t,"keypress",n[16])],l=!0)},p(a,i){i[0]&64&&t.value!==a[6]&&A(t,a[6])},d(a){a&&D(e),l=!1,M(s)}}}function kt(n){let e,t,l,s,a,i,o,g,h,u,_,r,f,T,v,p;return{c(){e=w("span"),t=R("playlist_add"),l=q(),s=w("span"),a=R("check"),i=q(),o=w("span"),g=R("schedule"),h=q(),u=w("span"),_=R("event_repeat"),r=q(),f=w("span"),T=R("delete"),this.h()},l(k){e=E(k,"SPAN",{class:!0,style:!0});var d=C(e);t=S(d,"playlist_add"),d.forEach(D),l=P(k),s=E(k,"SPAN",{class:!0,style:!0});var c=C(s);a=S(c,"check"),c.forEach(D),i=P(k),o=E(k,"SPAN",{class:!0,style:!0});var b=C(o);g=S(b,"schedule"),b.forEach(D),h=P(k),u=E(k,"SPAN",{class:!0,style:!0});var O=C(u);_=S(O,"event_repeat"),O.forEach(D),r=P(k),f=E(k,"SPAN",{class:!0,style:!0});var B=C(f);T=S(B,"delete"),B.forEach(D),this.h()},h(){I(e,"class","material-icons"),m(e,"margin-left","5px"),m(e,"font-size",2.5*.7**n[1]+"rem"),I(s,"class","material-icons"),m(s,"margin-left","5px"),m(s,"font-size",2.5*.7**n[1]+"rem"),I(o,"class","material-icons"),m(o,"margin-left","5px"),m(o,"font-size",2.5*.7**n[1]+"rem"),I(u,"class","material-icons"),m(u,"margin-left","5px"),m(u,"font-size",2.5*.7**n[1]+"rem"),I(f,"class","material-icons"),m(f,"margin-left","5px"),m(f,"font-size",2.5*.7**n[1]+"rem")},m(k,d){j(k,e,d),y(e,t),j(k,l,d),j(k,s,d),y(s,a),j(k,i,d),j(k,o,d),y(o,g),j(k,h,d),j(k,u,d),y(u,_),j(k,r,d),j(k,f,d),y(f,T),v||(p=[N(e,"click",n[25]),N(s,"click",n[22]),N(o,"click",n[26]),N(u,"click",n[27]),N(f,"click",n[28])],v=!0)},p(k,d){d[0]&2&&m(e,"font-size",2.5*.7**k[1]+"rem"),d[0]&2&&m(s,"font-size",2.5*.7**k[1]+"rem"),d[0]&2&&m(o,"font-size",2.5*.7**k[1]+"rem"),d[0]&2&&m(u,"font-size",2.5*.7**k[1]+"rem"),d[0]&2&&m(f,"font-size",2.5*.7**k[1]+"rem")},d(k){k&&D(e),k&&D(l),k&&D(s),k&&D(i),k&&D(o),k&&D(h),k&&D(u),k&&D(r),k&&D(f),v=!1,M(p)}}}function ze(n){let e,t;function l(...s){return n[34](n[45],...s)}return e=new Ce({props:{taskObject:n[43],depth:n[1]+1}}),e.$on("task-create",l),e.$on("task-done",n[35]),e.$on("task-delete",n[36]),e.$on("task-repeating",n[37]),{c(){se(e.$$.fragment)},l(s){ne(e.$$.fragment,s)},m(s,a){ae(e,s,a),t=!0},p(s,a){n=s;const i={};a[0]&1&&(i.taskObject=n[43]),a[0]&2&&(i.depth=n[1]+1),e.$set(i)},i(s){t||(U(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){ie(e,s)}}}function vt(n){let e,t,l=!n[0].isDeleted&&Te(n);return{c(){l&&l.c(),e=Y()},l(s){l&&l.l(s),e=Y()},m(s,a){l&&l.m(s,a),j(s,e,a),t=!0},p(s,a){s[0].isDeleted?l&&(L(),H(l,1,1,()=>{l=null}),J()):l?(l.p(s,a),a[0]&1&&U(l,1)):(l=Te(s),l.c(),U(l,1),l.m(e.parentNode,e))},i(s){t||(U(l),t=!0)},o(s){H(l),t=!1},d(s){l&&l.d(s),s&&D(e)}}}function Dt(n,e){n.dataTransfer.setData("text/plain",e)}function bt(n,e,t){let l,{taskObject:s}=e,{depth:a}=e;const i=De();let o=!1,g="",h=!1,u=!1,_="",r=!1,f="",T="",v=!1,p=0,k=!1;function d(V,le){const _e=fe({},s.children[le]);_e.children=V.detail.updatedChildren;const me=[...s.children];me[le]=_e,ee(me)}function c(){t(2,o=!0),t(3,g=s.name)}function b(V){V.charCode===13&&(_&&K(_),t(6,_=""),t(5,u=!1))}function O(V){V.charCode===13&&(f.length!==5||T.length!==5?(alert("Formats must be exact - date is mm:dd and time is hh:mm, resetting"),t(0,s.startDate="",s),t(0,s.scheduledTime="",s)):(t(0,s.startDate=f,s),t(0,s.startTime=T,s)),i("task-done",{}),t(7,r=!1))}function B(V){if(V.charCode===13){if(!g){alert("Task name can't be empty.");return}t(0,s.name=g,s),i("task-done",{}),t(3,g=""),t(2,o=!1)}}function z(V){V.charCode===13&&(p?(t(0,s.daysBeforeRepeating=p,s),i("task-done",{})):(alert("Task is reset and will no longer repeat"),t(0,s.daysBeforeRepeating=0,s)),t(11,p=0),t(10,v=!1))}function K(V){ee([...s.children,{name:V,children:[]}])}function ee(V){i("task-create",{updatedChildren:V})}function oe(){t(4,h=!0)}function X(){t(4,h=!1)}function W(){t(0,s.isDone=!s.isDone,s),s.isRepeating&&(s.isDone?(t(0,s.completionCount=s.completionCount+1||1,s),t(0,s.lastCompletionDate=pe(),s)):(t(0,s.completionCount=s.completionCount-1||0,s),t(0,s.lastCompletionDate="",s))),i("task-done",{})}function te(){t(0,s.isDeleted=!s.isDeleted,s),console.log("taskObject.deleted =",s.isDeleted),i("task-delete",{})}function Xe(){g=this.value,t(3,g)}const Ge=()=>t(5,u=!0),Me=()=>t(7,r=!0),Ye=()=>t(10,v=!0),We=()=>t(12,k=!0);function Fe(){_=this.value,t(6,_)}function Qe(){f=this.value,t(8,f)}function Le(){T=this.value,t(9,T)}function Je(){p=this.value,t(11,p)}const Ze=()=>t(12,k=!1),$e=(V,le)=>d(le,V);function xe(V){he.call(this,n,V)}function et(V){he.call(this,n,V)}function tt(V){he.call(this,n,V)}const lt=V=>Dt(V,s.name);return n.$$set=V=>{"taskObject"in V&&t(0,s=V.taskObject),"depth"in V&&t(1,a=V.depth)},n.$$.update=()=>{n.$$.dirty[0]&1&&t(13,l=s.children.filter(V=>V.duration).length>0)},[s,a,o,g,h,u,_,r,f,T,v,p,k,l,d,c,b,O,B,z,oe,X,W,te,Xe,Ge,Me,Ye,We,Fe,Qe,Le,Je,Ze,$e,xe,et,tt,lt]}class Ce extends ue{constructor(e){super();de(this,e,bt,vt,ce,{taskObject:0,depth:1},null,[-1,-1])}}function Oe(n,e,t){const l=n.slice();return l[16]=e[t],l[18]=t,l}function Ve(n,e,t){const l=n.slice();return l[19]=e[t],l}function Ne(n,e,t){const l=n.slice();return l[16]=e[t],l[18]=t,l}function qe(n){let e,t,l=n[16]+"",s,a,i,o,g;return{c(){e=w("div"),t=w("div"),s=R(l),a=q(),i=w("div"),g=q(),this.h()},l(h){e=E(h,"DIV",{style:!0,class:!0});var u=C(e);t=E(u,"DIV",{class:!0});var _=C(t);s=S(_,l),_.forEach(D),a=P(u),i=E(u,"DIV",{id:!0,class:!0}),C(i).forEach(D),g=P(u),u.forEach(D),this.h()},h(){I(t,"class","time-indicator svelte-1otkjb3"),I(i,"id",o=n[16]),I(i,"class","calendar-time-block svelte-1otkjb3"),m(e,"display","flex"),m(e,"top",90*n[18]+"px"),m(e,"position","absolute"),I(e,"class","svelte-1otkjb3")},m(h,u){j(h,e,u),y(e,t),y(t,s),y(e,a),y(e,i),y(e,g)},p:re,d(h){h&&D(e)}}}function Pe(n){let e,t,l=n[19].name+"",s,a,i,o,g,h,u,_;function r(...v){return n[8](n[19],...v)}function f(...v){return n[9](n[19],...v)}function T(...v){return n[11](n[19],...v)}return{c(){e=w("div"),t=w("div"),s=R(l),a=q(),i=w("div"),o=q(),g=w("div"),h=q(),this.h()},l(v){e=E(v,"DIV",{class:!0,style:!0});var p=C(e);t=E(p,"DIV",{draggable:!0,style:!0,class:!0});var k=C(t);s=S(k,l),k.forEach(D),a=P(p),i=E(p,"DIV",{style:!0,draggable:!0,class:!0});var d=C(i);d.forEach(D),o=P(p),g=E(p,"DIV",{draggable:!0,style:!0,class:!0});var c=C(g);c.forEach(D),h=P(p),p.forEach(D),this.h()},h(){I(t,"draggable","true"),m(t,"width","11vw"),I(t,"class","svelte-1otkjb3"),m(i,"height",n[19].duration*n[2]-20-10+"px"),m(i,"width","11vw"),I(i,"draggable","true"),I(i,"class","svelte-1otkjb3"),I(g,"draggable","true"),m(g,"height","8px"),m(g,"width","11vw"),m(g,"position","absolute"),m(g,"bottom","0"),m(g,"left","-3px"),m(g,"cursor","ns-resize"),I(g,"class","svelte-1otkjb3"),I(e,"class","scheduled-task svelte-1otkjb3"),m(e,"top",n[19].verticalOffset+"px"),m(e,"height",(n[19].duration*n[2]||30)+"px")},m(v,p){j(v,e,p),y(e,t),y(t,s),y(e,a),y(e,i),y(e,o),y(e,g),y(e,h),u||(_=[N(t,"dragstart",r),N(i,"dragstart",f),N(g,"dragstart",n[10]),N(g,"dragend",T)],u=!0)},p(v,p){n=v,p&1&&l!==(l=n[19].name+"")&&$(s,l),p&1&&m(i,"height",n[19].duration*n[2]-20-10+"px"),p&1&&m(e,"top",n[19].verticalOffset+"px"),p&1&&m(e,"height",(n[19].duration*n[2]||30)+"px")},d(v){v&&D(e),u=!1,M(_)}}}function Be(n){let e,t=n[0][n[16]],l=[];for(let s=0;s<t.length;s+=1)l[s]=Pe(Ve(n,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=Y()},l(s){for(let a=0;a<l.length;a+=1)l[a].l(s);e=Y()},m(s,a){for(let i=0;i<l.length;i+=1)l[i].m(s,a);j(s,e,a)},p(s,a){if(a&55){t=s[0][s[16]];let i;for(i=0;i<t.length;i+=1){const o=Ve(s,t,i);l[i]?l[i].p(o,a):(l[i]=Pe(o),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(s){Z(l,s),s&&D(e)}}}function yt(n){let e,t,l,s,a,i=n[1],o=[];for(let u=0;u<i.length;u+=1)o[u]=qe(Ne(n,i,u));let g=n[1],h=[];for(let u=0;u<g.length;u+=1)h[u]=Be(Oe(n,g,u));return{c(){e=w("div"),t=w("div");for(let u=0;u<o.length;u+=1)o[u].c();l=q();for(let u=0;u<h.length;u+=1)h[u].c();this.h()},l(u){e=E(u,"DIV",{style:!0,class:!0});var _=C(e);t=E(_,"DIV",{id:!0,style:!0,class:!0});var r=C(t);for(let f=0;f<o.length;f+=1)o[f].l(r);l=P(r);for(let f=0;f<h.length;f+=1)h[f].l(r);r.forEach(D),_.forEach(D),this.h()},h(){I(t,"id","calendar-day-container"),m(t,"width","12vw"),m(t,"margin-left","0px"),m(t,"margin-top","10px"),m(t,"position","relative"),m(t,"height","1600px"),I(t,"class","svelte-1otkjb3"),m(e,"height","100vh"),m(e,"overflow-y","scroll"),m(e,"overflow-x","hidden"),I(e,"class","svelte-1otkjb3")},m(u,_){j(u,e,_),y(e,t);for(let r=0;r<o.length;r+=1)o[r].m(t,null);y(t,l);for(let r=0;r<h.length;r+=1)h[r].m(t,null);s||(a=[N(t,"drop",n[12]),N(t,"dragover",Tt)],s=!0)},p(u,[_]){if(_&2){i=u[1];let r;for(r=0;r<i.length;r+=1){const f=Ne(u,i,r);o[r]?o[r].p(f,_):(o[r]=qe(f),o[r].c(),o[r].m(t,l))}for(;r<o.length;r+=1)o[r].d(1);o.length=i.length}if(_&55){g=u[1];let r;for(r=0;r<g.length;r+=1){const f=Oe(u,g,r);h[r]?h[r].p(f,_):(h[r]=Be(f),h[r].c(),h[r].m(t,null))}for(;r<h.length;r+=1)h[r].d(1);h.length=g.length}},i:re,o:re,d(u){u&&D(e),Z(o,u),Z(h,u),s=!1,M(a)}}}function Ue(n,e){n.dataTransfer.setData("text/plain",e)}function Tt(n){n.preventDefault(),n.dataTransfer.dropEffect="move"}function wt({startTime:n}){const e=n.slice(0,2),t=n.slice(3,5);return(Number(e)+Number(t)/60-8)*90}function Et(n,e,t){let{scheduledTasks:l}=e,{getDate:s}=e;const a=De(),i=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00","24:00"];let o={},g=0,h=90/60;function u(){const c={};for(const b of i){c[b]=[];for(const O of l)O.startTime.slice(0,2)===b.slice(0,2)&&c[b].push(ve(fe({},O),{verticalOffset:wt(O)}))}t(0,o=c)}function _(c){c.preventDefault();var O=document.getElementById("calendar-day-container").getBoundingClientRect();O.left,O.top;const B=90;let K=c.layerY/B;const ee=K-Math.floor(K),oe=Math.trunc(K);let X=ee*60,W=8+oe;W<10&&(W=`0${W}`),X<10?(X=X.toPrecision(1),X=`0${X}`):X=X.toPrecision(2);const te=`${W}:${X}`;console.log("scheduledTime =",te),a("task-scheduled",{taskName:c.dataTransfer.getData("text/plain"),timeOfDay:te,dateScheduled:s()})}function r(c){g=c.offsetY}function f(c,b){b.duration||(b.duration=10);const O=60/90,B=(c.offsetY-g)*O;a("task-duration-adjusted",{taskName:b.name,duration:Math.max(1,b.duration+B)})}const T=(c,b)=>Ue(b,c.name),v=(c,b)=>Ue(b,c.name),p=c=>r(c),k=(c,b)=>f(b,c),d=c=>_(c);return n.$$set=c=>{"scheduledTasks"in c&&t(6,l=c.scheduledTasks),"getDate"in c&&t(7,s=c.getDate)},n.$$.update=()=>{n.$$.dirty&64&&l&&u()},[o,i,h,_,r,f,l,s,T,v,p,k,d]}class Re extends ue{constructor(e){super();de(this,e,Et,yt,ce,{scheduledTasks:6,getDate:7})}}const It={apiKey:"AIzaSyCOVm0X6UUQQcftXf066z_0hFk497j4dNY",authDomain:"project-y-2a061.firebaseapp.com",projectId:"project-y-2a061",storageBucket:"project-y-2a061.appspot.com",messagingSenderId:"132745397287",appId:"1:132745397287:web:b34052fb4683bc85e73a02",measurementId:"G-EZSLE84PYQ"};ft(It);var Q=ut();function Se(n,e,t){const l=n.slice();return l[17]=e[t],l}function Ke(n){let e,t,l,s,a,i,o,g,h,u,_,r=n[0],f=[];for(let v=0;v<r.length;v+=1)f[v]=Ae(Se(n,r,v));const T=v=>H(f[v],1,1,()=>{f[v]=null});return{c(){for(let v=0;v<f.length;v+=1)f[v].c();e=q(),t=w("div"),l=w("div"),s=q(),a=w("input"),i=q(),o=w("div"),g=R("Create task"),this.h()},l(v){for(let d=0;d<f.length;d+=1)f[d].l(v);e=P(v),t=E(v,"DIV",{style:!0,class:!0});var p=C(t);l=E(p,"DIV",{class:!0,style:!0}),C(l).forEach(D),s=P(p),a=E(p,"INPUT",{placeholder:!0,class:!0}),i=P(p),o=E(p,"DIV",{style:!0,class:!0});var k=C(o);g=S(k,"Create task"),k.forEach(D),p.forEach(D),this.h()},h(){I(l,"class","plus alt svelte-qn541z"),m(l,"margin-left","12px"),I(a,"placeholder","Type task..."),I(a,"class","svelte-qn541z"),m(o,"margin-top","2px"),m(o,"font-size","1.65rem"),I(o,"class","svelte-qn541z"),m(t,"display","flex"),m(t,"align-content","center"),m(t,"justify-items","center"),I(t,"class","svelte-qn541z")},m(v,p){for(let k=0;k<f.length;k+=1)f[k].m(v,p);j(v,e,p),j(v,t,p),y(t,l),y(t,s),y(t,a),A(a,n[3]),y(t,i),y(t,o),y(o,g),h=!0,u||(_=[N(a,"input",n[10]),N(o,"click",n[6])],u=!0)},p(v,p){if(p&385){r=v[0];let k;for(k=0;k<r.length;k+=1){const d=Se(v,r,k);f[k]?(f[k].p(d,p),U(f[k],1)):(f[k]=Ae(d),f[k].c(),U(f[k],1),f[k].m(e.parentNode,e))}for(L(),k=r.length;k<f.length;k+=1)T(k);J()}p&8&&a.value!==v[3]&&A(a,v[3])},i(v){if(!h){for(let p=0;p<r.length;p+=1)U(f[p]);h=!0}},o(v){f=f.filter(Boolean);for(let p=0;p<f.length;p+=1)H(f[p]);h=!1},d(v){Z(f,v),v&&D(e),v&&D(t),u=!1,M(_)}}}function He(n){let e,t,l;function s(...a){return n[9](n[17],...a)}return t=new Ce({props:{taskObject:n[17],depth:1}}),t.$on("task-create",s),t.$on("task-done",n[8]),t.$on("task-delete",n[8]),t.$on("task-repeating",n[8]),{c(){e=w("div"),se(t.$$.fragment),this.h()},l(a){e=E(a,"DIV",{class:!0});var i=C(e);ne(t.$$.fragment,i),i.forEach(D),this.h()},h(){I(e,"class","task-container svelte-qn541z")},m(a,i){j(a,e,i),ae(t,e,null),l=!0},p(a,i){n=a;const o={};i&1&&(o.taskObject=n[17]),t.$set(o)},i(a){l||(U(t.$$.fragment,a),l=!0)},o(a){H(t.$$.fragment,a),l=!1},d(a){a&&D(e),ie(t)}}}function Ae(n){let e,t,l=!n[17].isDeleted&&He(n);return{c(){l&&l.c(),e=Y()},l(s){l&&l.l(s),e=Y()},m(s,a){l&&l.m(s,a),j(s,e,a),t=!0},p(s,a){s[17].isDeleted?l&&(L(),H(l,1,1,()=>{l=null}),J()):l?(l.p(s,a),a&1&&U(l,1)):(l=He(s),l.c(),U(l,1),l.m(e.parentNode,e))},i(s){t||(U(l),t=!0)},o(s){H(l),t=!1},d(s){l&&l.d(s),s&&D(e)}}}function jt(n){let e,t,l,s,a,i,o,g,h,u,_=n[0].length>0&&Ke(n);return o=new Re({props:{scheduledTasks:n[1],getDate:pe}}),o.$on("task-scheduled",n[11]),o.$on("task-duration-adjusted",n[12]),h=new Re({props:{scheduledTasks:n[2],getDate:be}}),h.$on("task-scheduled",n[13]),h.$on("task-duration-adjusted",n[14]),{c(){e=q(),t=w("div"),l=w("div"),s=w("div"),_&&_.c(),a=q(),i=w("div"),se(o.$$.fragment),g=q(),se(h.$$.fragment),this.h()},l(r){e=P(r),t=E(r,"DIV",{style:!0,class:!0});var f=C(t);l=E(f,"DIV",{class:!0});var T=C(l);s=E(T,"DIV",{class:!0});var v=C(s);_&&_.l(v),v.forEach(D),T.forEach(D),a=P(f),i=E(f,"DIV",{style:!0,class:!0});var p=C(i);ne(o.$$.fragment,p),g=P(p),ne(h.$$.fragment,p),p.forEach(D),f.forEach(D),this.h()},h(){I(s,"class","todo-list svelte-qn541z"),I(l,"class","fixed-height-container-for-scrolling svelte-qn541z"),m(i,"display","flex"),m(i,"justify-content","space-evenly"),m(i,"width","30vw"),m(i,"border-left","2px dashed grey"),I(i,"class","svelte-qn541z"),m(t,"display","flex"),m(t,"padding-left","10px"),m(t,"padding-top","10px"),I(t,"class","svelte-qn541z")},m(r,f){j(r,e,f),j(r,t,f),y(t,l),y(l,s),_&&_.m(s,null),y(t,a),y(t,i),ae(o,i,null),y(i,g),ae(h,i,null),u=!0},p(r,[f]){r[0].length>0?_?(_.p(r,f),f&1&&U(_,1)):(_=Ke(r),_.c(),U(_,1),_.m(s,null)):_&&(L(),H(_,1,1,()=>{_=null}),J());const T={};f&2&&(T.scheduledTasks=r[1]),o.$set(T);const v={};f&4&&(v.scheduledTasks=r[2]),h.$set(v)},i(r){u||(U(_),U(o.$$.fragment,r),U(h.$$.fragment,r),u=!0)},o(r){H(_),H(o.$$.fragment,r),H(h.$$.fragment,r),u=!1},d(r){r&&D(e),r&&D(t),_&&_.d(),ie(o),ie(h)}}}function zt(n,e,t){let l=[],s=[],a=[],i="";async function o({taskName:c,timeOfDay:b,dateScheduled:O}){function B(z){if(z.name===c)return z.startTime=b,z.startDate=O,!0;for(const K of z.children)if(B(K))return!0;return!1}for(const z of l)if(B(z)){console.log("successfully mutated allTasks, =",l);break}await x(F(Q,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:l}),t(0,l=[...l])}async function g({taskName:c,duration:b}){function O(B){if(B.name===c)return B.duration=b,!0;for(const z of B.children)if(O(z))return!0;return!1}for(const B of l)if(O(B)){console.log("successfully mutated allTasks, =",l);break}await x(F(Q,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:l}),t(0,l=[...l])}async function h(){const c=await dt(F(Q,"users/GxBbopqXHW0qgjKEwU4z"));t(0,l=c.data().allTasks)}h();function u(){i||alert("You have to type something first");const c=[...l,{name:i,children:[]}];x(F(Q,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:c}),t(0,l=[...c])}function _(c,b){const{updatedChildren:O}=c.detail;b.children=[...O],x(F(Q,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:l}),t(0,l=[...l])}function r(){console.log("updateFirestore()"),x(F(Q,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:l}),t(0,l=[...l])}const f=(c,b)=>_(b,c);function T(){i=this.value,t(3,i)}const v=c=>o(c.detail),p=c=>g(c.detail),k=c=>o(c.detail),d=c=>g(c.detail);return n.$$.update=()=>{if(n.$$.dirty&7&&l){let b=function(z){z.startTime!==void 0&&c.push(z);for(const K of z.children)b(K)};const c=[];for(const z of l)b(z);const O=pe();t(1,s=c.filter(z=>z.startDate===O&&!z.isDeleted));const B=be();t(2,a=c.filter(z=>z.startDate===B&&!z.isDeleted)),console.log("scheduledTasks2 =",a);for(const z of s)z.isRepeating&&z.lastCompletionDate!==O&&(z.startDate=O,z.isDone=!1);l.sort((z,K)=>!!z.isDone-!!K.isDone)}},[l,s,a,i,o,g,u,_,r,f,T,v,p,k,d]}class Vt extends ue{constructor(e){super();de(this,e,zt,jt,ce,{})}}export{Vt as default};
