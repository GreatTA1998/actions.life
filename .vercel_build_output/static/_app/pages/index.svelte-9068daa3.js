var it=Object.defineProperty,ot=Object.defineProperties;var ft=Object.getOwnPropertyDescriptors;var Ce=Object.getOwnPropertySymbols;var ut=Object.prototype.hasOwnProperty,dt=Object.prototype.propertyIsEnumerable;var Re=(l,e,t)=>e in l?it(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,Ee=(l,e)=>{for(var t in e||(e={}))ut.call(e,t)&&Re(l,t,e[t]);if(Ce)for(var t of Ce(e))dt.call(e,t)&&Re(l,t,e[t]);return l},Be=(l,e)=>ot(l,ft(e));import{S as ye,i as Te,s as we,e as y,t as X,k as M,c as T,a as w,h as F,d as p,m as K,b as E,f as u,g as C,J as m,L as $,M as U,j as re,N as le,l as x,K as se,O as je,w as ue,x as de,P as ae,y as ce,Q as ct,q as W,o as Z,B as he,n as pe,p as _e,R as me,T as Ie,v as Pe,U as ht,V as pt,W as ge,X as ie,Y as _t,Z as mt}from"../chunks/vendor-8f14ca92.js";function oe(){const l=new Date;let e=l.getDate(),t=l.getMonth()+1;return e<10&&(e="0"+e),t<10&&(t="0"+t),`${t}/${e}`}function Oe(){let e=new Date().getHours();return e<10&&(e="0"+e),`${e}`}function Ue(){const l=new Date,e=new Date(l);e.setDate(e.getDate()+1);let t=e.getDate(),n=e.getMonth()+1;return t<10&&(t="0"+t),n<10&&(n="0"+n),`${n}/${t}`}function qe(l){let e,t,n,s,a,r,i=l[0].name+"",h,f,o,_,d,D,R,V,b,I,z,v,S,N,c,g,j,B,G,O=!l[0].isDone&&l[0].startTime&&l[0].startDate&&Se(l),q=l[0].daysBeforeRepeating&&ze(l);function te(A,k){return A[2]?gt:vt}let ee=te(l),Y=ee(l);return{c(){e=y("div"),t=y("div"),n=y("span"),s=X("close"),a=M(),r=y("div"),h=X(i),f=M(),o=y("div"),O&&O.c(),_=M(),d=y("div"),q&&q.c(),D=M(),R=y("h2"),V=X("Notes"),b=M(),I=y("textarea"),z=M(),v=y("div"),S=X("Save notes"),N=M(),c=y("div"),g=X("Done"),j=M(),Y.c(),this.h()},l(A){e=T(A,"DIV",{class:!0});var k=w(e);t=T(k,"DIV",{style:!0});var L=w(t);n=T(L,"SPAN",{class:!0,style:!0});var Q=w(n);s=F(Q,"close"),Q.forEach(p),L.forEach(p),a=K(k),r=T(k,"DIV",{class:!0,style:!0});var J=w(r);h=F(J,i),J.forEach(p),f=K(k),o=T(k,"DIV",{class:!0,style:!0});var P=w(o);O&&O.l(P),P.forEach(p),_=K(k),d=T(k,"DIV",{class:!0,style:!0});var ne=w(d);q&&q.l(ne),ne.forEach(p),D=K(k),R=T(k,"H2",{});var ve=w(R);V=F(ve,"Notes"),ve.forEach(p),b=K(k),I=T(k,"TEXTAREA",{cols:!0}),w(I).forEach(p),z=K(k),v=T(k,"DIV",{});var ke=w(v);S=F(ke,"Save notes"),ke.forEach(p),N=K(k),c=T(k,"DIV",{});var be=w(c);g=F(be,"Done"),be.forEach(p),j=K(k),Y.l(k),k.forEach(p),this.h()},h(){E(n,"class","material-icons"),u(n,"margin-left","auto"),u(n,"margin-right","0"),u(t,"display","flex"),E(r,"class","google-calendar-event-title svelte-1q27ax5"),u(r,"margin-top","10px"),u(r,"margin-left","10px"),E(o,"class","google-calendar-event-time svelte-1q27ax5"),u(o,"margin-top","4px"),u(o,"margin-left","10px"),E(d,"class","google-calendar-event-detail svelte-1q27ax5"),u(d,"margin-top","12px"),u(d,"margin-left","16px"),E(I,"cols","44"),E(e,"class","detailed-card svelte-1q27ax5")},m(A,k){C(A,e,k),m(e,t),m(t,n),m(n,s),m(e,a),m(e,r),m(r,h),m(e,f),m(e,o),O&&O.m(o,null),m(e,_),m(e,d),q&&q.m(d,null),m(e,D),m(e,R),m(R,V),m(e,b),m(e,I),$(I,l[4]),m(e,z),m(e,v),m(v,S),m(e,N),m(e,c),m(c,g),m(e,j),Y.m(e,null),B||(G=[U(n,"click",l[8]),U(I,"input",l[9]),U(v,"click",l[6]),U(c,"click",l[10])],B=!0)},p(A,k){k&1&&i!==(i=A[0].name+"")&&re(h,i),!A[0].isDone&&A[0].startTime&&A[0].startDate?O?O.p(A,k):(O=Se(A),O.c(),O.m(o,null)):O&&(O.d(1),O=null),A[0].daysBeforeRepeating?q?q.p(A,k):(q=ze(A),q.c(),q.m(d,null)):q&&(q.d(1),q=null),k&16&&$(I,A[4]),ee===(ee=te(A))&&Y?Y.p(A,k):(Y.d(1),Y=ee(A),Y&&(Y.c(),Y.m(e,null)))},d(A){A&&p(e),O&&O.d(),q&&q.d(),Y.d(),B=!1,le(G)}}}function Se(l){let e,t=l[0].startDate+" "+l[0].startTime+"",n;return{c(){e=X("Scheduled for "),n=X(t)},l(s){e=F(s,"Scheduled for "),n=F(s,t)},m(s,a){C(s,e,a),C(s,n,a)},p(s,a){a&1&&t!==(t=s[0].startDate+" "+s[0].startTime+"")&&re(n,t)},d(s){s&&p(e),s&&p(n)}}}function ze(l){let e,t=l[0].daysBeforeRepeating+"",n,s,a=(l[0].completionCount||0)+"",r,i;return{c(){e=X("Repeats every "),n=X(t),s=X(" days, completed "),r=X(a),i=X(" times")},l(h){e=F(h,"Repeats every "),n=F(h,t),s=F(h," days, completed "),r=F(h,a),i=F(h," times")},m(h,f){C(h,e,f),C(h,n,f),C(h,s,f),C(h,r,f),C(h,i,f)},p(h,f){f&1&&t!==(t=h[0].daysBeforeRepeating+"")&&re(n,t),f&1&&a!==(a=(h[0].completionCount||0)+"")&&re(r,a)},d(h){h&&p(e),h&&p(n),h&&p(s),h&&p(r),h&&p(i)}}}function gt(l){let e,t,n,s,a,r;return{c(){e=y("div"),t=X("Repeats every "),n=y("input"),s=X(" days"),this.h()},l(i){e=T(i,"DIV",{style:!0});var h=w(e);t=F(h,"Repeats every "),n=T(h,"INPUT",{style:!0,placeholder:!0}),s=F(h," days"),h.forEach(p),this.h()},h(){u(n,"width","20px"),E(n,"placeholder","0"),u(e,"display","flex")},m(i,h){C(i,e,h),m(e,t),m(e,n),$(n,l[3]),m(e,s),a||(r=[U(n,"input",l[12]),U(n,"keypress",l[7])],a=!0)},p(i,h){h&8&&n.value!==i[3]&&$(n,i[3])},d(i){i&&p(e),a=!1,le(r)}}}function vt(l){let e,t,n,s;return{c(){e=y("span"),t=X("Repeat task"),this.h()},l(a){e=T(a,"SPAN",{style:!0});var r=w(e);t=F(r,"Repeat task"),r.forEach(p),this.h()},h(){u(e,"margin-left","5px")},m(a,r){C(a,e,r),m(e,t),n||(s=U(e,"click",l[11]),n=!0)},p:se,d(a){a&&p(e),n=!1,s()}}}function kt(l){let e,t=l[1]&&qe(l);return{c(){t&&t.c(),e=x()},l(n){t&&t.l(n),e=x()},m(n,s){t&&t.m(n,s),C(n,e,s)},p(n,[s]){n[1]?t?t.p(n,s):(t=qe(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:se,o:se,d(n){t&&t.d(n),n&&p(e)}}}function bt(l,e,t){let{taskObject:n}=e,{isOpen:s=!1}=e,a=!1,r=7;const i=je();let h=n.notes||"";function f(){t(0,n.notes=h,n),i("task-notes-update")}function o(b){b.charCode===13&&(r?t(0,n.daysBeforeRepeating=r,n):(alert("Task is reset and will no longer repeat"),t(0,n.daysBeforeRepeating=0,n)),i("task-repeat"),t(3,r=0),t(2,a=!1))}const _=()=>i("card-close");function d(){h=this.value,t(4,h)}const D=()=>i("task-done"),R=()=>t(2,a=!0);function V(){r=this.value,t(3,r)}return l.$$set=b=>{"taskObject"in b&&t(0,n=b.taskObject),"isOpen"in b&&t(1,s=b.isOpen)},[n,s,a,r,h,i,f,o,_,d,D,R,V]}class Dt extends ye{constructor(e){super();Te(this,e,bt,kt,we,{taskObject:0,isOpen:1})}}function He(l,e,t){const n=l.slice();return n[43]=e[t],n[45]=t,n}function Me(l){let e,t,n,s,a,r,i,h,f,o,_,d,D;function R(c,g){return c[3]?yt:Tt}let V=R(l),b=V(l);a=new Dt({props:{isOpen:l[2],taskObject:l[0]}}),a.$on("card-close",l[25]),a.$on("task-done",l[21]),a.$on("task-notes-update",l[26]),a.$on("task-repeat",l[27]);let I=l[5]&&Ke(l),z=l[0].children,v=[];for(let c=0;c<z.length;c+=1)v[c]=Ae(He(l,z,c));const S=c=>Z(v[c],1,1,()=>{v[c]=null});let N=l[5]&&Xe(l);return{c(){e=y("div"),t=y("div"),n=y("div"),b.c(),s=M(),ue(a.$$.fragment),r=M(),i=y("div"),I&&I.c(),h=M(),f=y("div");for(let c=0;c<v.length;c+=1)v[c].c();o=M(),N&&N.c(),this.h()},l(c){e=T(c,"DIV",{draggable:!0,class:!0,style:!0});var g=w(e);t=T(g,"DIV",{class:!0});var j=w(t);n=T(j,"DIV",{style:!0,class:!0});var B=w(n);b.l(B),B.forEach(p),s=K(j),de(a.$$.fragment,j),r=K(j),i=T(j,"DIV",{style:!0});var G=w(i);I&&I.l(G),G.forEach(p),j.forEach(p),h=K(g),f=T(g,"DIV",{style:!0});var O=w(f);for(let q=0;q<v.length;q+=1)v[q].l(O);o=K(O),N&&N.l(O),O.forEach(p),g.forEach(p),this.h()},h(){u(n,"font-size",1.5*.85**l[1]+"rem"),u(n,"font-family","aktiv-grotesk, sans-serif"),E(n,"class","keep-on-same-line name-of-task svelte-t4v7r0"),ae(n,"scheduled-orange",!l[0].isDone&&l[0].startTime&&l[0].startDate),ae(n,"crossed-out",l[0].isDone),u(i,"width",200*.9**l[1]+"px"),u(i,"height","100%"),E(t,"class","current-task-flexbox svelte-t4v7r0"),u(f,"margin-top",20*.7**l[1]+"px"),E(e,"draggable","true"),E(e,"class","scheduled-task svelte-t4v7r0"),u(e,"margin-left",(l[1]===1?"0":"20")+"px"),u(e,"margin-bottom","10px"),u(e,"width",350*.8**l[1]+"px"),u(e,"height",l[0].duration&&!l[13]&&l[0].duration*90/60>l[0].children.length*60*.7**l[1]&&l[0].duration*90/60>60*.65**l[1]?`${l[0].duration*90/60}px`:"100%"),u(e,"padding-left",10*.8**l[1]+"px"),ae(e,"black-duration-line",!l[0].isDone&&!(l[0].startTime&&l[0].startDate)),ae(e,"orange-duration-line",!l[0].isDone&&l[0].startTime&&l[0].startDate),ae(e,"green-duration-line",l[0].isDone)},m(c,g){C(c,e,g),m(e,t),m(t,n),b.m(n,null),m(t,s),ce(a,t,null),m(t,r),m(t,i),I&&I.m(i,null),m(e,h),m(e,f);for(let j=0;j<v.length;j+=1)v[j].m(f,null);m(f,o),N&&N.m(f,null),_=!0,d||(D=[U(e,"dragstart",ct(l[38])),U(e,"pointerleave",l[20])],d=!0)},p(c,g){V===(V=R(c))&&b?b.p(c,g):(b.d(1),b=V(c),b&&(b.c(),b.m(n,null))),(!_||g[0]&2)&&u(n,"font-size",1.5*.85**c[1]+"rem"),g[0]&1&&ae(n,"scheduled-orange",!c[0].isDone&&c[0].startTime&&c[0].startDate),g[0]&1&&ae(n,"crossed-out",c[0].isDone);const j={};if(g[0]&4&&(j.isOpen=c[2]),g[0]&1&&(j.taskObject=c[0]),a.$set(j),c[5]?I?I.p(c,g):(I=Ke(c),I.c(),I.m(i,null)):I&&(I.d(1),I=null),(!_||g[0]&2)&&u(i,"width",200*.9**c[1]+"px"),g[0]&32771){z=c[0].children;let B;for(B=0;B<z.length;B+=1){const G=He(c,z,B);v[B]?(v[B].p(G,g),W(v[B],1)):(v[B]=Ae(G),v[B].c(),W(v[B],1),v[B].m(f,o))}for(pe(),B=z.length;B<v.length;B+=1)S(B);_e()}c[5]?N?N.p(c,g):(N=Xe(c),N.c(),N.m(f,null)):N&&(N.d(1),N=null),(!_||g[0]&2)&&u(f,"margin-top",20*.7**c[1]+"px"),(!_||g[0]&2)&&u(e,"margin-left",(c[1]===1?"0":"20")+"px"),(!_||g[0]&2)&&u(e,"width",350*.8**c[1]+"px"),(!_||g[0]&8195)&&u(e,"height",c[0].duration&&!c[13]&&c[0].duration*90/60>c[0].children.length*60*.7**c[1]&&c[0].duration*90/60>60*.65**c[1]?`${c[0].duration*90/60}px`:"100%"),(!_||g[0]&2)&&u(e,"padding-left",10*.8**c[1]+"px"),g[0]&1&&ae(e,"black-duration-line",!c[0].isDone&&!(c[0].startTime&&c[0].startDate)),g[0]&1&&ae(e,"orange-duration-line",!c[0].isDone&&c[0].startTime&&c[0].startDate),g[0]&1&&ae(e,"green-duration-line",c[0].isDone)},i(c){if(!_){W(a.$$.fragment,c);for(let g=0;g<z.length;g+=1)W(v[g]);_=!0}},o(c){Z(a.$$.fragment,c),v=v.filter(Boolean);for(let g=0;g<v.length;g+=1)Z(v[g]);_=!1},d(c){c&&p(e),b.d(),he(a),I&&I.d(),me(v,c),N&&N.d(),d=!1,le(D)}}}function yt(l){let e,t,n;return{c(){e=y("input")},l(s){e=T(s,"INPUT",{})},m(s,a){C(s,e,a),$(e,l[4]),t||(n=[U(e,"input",l[24]),U(e,"keypress",l[18])],t=!0)},p(s,a){a[0]&16&&e.value!==s[4]&&$(e,s[4])},d(s){s&&p(e),t=!1,le(n)}}}function Tt(l){let e,t=l[0].name+"",n,s,a;return{c(){e=y("div"),n=X(t),this.h()},l(r){e=T(r,"DIV",{class:!0,style:!0});var i=w(e);n=F(i,t),i.forEach(p),this.h()},h(){E(e,"class","truncate svelte-t4v7r0"),u(e,"width",350*.85**l[1]+"px")},m(r,i){C(r,e,i),m(e,n),s||(a=[U(e,"click",l[23]),U(e,"pointerenter",l[19])],s=!0)},p(r,i){i[0]&1&&t!==(t=r[0].name+"")&&re(n,t),i[0]&2&&u(e,"width",350*.85**r[1]+"px")},d(r){r&&p(e),s=!1,le(a)}}}function Ke(l){let e;function t(a,r){if(!(a[6]||a[8]||Nt||a[12]))return jt;if(a[8])return Et;if(a[12])return wt}let n=t(l),s=n&&n(l);return{c(){s&&s.c(),e=x()},l(a){s&&s.l(a),e=x()},m(a,r){s&&s.m(a,r),C(a,e,r)},p(a,r){n===(n=t(a))&&s?s.p(a,r):(s&&s.d(1),s=n&&n(a),s&&(s.c(),s.m(e.parentNode,e)))},d(a){s&&s.d(a),a&&p(e)}}}function wt(l){let e,t,n,s,a,r,i,h;return{c(){e=y("div"),t=y("div"),n=X("Delete"),s=M(),a=y("div"),r=X("Cancel"),this.h()},l(f){e=T(f,"DIV",{style:!0});var o=w(e);t=T(o,"DIV",{});var _=w(t);n=F(_,"Delete"),_.forEach(p),s=K(o),a=T(o,"DIV",{});var d=w(a);r=F(d,"Cancel"),d.forEach(p),o.forEach(p),this.h()},h(){u(e,"display","flex"),u(e,"align-items","center"),u(e,"justify-content","space-evenly")},m(f,o){C(f,e,o),m(e,t),m(t,n),m(e,s),m(e,a),m(a,r),i||(h=[U(t,"click",l[22]),U(a,"click",l[31])],i=!0)},p:se,d(f){f&&p(e),i=!1,le(h)}}}function Et(l){let e,t,n,s,a;return{c(){e=y("input"),t=M(),n=y("input"),this.h()},l(r){e=T(r,"INPUT",{placeholder:!0,style:!0}),t=K(r),n=T(r,"INPUT",{placeholder:!0,style:!0}),this.h()},h(){E(e,"placeholder","03/14"),u(e,"width","40px"),u(e,"margin-left","14px"),E(n,"placeholder","13:00"),u(n,"width","40px")},m(r,i){C(r,e,i),$(e,l[9]),C(r,t,i),C(r,n,i),$(n,l[10]),s||(a=[U(e,"input",l[28]),U(n,"input",l[29]),U(n,"keypress",l[17])],s=!0)},p(r,i){i[0]&512&&e.value!==r[9]&&$(e,r[9]),i[0]&1024&&n.value!==r[10]&&$(n,r[10])},d(r){r&&p(e),r&&p(t),r&&p(n),s=!1,le(a)}}}function jt(l){return{c:se,l:se,m:se,p:se,d:se}}function Ae(l){let e,t;function n(...s){return l[32](l[45],...s)}return e=new Fe({props:{taskObject:l[43],depth:l[1]+1}}),e.$on("task-create",n),e.$on("task-done",l[33]),e.$on("task-delete",l[34]),e.$on("task-repeating",l[35]),{c(){ue(e.$$.fragment)},l(s){de(e.$$.fragment,s)},m(s,a){ce(e,s,a),t=!0},p(s,a){l=s;const r={};a[0]&1&&(r.taskObject=l[43]),a[0]&2&&(r.depth=l[1]+1),e.$set(r)},i(s){t||(W(e.$$.fragment,s),t=!0)},o(s){Z(e.$$.fragment,s),t=!1},d(s){he(e,s)}}}function Xe(l){let e;function t(a,r){return a[6]?It:Ot}let n=t(l),s=n(l);return{c(){s.c(),e=x()},l(a){s.l(a),e=x()},m(a,r){s.m(a,r),C(a,e,r)},p(a,r){n===(n=t(a))&&s?s.p(a,r):(s.d(1),s=n(a),s&&(s.c(),s.m(e.parentNode,e)))},d(a){s.d(a),a&&p(e)}}}function It(l){let e,t,n,s;return{c(){e=y("div"),t=y("input"),this.h()},l(a){e=T(a,"DIV",{style:!0});var r=w(e);t=T(r,"INPUT",{placeholder:!0,style:!0}),r.forEach(p),this.h()},h(){E(t,"placeholder","Type sub-task"),u(t,"width","100%"),u(t,"margin-left","5px"),u(e,"display","flex"),u(e,"align-items","center"),u(e,"margin-left","20px")},m(a,r){C(a,e,r),m(e,t),$(t,l[7]),n||(s=[U(t,"input",l[37]),U(t,"keypress",l[16])],n=!0)},p(a,r){r[0]&128&&t.value!==a[7]&&$(t,a[7])},d(a){a&&p(e),n=!1,le(s)}}}function Ot(l){let e,t,n,s,a;return{c(){e=y("div"),t=y("div"),n=X("new sub-task"),this.h()},l(r){e=T(r,"DIV",{style:!0});var i=w(e);t=T(i,"DIV",{style:!0});var h=w(t);n=F(h,"new sub-task"),h.forEach(p),i.forEach(p),this.h()},h(){u(t,"border-left","2px solid grey"),u(t,"color","grey"),u(t,"padding-left","5px"),u(t,"padding-bottom",8*.68**(l[1]+1)+"px"),u(t,"font-size",1.5*.85**(l[1]+1)+"rem"),u(e,"display","flex"),u(e,"align-items","center"),u(e,"margin-left","20px")},m(r,i){C(r,e,i),m(e,t),m(t,n),s||(a=U(t,"click",l[36]),s=!0)},p(r,i){i[0]&2&&u(t,"padding-bottom",8*.68**(r[1]+1)+"px"),i[0]&2&&u(t,"font-size",1.5*.85**(r[1]+1)+"rem")},d(r){r&&p(e),s=!1,a()}}}function Vt(l){let e,t,n=!l[0].isDeleted&&!l[0].isDone&&!(l[0].startTime&&l[0].startDate)&&Me(l);return{c(){n&&n.c(),e=x()},l(s){n&&n.l(s),e=x()},m(s,a){n&&n.m(s,a),C(s,e,a),t=!0},p(s,a){!s[0].isDeleted&&!s[0].isDone&&!(s[0].startTime&&s[0].startDate)?n?(n.p(s,a),a[0]&1&&W(n,1)):(n=Me(s),n.c(),W(n,1),n.m(e.parentNode,e)):n&&(pe(),Z(n,1,1,()=>{n=null}),_e())},i(s){t||(W(n),t=!0)},o(s){Z(n),t=!1},d(s){n&&n.d(s),s&&p(e)}}}let Nt=!1;function Ct(l,e){l.dataTransfer.setData("text/plain",e)}function Rt(l,e,t){let n,{taskObject:s}=e,{depth:a}=e,r=!1;const i=je();let h=!1,f="",o=!1,_=!1,d="",D=!1,R="",V="",b=0,I=!1;function z(H,De){const Ve=Ee({},s.children[De]);Ve.children=H.detail.updatedChildren;const Ne=[...s.children];Ne[De]=Ve,g(Ne)}function v(H){H.charCode===13&&(d&&c(d),t(7,d=""),t(6,_=!1))}function S(H){H.charCode===13&&(R.length!==5||V.length!==5?(alert("Formats must be exact - date is mm:dd and time is hh:mm, resetting"),t(0,s.startDate="",s),t(0,s.scheduledTime="",s)):(t(0,s.startDate=R,s),t(0,s.startTime=V,s)),i("task-done",{}),t(8,D=!1))}function N(H){if(H.charCode===13){if(!f){alert("Task name can't be empty.");return}t(0,s.name=f,s),i("task-done",{}),t(4,f=""),t(3,h=!1)}}function c(H){g([...s.children,{name:H,children:[]}])}function g(H){i("task-create",{updatedChildren:H})}function j(){t(5,o=!0)}function B(){t(5,o=!1)}function G(){t(0,s.isDone=!s.isDone,s),s.isRepeating&&(s.isDone?(t(0,s.completionCount=s.completionCount+1||1,s),t(0,s.lastCompletionDate=oe(),s)):(t(0,s.completionCount=s.completionCount-1||0,s),t(0,s.lastCompletionDate="",s))),i("task-done",{})}function O(){t(0,s.isDeleted=!s.isDeleted,s),console.log("taskObject.deleted =",s.isDeleted),i("task-delete",{})}const q=()=>t(2,r=!0);function te(){f=this.value,t(4,f)}const ee=()=>t(2,r=!1),Y=()=>i("task-done"),A=()=>i("task-done");function k(){R=this.value,t(9,R)}function L(){V=this.value,t(10,V)}function Q(){b=this.value,t(11,b)}const J=()=>t(12,I=!1),P=(H,De)=>z(De,H);function ne(H){Ie.call(this,l,H)}function ve(H){Ie.call(this,l,H)}function ke(H){Ie.call(this,l,H)}const be=()=>t(6,_=!0);function at(){d=this.value,t(7,d)}const rt=H=>Ct(H,s.name);return l.$$set=H=>{"taskObject"in H&&t(0,s=H.taskObject),"depth"in H&&t(1,a=H.depth)},l.$$.update=()=>{l.$$.dirty[0]&1&&t(13,n=s.children.filter(H=>H.duration).length>0)},[s,a,r,h,f,o,_,d,D,R,V,b,I,n,i,z,v,S,N,j,B,G,O,q,te,ee,Y,A,k,L,Q,J,P,ne,ve,ke,be,at,rt]}class Fe extends ye{constructor(e){super();Te(this,e,Rt,Vt,we,{taskObject:0,depth:1},null,[-1,-1])}}function Ge(l,e,t){const n=l.slice();return n[16]=e[t],n[18]=t,n}function We(l,e,t){const n=l.slice();return n[19]=e[t],n}function Ye(l,e,t){const n=l.slice();return n[16]=e[t],n[18]=t,n}function Le(l){let e,t,n=l[16]+"",s,a,r,i,h,f;return{c(){e=y("div"),t=y("div"),s=X(n),r=M(),i=y("div"),f=M(),this.h()},l(o){e=T(o,"DIV",{style:!0,class:!0});var _=w(e);t=T(_,"DIV",{class:!0,style:!0,id:!0});var d=w(t);s=F(d,n),d.forEach(p),r=K(_),i=T(_,"DIV",{id:!0,class:!0}),w(i).forEach(p),f=K(_),_.forEach(p),this.h()},h(){E(t,"class","time-indicator svelte-1otkjb3"),u(t,"color",l[16].slice(0,2)===Oe()&&oe()===l[0]()?"red":""),E(t,"id",a=l[16].slice(0,2)===Oe()?"current-hour-block":""),E(i,"id",h=l[16]),E(i,"class","calendar-time-block svelte-1otkjb3"),u(e,"display","flex"),u(e,"top",90*l[18]+"px"),u(e,"position","absolute"),E(e,"class","svelte-1otkjb3")},m(o,_){C(o,e,_),m(e,t),m(t,s),m(e,r),m(e,i),m(e,f)},p(o,_){_&1&&u(t,"color",o[16].slice(0,2)===Oe()&&oe()===o[0]()?"red":"")},d(o){o&&p(e)}}}function Qe(l){let e,t,n=l[19].name+"",s,a,r,i,h,f,o,_;function d(...V){return l[8](l[19],...V)}function D(...V){return l[9](l[19],...V)}function R(...V){return l[11](l[19],...V)}return{c(){e=y("div"),t=y("div"),s=X(n),a=M(),r=y("div"),i=M(),h=y("div"),f=M(),this.h()},l(V){e=T(V,"DIV",{class:!0,style:!0});var b=w(e);t=T(b,"DIV",{draggable:!0,style:!0,class:!0});var I=w(t);s=F(I,n),I.forEach(p),a=K(b),r=T(b,"DIV",{style:!0,draggable:!0,class:!0});var z=w(r);z.forEach(p),i=K(b),h=T(b,"DIV",{draggable:!0,style:!0,class:!0});var v=w(h);v.forEach(p),f=K(b),b.forEach(p),this.h()},h(){E(t,"draggable","true"),u(t,"width","11vw"),E(t,"class","svelte-1otkjb3"),u(r,"height",l[19].duration*l[3]-20-10+"px"),u(r,"width","11vw"),E(r,"draggable","true"),E(r,"class","svelte-1otkjb3"),E(h,"draggable","true"),u(h,"height","8px"),u(h,"width","11vw"),u(h,"position","absolute"),u(h,"bottom","0"),u(h,"left","-3px"),u(h,"cursor","ns-resize"),E(h,"class","svelte-1otkjb3"),E(e,"class","scheduled-task svelte-1otkjb3"),u(e,"top",l[19].verticalOffset+"px"),u(e,"height",(l[19].duration*l[3]||30)+"px")},m(V,b){C(V,e,b),m(e,t),m(t,s),m(e,a),m(e,r),m(e,i),m(e,h),m(e,f),o||(_=[U(t,"dragstart",d),U(r,"dragstart",D),U(h,"dragstart",l[10]),U(h,"dragend",R)],o=!0)},p(V,b){l=V,b&2&&n!==(n=l[19].name+"")&&re(s,n),b&2&&u(r,"height",l[19].duration*l[3]-20-10+"px"),b&2&&u(e,"top",l[19].verticalOffset+"px"),b&2&&u(e,"height",(l[19].duration*l[3]||30)+"px")},d(V){V&&p(e),o=!1,le(_)}}}function Je(l){let e,t=l[1][l[16]],n=[];for(let s=0;s<t.length;s+=1)n[s]=Qe(We(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=x()},l(s){for(let a=0;a<n.length;a+=1)n[a].l(s);e=x()},m(s,a){for(let r=0;r<n.length;r+=1)n[r].m(s,a);C(s,e,a)},p(s,a){if(a&110){t=s[1][s[16]];let r;for(r=0;r<t.length;r+=1){const i=We(s,t,r);n[r]?n[r].p(i,a):(n[r]=Qe(i),n[r].c(),n[r].m(e.parentNode,e))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}},d(s){me(n,s),s&&p(e)}}}function Bt(l){let e,t,n,s,a,r=l[2],i=[];for(let o=0;o<r.length;o+=1)i[o]=Le(Ye(l,r,o));let h=l[2],f=[];for(let o=0;o<h.length;o+=1)f[o]=Je(Ge(l,h,o));return{c(){e=y("div"),t=y("div");for(let o=0;o<i.length;o+=1)i[o].c();n=M();for(let o=0;o<f.length;o+=1)f[o].c();this.h()},l(o){e=T(o,"DIV",{style:!0,class:!0});var _=w(e);t=T(_,"DIV",{id:!0,style:!0,class:!0});var d=w(t);for(let D=0;D<i.length;D+=1)i[D].l(d);n=K(d);for(let D=0;D<f.length;D+=1)f[D].l(d);d.forEach(p),_.forEach(p),this.h()},h(){E(t,"id","calendar-day-container"),u(t,"width","12vw"),u(t,"margin-left","0px"),u(t,"margin-top","10px"),u(t,"position","relative"),u(t,"height","1600px"),E(t,"class","svelte-1otkjb3"),u(e,"height","77vh"),u(e,"overflow-y","scroll"),u(e,"overflow-x","hidden"),E(e,"class","svelte-1otkjb3")},m(o,_){C(o,e,_),m(e,t);for(let d=0;d<i.length;d+=1)i[d].m(t,null);m(t,n);for(let d=0;d<f.length;d+=1)f[d].m(t,null);s||(a=[U(t,"drop",l[12]),U(t,"dragover",Pt)],s=!0)},p(o,[_]){if(_&5){r=o[2];let d;for(d=0;d<r.length;d+=1){const D=Ye(o,r,d);i[d]?i[d].p(D,_):(i[d]=Le(D),i[d].c(),i[d].m(t,n))}for(;d<i.length;d+=1)i[d].d(1);i.length=r.length}if(_&110){h=o[2];let d;for(d=0;d<h.length;d+=1){const D=Ge(o,h,d);f[d]?f[d].p(D,_):(f[d]=Je(D),f[d].c(),f[d].m(t,null))}for(;d<f.length;d+=1)f[d].d(1);f.length=h.length}},i:se,o:se,d(o){o&&p(e),me(i,o),me(f,o),s=!1,le(a)}}}function Ze(l,e){l.dataTransfer.setData("text/plain",e)}function Pt(l){l.preventDefault(),l.dataTransfer.dropEffect="move"}function Ut({startTime:l}){const e=l.slice(0,2),t=l.slice(3,5);return(Number(e)+Number(t)/60-8)*90}function qt(l,e,t){let{scheduledTasks:n}=e,{getDate:s}=e;const a=je(),r=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00","00:00","01:00","02:00"];let i={},h=0,f=90/60;Pe(()=>{oe()===s()&&document.getElementById("current-hour-block").scrollIntoView()});function o(){const v={};for(const S of r){v[S]=[];for(const N of n)N.startTime.slice(0,2)===S.slice(0,2)&&v[S].push(Be(Ee({},N),{verticalOffset:Ut(N)}))}t(1,i=v)}function _(v){v.preventDefault();var N=document.getElementById("calendar-day-container").getBoundingClientRect();N.left,N.top;const c=90;let j=v.layerY/c;const B=j-Math.floor(j),G=Math.trunc(j);let O=B*60,q=8+G;q<10&&(q=`0${q}`),O<10?(O=O.toPrecision(1),O=`0${O}`):O=O.toPrecision(2);const te=`${q}:${O}`;console.log("scheduledTime =",te),a("task-scheduled",{taskName:v.dataTransfer.getData("text/plain"),timeOfDay:te,dateScheduled:s()})}function d(v){h=v.offsetY}function D(v,S){S.duration||(S.duration=10);const N=60/90,c=(v.offsetY-h)*N;a("task-duration-adjusted",{taskName:S.name,duration:Math.max(1,S.duration+c)})}const R=(v,S)=>Ze(S,v.name),V=(v,S)=>Ze(S,v.name),b=v=>d(v),I=(v,S)=>D(S,v),z=v=>_(v);return l.$$set=v=>{"scheduledTasks"in v&&t(7,n=v.scheduledTasks),"getDate"in v&&t(0,s=v.getDate)},l.$$.update=()=>{l.$$.dirty&128&&n&&o()},[s,i,r,f,_,d,D,n,R,V,b,I,z]}class $e extends ye{constructor(e){super();Te(this,e,qt,Bt,we,{scheduledTasks:7,getDate:0})}}const St={apiKey:"AIzaSyCOVm0X6UUQQcftXf066z_0hFk497j4dNY",authDomain:"project-y-2a061.firebaseapp.com",projectId:"project-y-2a061",storageBucket:"project-y-2a061.appspot.com",messagingSenderId:"132745397287",appId:"1:132745397287:web:b34052fb4683bc85e73a02",measurementId:"G-EZSLE84PYQ"};ht(St);var fe=pt();function xe(l,e,t){const n=l.slice();return n[31]=e[t],n}function et(l){let e,t,n,s,a,r=l[0],i=[];for(let o=0;o<r.length;o+=1)i[o]=lt(xe(l,r,o));const h=o=>Z(i[o],1,1,()=>{i[o]=null});let f=l[7]&&st(l);return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=M(),t=y("div"),f&&f.c(),this.h()},l(o){for(let d=0;d<i.length;d+=1)i[d].l(o);e=K(o),t=T(o,"DIV",{style:!0,class:!0});var _=w(t);f&&f.l(_),_.forEach(p),this.h()},h(){u(t,"height","100px"),E(t,"class","svelte-1agrjel")},m(o,_){for(let d=0;d<i.length;d+=1)i[d].m(o,_);C(o,e,_),C(o,t,_),f&&f.m(t,null),n=!0,s||(a=[U(t,"mouseenter",l[17]),U(t,"mouseleave",l[18])],s=!0)},p(o,_){if(_[0]&12289){r=o[0];let d;for(d=0;d<r.length;d+=1){const D=xe(o,r,d);i[d]?(i[d].p(D,_),W(i[d],1)):(i[d]=lt(D),i[d].c(),W(i[d],1),i[d].m(e.parentNode,e))}for(pe(),d=r.length;d<i.length;d+=1)h(d);_e()}o[7]?f?f.p(o,_):(f=st(o),f.c(),f.m(t,null)):f&&(f.d(1),f=null)},i(o){if(!n){for(let _=0;_<r.length;_+=1)W(i[_]);n=!0}},o(o){i=i.filter(Boolean);for(let _=0;_<i.length;_+=1)Z(i[_]);n=!1},d(o){me(i,o),o&&p(e),o&&p(t),f&&f.d(),s=!1,le(a)}}}function tt(l){let e,t,n,s;function a(...r){return l[14](l[31],...r)}return t=new Fe({props:{taskObject:l[31],depth:1}}),t.$on("task-create",a),t.$on("task-done",l[13]),t.$on("task-delete",l[13]),t.$on("task-repeating",l[13]),{c(){e=y("div"),ue(t.$$.fragment),n=M(),this.h()},l(r){e=T(r,"DIV",{class:!0});var i=w(e);de(t.$$.fragment,i),n=K(i),i.forEach(p),this.h()},h(){E(e,"class","task-container svelte-1agrjel")},m(r,i){C(r,e,i),ce(t,e,null),m(e,n),s=!0},p(r,i){l=r;const h={};i[0]&1&&(h.taskObject=l[31]),t.$set(h)},i(r){s||(W(t.$$.fragment,r),s=!0)},o(r){Z(t.$$.fragment,r),s=!1},d(r){r&&p(e),he(t)}}}function lt(l){let e,t,n=!l[31].isDeleted&&tt(l);return{c(){n&&n.c(),e=x()},l(s){n&&n.l(s),e=x()},m(s,a){n&&n.m(s,a),C(s,e,a),t=!0},p(s,a){s[31].isDeleted?n&&(pe(),Z(n,1,1,()=>{n=null}),_e()):n?(n.p(s,a),a[0]&1&&W(n,1)):(n=tt(s),n.c(),W(n,1),n.m(e.parentNode,e))},i(s){t||(W(n),t=!0)},o(s){Z(n),t=!1},d(s){n&&n.d(s),s&&p(e)}}}function st(l){let e;function t(a,r){return a[6]?zt:Ht}let n=t(l),s=n(l);return{c(){s.c(),e=x()},l(a){s.l(a),e=x()},m(a,r){s.m(a,r),C(a,e,r)},p(a,r){n===(n=t(a))&&s?s.p(a,r):(s.d(1),s=n(a),s&&(s.c(),s.m(e.parentNode,e)))},d(a){s.d(a),a&&p(e)}}}function zt(l){let e,t,n,s;return{c(){e=y("div"),t=y("input"),this.h()},l(a){e=T(a,"DIV",{style:!0,class:!0});var r=w(e);t=T(r,"INPUT",{placeholder:!0,class:!0}),r.forEach(p),this.h()},h(){E(t,"placeholder","Type task..."),E(t,"class","svelte-1agrjel"),u(e,"display","flex"),u(e,"align-content","center"),u(e,"justify-items","center"),E(e,"class","svelte-1agrjel")},m(a,r){C(a,e,r),m(e,t),$(t,l[5]),n||(s=[U(t,"input",l[16]),U(t,"keypress",l[11])],n=!0)},p(a,r){r[0]&32&&t.value!==a[5]&&$(t,a[5])},d(a){a&&p(e),n=!1,le(s)}}}function Ht(l){let e,t,n,s;return{c(){e=y("div"),t=X("New task"),this.h()},l(a){e=T(a,"DIV",{style:!0,class:!0});var r=w(e);t=F(r,"New task"),r.forEach(p),this.h()},h(){u(e,"font-size","1.5rem"),u(e,"color","grey"),E(e,"class","svelte-1agrjel")},m(a,r){C(a,e,r),m(e,t),n||(s=U(e,"click",l[15]),n=!0)},p:se,d(a){a&&p(e),n=!1,s()}}}function Mt(l){let e,t,n,s,a,r=(l[4]?"music_note":"music_off")+"",i,h,f,o,_,d,D,R,V,b,I,z,v,S,N,c=l[0].length>0&&et(l);return R=new $e({props:{scheduledTasks:l[1],getDate:oe}}),R.$on("task-scheduled",l[19]),R.$on("task-duration-adjusted",l[20]),b=new $e({props:{scheduledTasks:l[2],getDate:Ue}}),b.$on("task-scheduled",l[21]),b.$on("task-duration-adjusted",l[22]),{c(){e=y("div"),t=y("div"),n=M(),s=y("div"),a=y("span"),i=X(r),h=M(),f=y("div"),o=y("div"),_=y("div"),c&&c.c(),d=M(),D=y("div"),ue(R.$$.fragment),V=M(),ue(b.$$.fragment),I=M(),z=y("audio"),this.h()},l(g){e=T(g,"DIV",{id:!0,style:!0,class:!0});var j=w(e);t=T(j,"DIV",{style:!0,class:!0}),w(t).forEach(p),n=K(j),s=T(j,"DIV",{style:!0,class:!0});var B=w(s);a=T(B,"SPAN",{class:!0,style:!0});var G=w(a);i=F(G,r),G.forEach(p),B.forEach(p),h=K(j),f=T(j,"DIV",{style:!0,class:!0});var O=w(f);o=T(O,"DIV",{class:!0,style:!0});var q=w(o);_=T(q,"DIV",{class:!0});var te=w(_);c&&c.l(te),te.forEach(p),q.forEach(p),d=K(O),D=T(O,"DIV",{style:!0,class:!0});var ee=w(D);de(R.$$.fragment,ee),V=K(ee),de(b.$$.fragment,ee),ee.forEach(p),O.forEach(p),j.forEach(p),I=K(g),z=T(g,"AUDIO",{class:!0}),w(z).forEach(p),this.h()},h(){u(t,"height","100px"),E(t,"class","svelte-1agrjel"),E(a,"class","material-icons svelte-1agrjel"),u(a,"margin-left","auto"),u(a,"margin-right","0"),u(a,"color","white"),u(s,"position","absolute"),u(s,"top","30px"),u(s,"left","30px"),E(s,"class","svelte-1agrjel"),E(_,"class","todo-list svelte-1agrjel"),E(o,"class","fixed-height-container-for-scrolling svelte-1agrjel"),u(o,"background-color","white"),u(o,"border","2px solid green"),u(o,"border-top-left-radius","20px"),u(o,"border-bottom-left-radius","20px"),u(D,"display","flex"),u(D,"justify-content","space-evenly"),u(D,"width","30vw"),u(D,"border-left","2px dashed grey"),u(D,"background-color","white"),u(D,"border","2px solid green"),u(D,"border-top-right-radius","20px"),u(D,"border-bottom-right-radius","20px"),E(D,"class","svelte-1agrjel"),u(f,"display","flex"),u(f,"padding-left","0"),u(f,"padding-top","10px"),E(f,"class","svelte-1agrjel"),E(e,"id","background-image-holder"),u(e,"height","100vh"),u(e,"padding-left","120px"),u(e,"padding-right","120px"),E(e,"class","svelte-1agrjel"),E(z,"class","svelte-1agrjel")},m(g,j){C(g,e,j),m(e,t),m(e,n),m(e,s),m(s,a),m(a,i),m(e,h),m(e,f),m(f,o),m(o,_),c&&c.m(_,null),m(f,d),m(f,D),ce(R,D,null),m(D,V),ce(b,D,null),C(g,I,j),C(g,z,j),l[23](z),v=!0,S||(N=U(s,"click",l[8]),S=!0)},p(g,j){(!v||j[0]&16)&&r!==(r=(g[4]?"music_note":"music_off")+"")&&re(i,r),g[0].length>0?c?(c.p(g,j),j[0]&1&&W(c,1)):(c=et(g),c.c(),W(c,1),c.m(_,null)):c&&(pe(),Z(c,1,1,()=>{c=null}),_e());const B={};j[0]&2&&(B.scheduledTasks=g[1]),R.$set(B);const G={};j[0]&4&&(G.scheduledTasks=g[2]),b.$set(G)},i(g){v||(W(c),W(R.$$.fragment,g),W(b.$$.fragment,g),v=!0)},o(g){Z(c),Z(R.$$.fragment,g),Z(b.$$.fragment,g),v=!1},d(g){g&&p(e),c&&c.d(),he(R),he(b),g&&p(I),g&&p(z),l[23](null),S=!1,N()}}}function nt(l){return Math.floor(Math.random()*l)}function Kt(l,e,t){let n,s=["illiyard-moor.mp3","ms-leafre-lofi.mp3"],a,r=!1,i=["https://i.imgur.com/rzkUMW8.jpeg","https://i.imgur.com/ShnqIpJ.jpeg"],h;Pe(()=>{h=i[nt(2)];const k=document.getElementById("background-image-holder");k.style["background-image"]=`url(${h})`,n=s[nt(2)],console.log("chosenAudio =",n),t(3,a.src=n,a)});let f=[],o=[],_=[],d="",D=!1,R=!1;function V(){t(3,a.volume=.1,a),a.paused?(a.play(),t(4,r=!0)):(a.pause(),t(4,r=!1))}async function b({taskName:k,timeOfDay:L,dateScheduled:Q}){function J(P){if(P.name===k)return P.startTime=L,P.startDate=Q,!0;for(const ne of P.children)if(J(ne))return!0;return!1}for(const P of f)if(J(P)){console.log("successfully mutated allTasks, =",f);break}await ge(ie(fe,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:f}),t(0,f=[...f])}async function I({taskName:k,duration:L}){function Q(J){if(J.name===k)return J.duration=L,!0;for(const P of J.children)if(Q(P))return!0;return!1}for(const J of f)if(Q(J)){console.log("successfully mutated allTasks, =",f);break}await ge(ie(fe,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:f}),t(0,f=[...f])}async function z(){const k=await _t(ie(fe,"users/GxBbopqXHW0qgjKEwU4z"));t(0,f=k.data().allTasks)}z();function v(k){k.charCode===13&&S()}function S(){d||alert("You have to type something first");const k=[...f,{name:d,children:[]}];ge(ie(fe,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:k}),t(0,f=[...k]),newToplevelTask="",isTypingNewTask=!1}function N(k,L){const{updatedChildren:Q}=k.detail;L.children=[...Q],ge(ie(fe,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:f}),t(0,f=[...f])}function c(){console.log("updateFirestore()"),ge(ie(fe,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:f}),t(0,f=[...f])}const g=(k,L)=>N(L,k),j=()=>t(6,D=!0);function B(){d=this.value,t(5,d)}const G=()=>t(7,R=!0),O=()=>t(7,R=!1),q=k=>b(k.detail),te=k=>I(k.detail),ee=k=>b(k.detail),Y=k=>I(k.detail);function A(k){mt[k?"unshift":"push"](()=>{a=k,t(3,a)})}return l.$$.update=()=>{if(l.$$.dirty[0]&7&&f){let L=function(P){P.startTime!==void 0&&k.push(P);for(const ne of P.children)L(ne)};const k=[];for(const P of f)L(P);const Q=oe();t(1,o=k.filter(P=>P.startDate===Q&&!P.isDeleted));const J=Ue();t(2,_=k.filter(P=>P.startDate===J&&!P.isDeleted)),console.log("scheduledTasks2 =",_);for(const P of o)P.isRepeating&&(console.log("task.name =",P.name),console.log("last completion date =",P.lastCompletionDate),P.lastCompletionDate!==Q&&(P.startDate=Q,P.isDone=!1));f.sort((P,ne)=>!!P.isDone-!!ne.isDone)}},[f,o,_,a,r,d,D,R,V,b,I,v,N,c,g,j,B,G,O,q,te,ee,Y,A]}class Ft extends ye{constructor(e){super();Te(this,e,Kt,Mt,we,{},null,[-1,-1])}}export{Ft as default};
