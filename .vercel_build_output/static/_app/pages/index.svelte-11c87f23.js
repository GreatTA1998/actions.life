var it=Object.defineProperty,at=Object.defineProperties;var rt=Object.getOwnPropertyDescriptors;var Ce=Object.getOwnPropertySymbols;var ot=Object.prototype.hasOwnProperty,ft=Object.prototype.propertyIsEnumerable;var qe=(n,e,t)=>e in n?it(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ee=(n,e)=>{for(var t in e||(e={}))ot.call(e,t)&&qe(n,t,e[t]);if(Ce)for(var t of Ce(e))ft.call(e,t)&&qe(n,t,e[t]);return n},Re=(n,e)=>at(n,rt(e));import{S as ye,i as Te,s as we,e as y,t as G,k as M,c as T,a as I,h as Y,d as h,m as X,b as E,f,g as R,J as m,L as Z,M as S,j as le,N as $,l as J,K as x,O as Ie,w as ae,x as re,P as te,y as oe,Q as ut,q as Q,o as L,B as fe,n as ue,p as de,R as ce,T as Oe,v as dt,U as ct,V as ht,W as pt,X as he,Y as se,Z as _t,_ as mt}from"../chunks/vendor-acd53e54.js";function ne(){const n=new Date;let e=n.getDate(),t=n.getMonth()+1;return e<10&&(e="0"+e),t<10&&(t="0"+t),`${t}/${e}`}function Ve(){let e=new Date().getHours();return e<10&&(e="0"+e),`${e}`}function Be(){const n=new Date,e=new Date(n);e.setDate(e.getDate()+1);let t=e.getDate(),s=e.getMonth()+1;return t<10&&(t="0"+t),s<10&&(s="0"+s),`${s}/${t}`}function Pe(n){let e,t,s,l,i,a,r=n[0].name+"",c,d,o,_,u,D,U,C,b,V,H,v,z,q,p,k,w,O,W,j=!n[0].isDone&&n[0].startTime&&n[0].startDate&&Ue(n),B=n[0].daysBeforeRepeating&&Se(n);function N(P,g){return P[2]?vt:kt}let F=N(n),K=F(n);return{c(){e=y("div"),t=y("div"),s=y("span"),l=G("close"),i=M(),a=y("div"),c=G(r),d=M(),o=y("div"),j&&j.c(),_=M(),u=y("div"),B&&B.c(),D=M(),U=y("h2"),C=G("Notes"),b=M(),V=y("textarea"),H=M(),v=y("div"),z=G("Save notes"),q=M(),p=y("div"),k=G("Done"),w=M(),K.c(),this.h()},l(P){e=T(P,"DIV",{class:!0});var g=I(e);t=T(g,"DIV",{style:!0});var ee=I(t);s=T(ee,"SPAN",{class:!0,style:!0});var pe=I(s);l=Y(pe,"close"),pe.forEach(h),ee.forEach(h),i=X(g),a=T(g,"DIV",{class:!0,style:!0});var _e=I(a);c=Y(_e,r),_e.forEach(h),d=X(g),o=T(g,"DIV",{class:!0,style:!0});var me=I(o);j&&j.l(me),me.forEach(h),_=X(g),u=T(g,"DIV",{class:!0,style:!0});var ve=I(u);B&&B.l(ve),ve.forEach(h),D=X(g),U=T(g,"H2",{});var ke=I(U);C=Y(ke,"Notes"),ke.forEach(h),b=X(g),V=T(g,"TEXTAREA",{cols:!0}),I(V).forEach(h),H=X(g),v=T(g,"DIV",{});var ge=I(v);z=Y(ge,"Save notes"),ge.forEach(h),q=X(g),p=T(g,"DIV",{});var be=I(p);k=Y(be,"Done"),be.forEach(h),w=X(g),K.l(g),g.forEach(h),this.h()},h(){E(s,"class","material-icons"),f(s,"margin-left","auto"),f(s,"margin-right","0"),f(t,"display","flex"),E(a,"class","google-calendar-event-title svelte-1q27ax5"),f(a,"margin-top","10px"),f(a,"margin-left","10px"),E(o,"class","google-calendar-event-time svelte-1q27ax5"),f(o,"margin-top","4px"),f(o,"margin-left","10px"),E(u,"class","google-calendar-event-detail svelte-1q27ax5"),f(u,"margin-top","12px"),f(u,"margin-left","16px"),E(V,"cols","44"),E(e,"class","detailed-card svelte-1q27ax5")},m(P,g){R(P,e,g),m(e,t),m(t,s),m(s,l),m(e,i),m(e,a),m(a,c),m(e,d),m(e,o),j&&j.m(o,null),m(e,_),m(e,u),B&&B.m(u,null),m(e,D),m(e,U),m(U,C),m(e,b),m(e,V),Z(V,n[4]),m(e,H),m(e,v),m(v,z),m(e,q),m(e,p),m(p,k),m(e,w),K.m(e,null),O||(W=[S(s,"click",n[8]),S(V,"input",n[9]),S(v,"click",n[6]),S(p,"click",n[10])],O=!0)},p(P,g){g&1&&r!==(r=P[0].name+"")&&le(c,r),!P[0].isDone&&P[0].startTime&&P[0].startDate?j?j.p(P,g):(j=Ue(P),j.c(),j.m(o,null)):j&&(j.d(1),j=null),P[0].daysBeforeRepeating?B?B.p(P,g):(B=Se(P),B.c(),B.m(u,null)):B&&(B.d(1),B=null),g&16&&Z(V,P[4]),F===(F=N(P))&&K?K.p(P,g):(K.d(1),K=F(P),K&&(K.c(),K.m(e,null)))},d(P){P&&h(e),j&&j.d(),B&&B.d(),K.d(),O=!1,$(W)}}}function Ue(n){let e,t=n[0].startDate+" "+n[0].startTime+"",s;return{c(){e=G("Scheduled for "),s=G(t)},l(l){e=Y(l,"Scheduled for "),s=Y(l,t)},m(l,i){R(l,e,i),R(l,s,i)},p(l,i){i&1&&t!==(t=l[0].startDate+" "+l[0].startTime+"")&&le(s,t)},d(l){l&&h(e),l&&h(s)}}}function Se(n){let e,t=n[0].daysBeforeRepeating+"",s,l,i=(n[0].completionCount||0)+"",a,r;return{c(){e=G("Repeats every "),s=G(t),l=G(" days, completed "),a=G(i),r=G(" times")},l(c){e=Y(c,"Repeats every "),s=Y(c,t),l=Y(c," days, completed "),a=Y(c,i),r=Y(c," times")},m(c,d){R(c,e,d),R(c,s,d),R(c,l,d),R(c,a,d),R(c,r,d)},p(c,d){d&1&&t!==(t=c[0].daysBeforeRepeating+"")&&le(s,t),d&1&&i!==(i=(c[0].completionCount||0)+"")&&le(a,i)},d(c){c&&h(e),c&&h(s),c&&h(l),c&&h(a),c&&h(r)}}}function vt(n){let e,t,s,l,i,a;return{c(){e=y("div"),t=G("Repeats every "),s=y("input"),l=G(" days"),this.h()},l(r){e=T(r,"DIV",{style:!0});var c=I(e);t=Y(c,"Repeats every "),s=T(c,"INPUT",{style:!0,placeholder:!0}),l=Y(c," days"),c.forEach(h),this.h()},h(){f(s,"width","20px"),E(s,"placeholder","0"),f(e,"display","flex")},m(r,c){R(r,e,c),m(e,t),m(e,s),Z(s,n[3]),m(e,l),i||(a=[S(s,"input",n[12]),S(s,"keypress",n[7])],i=!0)},p(r,c){c&8&&s.value!==r[3]&&Z(s,r[3])},d(r){r&&h(e),i=!1,$(a)}}}function kt(n){let e,t,s,l;return{c(){e=y("span"),t=G("Repeat task"),this.h()},l(i){e=T(i,"SPAN",{style:!0});var a=I(e);t=Y(a,"Repeat task"),a.forEach(h),this.h()},h(){f(e,"margin-left","5px")},m(i,a){R(i,e,a),m(e,t),s||(l=S(e,"click",n[11]),s=!0)},p:x,d(i){i&&h(e),s=!1,l()}}}function gt(n){let e,t=n[1]&&Pe(n);return{c(){t&&t.c(),e=J()},l(s){t&&t.l(s),e=J()},m(s,l){t&&t.m(s,l),R(s,e,l)},p(s,[l]){s[1]?t?t.p(s,l):(t=Pe(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:x,o:x,d(s){t&&t.d(s),s&&h(e)}}}function bt(n,e,t){let{taskObject:s}=e,{isOpen:l=!1}=e,i=!1,a=7;const r=Ie();let c=s.notes||"";function d(){t(0,s.notes=c,s),r("task-notes-update")}function o(b){b.charCode===13&&(a?t(0,s.daysBeforeRepeating=a,s):(alert("Task is reset and will no longer repeat"),t(0,s.daysBeforeRepeating=0,s)),r("task-repeat"),t(3,a=0),t(2,i=!1))}const _=()=>r("card-close");function u(){c=this.value,t(4,c)}const D=()=>r("task-done"),U=()=>t(2,i=!0);function C(){a=this.value,t(3,a)}return n.$$set=b=>{"taskObject"in b&&t(0,s=b.taskObject),"isOpen"in b&&t(1,l=b.isOpen)},[s,l,i,a,c,r,d,o,_,u,D,U,C]}class Dt extends ye{constructor(e){super();Te(this,e,bt,gt,we,{taskObject:0,isOpen:1})}}function ze(n,e,t){const s=n.slice();return s[43]=e[t],s[45]=t,s}function He(n){let e,t,s,l,i,a,r,c,d,o,_,u,D;function U(p,k){return p[3]?yt:Tt}let C=U(n),b=C(n);i=new Dt({props:{isOpen:n[2],taskObject:n[0]}}),i.$on("card-close",n[25]),i.$on("task-done",n[21]),i.$on("task-notes-update",n[26]),i.$on("task-repeat",n[27]);let V=n[5]&&Ke(n),H=n[0].children,v=[];for(let p=0;p<H.length;p+=1)v[p]=Ae(ze(n,H,p));const z=p=>L(v[p],1,1,()=>{v[p]=null});let q=n[5]&&Me(n);return{c(){e=y("div"),t=y("div"),s=y("div"),b.c(),l=M(),ae(i.$$.fragment),a=M(),r=y("div"),V&&V.c(),c=M(),d=y("div");for(let p=0;p<v.length;p+=1)v[p].c();o=M(),q&&q.c(),this.h()},l(p){e=T(p,"DIV",{draggable:!0,class:!0,style:!0});var k=I(e);t=T(k,"DIV",{class:!0});var w=I(t);s=T(w,"DIV",{style:!0,class:!0});var O=I(s);b.l(O),O.forEach(h),l=X(w),re(i.$$.fragment,w),a=X(w),r=T(w,"DIV",{style:!0});var W=I(r);V&&V.l(W),W.forEach(h),w.forEach(h),c=X(k),d=T(k,"DIV",{style:!0});var j=I(d);for(let B=0;B<v.length;B+=1)v[B].l(j);o=X(j),q&&q.l(j),j.forEach(h),k.forEach(h),this.h()},h(){f(s,"font-size",1.5*.85**n[1]+"rem"),f(s,"font-family","aktiv-grotesk, sans-serif"),E(s,"class","keep-on-same-line name-of-task svelte-t4v7r0"),te(s,"scheduled-orange",!n[0].isDone&&n[0].startTime&&n[0].startDate),te(s,"crossed-out",n[0].isDone),f(r,"width",200*.9**n[1]+"px"),f(r,"height","100%"),E(t,"class","current-task-flexbox svelte-t4v7r0"),f(d,"margin-top",20*.7**n[1]+"px"),E(e,"draggable","true"),E(e,"class","scheduled-task svelte-t4v7r0"),f(e,"margin-left",(n[1]===1?"0":"20")+"px"),f(e,"margin-bottom","10px"),f(e,"width",350*.8**n[1]+"px"),f(e,"height",n[0].duration&&!n[13]&&n[0].duration*90/60>n[0].children.length*60*.7**n[1]&&n[0].duration*90/60>60*.65**n[1]?`${n[0].duration*90/60}px`:"100%"),f(e,"padding-left",10*.8**n[1]+"px"),te(e,"black-duration-line",!n[0].isDone&&!(n[0].startTime&&n[0].startDate)),te(e,"orange-duration-line",!n[0].isDone&&n[0].startTime&&n[0].startDate),te(e,"green-duration-line",n[0].isDone)},m(p,k){R(p,e,k),m(e,t),m(t,s),b.m(s,null),m(t,l),oe(i,t,null),m(t,a),m(t,r),V&&V.m(r,null),m(e,c),m(e,d);for(let w=0;w<v.length;w+=1)v[w].m(d,null);m(d,o),q&&q.m(d,null),_=!0,u||(D=[S(e,"dragstart",ut(n[38])),S(e,"pointerleave",n[20])],u=!0)},p(p,k){C===(C=U(p))&&b?b.p(p,k):(b.d(1),b=C(p),b&&(b.c(),b.m(s,null))),(!_||k[0]&2)&&f(s,"font-size",1.5*.85**p[1]+"rem"),k[0]&1&&te(s,"scheduled-orange",!p[0].isDone&&p[0].startTime&&p[0].startDate),k[0]&1&&te(s,"crossed-out",p[0].isDone);const w={};if(k[0]&4&&(w.isOpen=p[2]),k[0]&1&&(w.taskObject=p[0]),i.$set(w),p[5]?V?V.p(p,k):(V=Ke(p),V.c(),V.m(r,null)):V&&(V.d(1),V=null),(!_||k[0]&2)&&f(r,"width",200*.9**p[1]+"px"),k[0]&32771){H=p[0].children;let O;for(O=0;O<H.length;O+=1){const W=ze(p,H,O);v[O]?(v[O].p(W,k),Q(v[O],1)):(v[O]=Ae(W),v[O].c(),Q(v[O],1),v[O].m(d,o))}for(ue(),O=H.length;O<v.length;O+=1)z(O);de()}p[5]?q?q.p(p,k):(q=Me(p),q.c(),q.m(d,null)):q&&(q.d(1),q=null),(!_||k[0]&2)&&f(d,"margin-top",20*.7**p[1]+"px"),(!_||k[0]&2)&&f(e,"margin-left",(p[1]===1?"0":"20")+"px"),(!_||k[0]&2)&&f(e,"width",350*.8**p[1]+"px"),(!_||k[0]&8195)&&f(e,"height",p[0].duration&&!p[13]&&p[0].duration*90/60>p[0].children.length*60*.7**p[1]&&p[0].duration*90/60>60*.65**p[1]?`${p[0].duration*90/60}px`:"100%"),(!_||k[0]&2)&&f(e,"padding-left",10*.8**p[1]+"px"),k[0]&1&&te(e,"black-duration-line",!p[0].isDone&&!(p[0].startTime&&p[0].startDate)),k[0]&1&&te(e,"orange-duration-line",!p[0].isDone&&p[0].startTime&&p[0].startDate),k[0]&1&&te(e,"green-duration-line",p[0].isDone)},i(p){if(!_){Q(i.$$.fragment,p);for(let k=0;k<H.length;k+=1)Q(v[k]);_=!0}},o(p){L(i.$$.fragment,p),v=v.filter(Boolean);for(let k=0;k<v.length;k+=1)L(v[k]);_=!1},d(p){p&&h(e),b.d(),fe(i),V&&V.d(),ce(v,p),q&&q.d(),u=!1,$(D)}}}function yt(n){let e,t,s;return{c(){e=y("input")},l(l){e=T(l,"INPUT",{})},m(l,i){R(l,e,i),Z(e,n[4]),t||(s=[S(e,"input",n[24]),S(e,"keypress",n[18])],t=!0)},p(l,i){i[0]&16&&e.value!==l[4]&&Z(e,l[4])},d(l){l&&h(e),t=!1,$(s)}}}function Tt(n){let e,t=n[0].name+"",s,l,i;return{c(){e=y("div"),s=G(t),this.h()},l(a){e=T(a,"DIV",{class:!0,style:!0});var r=I(e);s=Y(r,t),r.forEach(h),this.h()},h(){E(e,"class","truncate svelte-t4v7r0"),f(e,"width",350*.85**n[1]+"px")},m(a,r){R(a,e,r),m(e,s),l||(i=[S(e,"click",n[23]),S(e,"pointerenter",n[19])],l=!0)},p(a,r){r[0]&1&&t!==(t=a[0].name+"")&&le(s,t),r[0]&2&&f(e,"width",350*.85**a[1]+"px")},d(a){a&&h(e),l=!1,$(i)}}}function Ke(n){let e;function t(i,a){if(!(i[6]||i[8]||Nt||i[12]))return It;if(i[8])return Et;if(i[12])return wt}let s=t(n),l=s&&s(n);return{c(){l&&l.c(),e=J()},l(i){l&&l.l(i),e=J()},m(i,a){l&&l.m(i,a),R(i,e,a)},p(i,a){s===(s=t(i))&&l?l.p(i,a):(l&&l.d(1),l=s&&s(i),l&&(l.c(),l.m(e.parentNode,e)))},d(i){l&&l.d(i),i&&h(e)}}}function wt(n){let e,t,s,l,i,a,r,c;return{c(){e=y("div"),t=y("div"),s=G("Delete"),l=M(),i=y("div"),a=G("Cancel"),this.h()},l(d){e=T(d,"DIV",{style:!0});var o=I(e);t=T(o,"DIV",{});var _=I(t);s=Y(_,"Delete"),_.forEach(h),l=X(o),i=T(o,"DIV",{});var u=I(i);a=Y(u,"Cancel"),u.forEach(h),o.forEach(h),this.h()},h(){f(e,"display","flex"),f(e,"align-items","center"),f(e,"justify-content","space-evenly")},m(d,o){R(d,e,o),m(e,t),m(t,s),m(e,l),m(e,i),m(i,a),r||(c=[S(t,"click",n[22]),S(i,"click",n[31])],r=!0)},p:x,d(d){d&&h(e),r=!1,$(c)}}}function Et(n){let e,t,s,l,i;return{c(){e=y("input"),t=M(),s=y("input"),this.h()},l(a){e=T(a,"INPUT",{placeholder:!0,style:!0}),t=X(a),s=T(a,"INPUT",{placeholder:!0,style:!0}),this.h()},h(){E(e,"placeholder","03/14"),f(e,"width","40px"),f(e,"margin-left","14px"),E(s,"placeholder","13:00"),f(s,"width","40px")},m(a,r){R(a,e,r),Z(e,n[9]),R(a,t,r),R(a,s,r),Z(s,n[10]),l||(i=[S(e,"input",n[28]),S(s,"input",n[29]),S(s,"keypress",n[17])],l=!0)},p(a,r){r[0]&512&&e.value!==a[9]&&Z(e,a[9]),r[0]&1024&&s.value!==a[10]&&Z(s,a[10])},d(a){a&&h(e),a&&h(t),a&&h(s),l=!1,$(i)}}}function It(n){return{c:x,l:x,m:x,p:x,d:x}}function Ae(n){let e,t;function s(...l){return n[32](n[45],...l)}return e=new Xe({props:{taskObject:n[43],depth:n[1]+1}}),e.$on("task-create",s),e.$on("task-done",n[33]),e.$on("task-delete",n[34]),e.$on("task-repeating",n[35]),{c(){ae(e.$$.fragment)},l(l){re(e.$$.fragment,l)},m(l,i){oe(e,l,i),t=!0},p(l,i){n=l;const a={};i[0]&1&&(a.taskObject=n[43]),i[0]&2&&(a.depth=n[1]+1),e.$set(a)},i(l){t||(Q(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){fe(e,l)}}}function Me(n){let e;function t(i,a){return i[6]?Ot:Vt}let s=t(n),l=s(n);return{c(){l.c(),e=J()},l(i){l.l(i),e=J()},m(i,a){l.m(i,a),R(i,e,a)},p(i,a){s===(s=t(i))&&l?l.p(i,a):(l.d(1),l=s(i),l&&(l.c(),l.m(e.parentNode,e)))},d(i){l.d(i),i&&h(e)}}}function Ot(n){let e,t,s,l;return{c(){e=y("div"),t=y("input"),this.h()},l(i){e=T(i,"DIV",{style:!0});var a=I(e);t=T(a,"INPUT",{placeholder:!0,style:!0}),a.forEach(h),this.h()},h(){E(t,"placeholder","Type sub-task"),f(t,"width","100%"),f(t,"margin-left","5px"),f(e,"display","flex"),f(e,"align-items","center"),f(e,"margin-left","20px")},m(i,a){R(i,e,a),m(e,t),Z(t,n[7]),s||(l=[S(t,"input",n[37]),S(t,"keypress",n[16])],s=!0)},p(i,a){a[0]&128&&t.value!==i[7]&&Z(t,i[7])},d(i){i&&h(e),s=!1,$(l)}}}function Vt(n){let e,t,s,l,i;return{c(){e=y("div"),t=y("div"),s=G("new sub-task"),this.h()},l(a){e=T(a,"DIV",{style:!0});var r=I(e);t=T(r,"DIV",{style:!0});var c=I(t);s=Y(c,"new sub-task"),c.forEach(h),r.forEach(h),this.h()},h(){f(t,"border-left","2px solid grey"),f(t,"color","grey"),f(t,"padding-left","5px"),f(t,"padding-bottom",8*.68**(n[1]+1)+"px"),f(t,"font-size",1.5*.85**(n[1]+1)+"rem"),f(e,"display","flex"),f(e,"align-items","center"),f(e,"margin-left","20px")},m(a,r){R(a,e,r),m(e,t),m(t,s),l||(i=S(t,"click",n[36]),l=!0)},p(a,r){r[0]&2&&f(t,"padding-bottom",8*.68**(a[1]+1)+"px"),r[0]&2&&f(t,"font-size",1.5*.85**(a[1]+1)+"rem")},d(a){a&&h(e),l=!1,i()}}}function jt(n){let e,t,s=!n[0].isDeleted&&!n[0].isDone&&!(n[0].startTime&&n[0].startDate)&&He(n);return{c(){s&&s.c(),e=J()},l(l){s&&s.l(l),e=J()},m(l,i){s&&s.m(l,i),R(l,e,i),t=!0},p(l,i){!l[0].isDeleted&&!l[0].isDone&&!(l[0].startTime&&l[0].startDate)?s?(s.p(l,i),i[0]&1&&Q(s,1)):(s=He(l),s.c(),Q(s,1),s.m(e.parentNode,e)):s&&(ue(),L(s,1,1,()=>{s=null}),de())},i(l){t||(Q(s),t=!0)},o(l){L(s),t=!1},d(l){s&&s.d(l),l&&h(e)}}}let Nt=!1;function Ct(n,e){n.dataTransfer.setData("text/plain",e)}function qt(n,e,t){let s,{taskObject:l}=e,{depth:i}=e,a=!1;const r=Ie();let c=!1,d="",o=!1,_=!1,u="",D=!1,U="",C="",b=0,V=!1;function H(A,De){const je=Ee({},l.children[De]);je.children=A.detail.updatedChildren;const Ne=[...l.children];Ne[De]=je,k(Ne)}function v(A){A.charCode===13&&(u&&p(u),t(7,u=""),t(6,_=!1))}function z(A){A.charCode===13&&(U.length!==5||C.length!==5?(alert("Formats must be exact - date is mm:dd and time is hh:mm, resetting"),t(0,l.startDate="",l),t(0,l.scheduledTime="",l)):(t(0,l.startDate=U,l),t(0,l.startTime=C,l)),r("task-done",{}),t(8,D=!1))}function q(A){if(A.charCode===13){if(!d){alert("Task name can't be empty.");return}t(0,l.name=d,l),r("task-done",{}),t(4,d=""),t(3,c=!1)}}function p(A){k([...l.children,{name:A,children:[]}])}function k(A){r("task-create",{updatedChildren:A})}function w(){t(5,o=!0)}function O(){t(5,o=!1)}function W(){t(0,l.isDone=!l.isDone,l),l.isRepeating&&(l.isDone?(t(0,l.completionCount=l.completionCount+1||1,l),t(0,l.lastCompletionDate=ne(),l)):(t(0,l.completionCount=l.completionCount-1||0,l),t(0,l.lastCompletionDate="",l))),r("task-done",{})}function j(){t(0,l.isDeleted=!l.isDeleted,l),console.log("taskObject.deleted =",l.isDeleted),r("task-delete",{})}const B=()=>t(2,a=!0);function N(){d=this.value,t(4,d)}const F=()=>t(2,a=!1),K=()=>r("task-done"),P=()=>r("task-done");function g(){U=this.value,t(9,U)}function ee(){C=this.value,t(10,C)}function pe(){b=this.value,t(11,b)}const _e=()=>t(12,V=!1),me=(A,De)=>H(De,A);function ve(A){Oe.call(this,n,A)}function ke(A){Oe.call(this,n,A)}function ge(A){Oe.call(this,n,A)}const be=()=>t(6,_=!0);function st(){u=this.value,t(7,u)}const nt=A=>Ct(A,l.name);return n.$$set=A=>{"taskObject"in A&&t(0,l=A.taskObject),"depth"in A&&t(1,i=A.depth)},n.$$.update=()=>{n.$$.dirty[0]&1&&t(13,s=l.children.filter(A=>A.duration).length>0)},[l,i,a,c,d,o,_,u,D,U,C,b,V,s,r,H,v,z,q,w,O,W,j,B,N,F,K,P,g,ee,pe,_e,me,ve,ke,ge,be,st,nt]}class Xe extends ye{constructor(e){super();Te(this,e,qt,jt,we,{taskObject:0,depth:1},null,[-1,-1])}}function Ge(n,e,t){const s=n.slice();return s[16]=e[t],s[18]=t,s}function Ye(n,e,t){const s=n.slice();return s[19]=e[t],s}function We(n,e,t){const s=n.slice();return s[16]=e[t],s[18]=t,s}function Fe(n){let e,t,s=n[16]+"",l,i,a,r,c,d;return{c(){e=y("div"),t=y("div"),l=G(s),a=M(),r=y("div"),d=M(),this.h()},l(o){e=T(o,"DIV",{style:!0,class:!0});var _=I(e);t=T(_,"DIV",{class:!0,style:!0,id:!0});var u=I(t);l=Y(u,s),u.forEach(h),a=X(_),r=T(_,"DIV",{id:!0,class:!0}),I(r).forEach(h),d=X(_),_.forEach(h),this.h()},h(){E(t,"class","time-indicator svelte-1otkjb3"),f(t,"color",n[16].slice(0,2)===Ve()&&ne()===n[0]()?"red":""),E(t,"id",i=n[16].slice(0,2)===Ve()?"current-hour-block":""),E(r,"id",c=n[16]),E(r,"class","calendar-time-block svelte-1otkjb3"),f(e,"display","flex"),f(e,"top",90*n[18]+"px"),f(e,"position","absolute"),E(e,"class","svelte-1otkjb3")},m(o,_){R(o,e,_),m(e,t),m(t,l),m(e,a),m(e,r),m(e,d)},p(o,_){_&1&&f(t,"color",o[16].slice(0,2)===Ve()&&ne()===o[0]()?"red":"")},d(o){o&&h(e)}}}function Qe(n){let e,t,s=n[19].name+"",l,i,a,r,c,d,o,_;function u(...C){return n[8](n[19],...C)}function D(...C){return n[9](n[19],...C)}function U(...C){return n[11](n[19],...C)}return{c(){e=y("div"),t=y("div"),l=G(s),i=M(),a=y("div"),r=M(),c=y("div"),d=M(),this.h()},l(C){e=T(C,"DIV",{class:!0,style:!0});var b=I(e);t=T(b,"DIV",{draggable:!0,style:!0,class:!0});var V=I(t);l=Y(V,s),V.forEach(h),i=X(b),a=T(b,"DIV",{style:!0,draggable:!0,class:!0});var H=I(a);H.forEach(h),r=X(b),c=T(b,"DIV",{draggable:!0,style:!0,class:!0});var v=I(c);v.forEach(h),d=X(b),b.forEach(h),this.h()},h(){E(t,"draggable","true"),f(t,"width","11vw"),E(t,"class","svelte-1otkjb3"),f(a,"height",n[19].duration*n[3]-20-10+"px"),f(a,"width","11vw"),E(a,"draggable","true"),E(a,"class","svelte-1otkjb3"),E(c,"draggable","true"),f(c,"height","8px"),f(c,"width","11vw"),f(c,"position","absolute"),f(c,"bottom","0"),f(c,"left","-3px"),f(c,"cursor","ns-resize"),E(c,"class","svelte-1otkjb3"),E(e,"class","scheduled-task svelte-1otkjb3"),f(e,"top",n[19].verticalOffset+"px"),f(e,"height",(n[19].duration*n[3]||30)+"px")},m(C,b){R(C,e,b),m(e,t),m(t,l),m(e,i),m(e,a),m(e,r),m(e,c),m(e,d),o||(_=[S(t,"dragstart",u),S(a,"dragstart",D),S(c,"dragstart",n[10]),S(c,"dragend",U)],o=!0)},p(C,b){n=C,b&2&&s!==(s=n[19].name+"")&&le(l,s),b&2&&f(a,"height",n[19].duration*n[3]-20-10+"px"),b&2&&f(e,"top",n[19].verticalOffset+"px"),b&2&&f(e,"height",(n[19].duration*n[3]||30)+"px")},d(C){C&&h(e),o=!1,$(_)}}}function Le(n){let e,t=n[1][n[16]],s=[];for(let l=0;l<t.length;l+=1)s[l]=Qe(Ye(n,t,l));return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=J()},l(l){for(let i=0;i<s.length;i+=1)s[i].l(l);e=J()},m(l,i){for(let a=0;a<s.length;a+=1)s[a].m(l,i);R(l,e,i)},p(l,i){if(i&110){t=l[1][l[16]];let a;for(a=0;a<t.length;a+=1){const r=Ye(l,t,a);s[a]?s[a].p(r,i):(s[a]=Qe(r),s[a].c(),s[a].m(e.parentNode,e))}for(;a<s.length;a+=1)s[a].d(1);s.length=t.length}},d(l){ce(s,l),l&&h(e)}}}function Rt(n){let e,t,s,l,i,a=n[2],r=[];for(let o=0;o<a.length;o+=1)r[o]=Fe(We(n,a,o));let c=n[2],d=[];for(let o=0;o<c.length;o+=1)d[o]=Le(Ge(n,c,o));return{c(){e=y("div"),t=y("div");for(let o=0;o<r.length;o+=1)r[o].c();s=M();for(let o=0;o<d.length;o+=1)d[o].c();this.h()},l(o){e=T(o,"DIV",{style:!0,class:!0});var _=I(e);t=T(_,"DIV",{id:!0,style:!0,class:!0});var u=I(t);for(let D=0;D<r.length;D+=1)r[D].l(u);s=X(u);for(let D=0;D<d.length;D+=1)d[D].l(u);u.forEach(h),_.forEach(h),this.h()},h(){E(t,"id","calendar-day-container"),f(t,"width","12vw"),f(t,"margin-left","0px"),f(t,"margin-top","10px"),f(t,"position","relative"),f(t,"height","1600px"),E(t,"class","svelte-1otkjb3"),f(e,"height","80vh"),f(e,"overflow-y","scroll"),f(e,"overflow-x","hidden"),E(e,"class","svelte-1otkjb3")},m(o,_){R(o,e,_),m(e,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);m(t,s);for(let u=0;u<d.length;u+=1)d[u].m(t,null);l||(i=[S(t,"drop",n[12]),S(t,"dragover",Bt)],l=!0)},p(o,[_]){if(_&5){a=o[2];let u;for(u=0;u<a.length;u+=1){const D=We(o,a,u);r[u]?r[u].p(D,_):(r[u]=Fe(D),r[u].c(),r[u].m(t,s))}for(;u<r.length;u+=1)r[u].d(1);r.length=a.length}if(_&110){c=o[2];let u;for(u=0;u<c.length;u+=1){const D=Ge(o,c,u);d[u]?d[u].p(D,_):(d[u]=Le(D),d[u].c(),d[u].m(t,null))}for(;u<d.length;u+=1)d[u].d(1);d.length=c.length}},i:x,o:x,d(o){o&&h(e),ce(r,o),ce(d,o),l=!1,$(i)}}}function Ze(n,e){n.dataTransfer.setData("text/plain",e)}function Bt(n){n.preventDefault(),n.dataTransfer.dropEffect="move"}function Pt({startTime:n}){const e=n.slice(0,2),t=n.slice(3,5);return(Number(e)+Number(t)/60-8)*90}function Ut(n,e,t){let{scheduledTasks:s}=e,{getDate:l}=e;const i=Ie(),a=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00","00:00","01:00","02:00"];let r={},c=0,d=90/60;dt(()=>{ne()===l()&&document.getElementById("current-hour-block").scrollIntoView()});function o(){const v={};for(const z of a){v[z]=[];for(const q of s)q.startTime.slice(0,2)===z.slice(0,2)&&v[z].push(Re(Ee({},q),{verticalOffset:Pt(q)}))}t(1,r=v)}function _(v){v.preventDefault();var q=document.getElementById("calendar-day-container").getBoundingClientRect();q.left,q.top;const p=90;let w=v.layerY/p;const O=w-Math.floor(w),W=Math.trunc(w);let j=O*60,B=8+W;B<10&&(B=`0${B}`),j<10?(j=j.toPrecision(1),j=`0${j}`):j=j.toPrecision(2);const N=`${B}:${j}`;console.log("scheduledTime =",N),i("task-scheduled",{taskName:v.dataTransfer.getData("text/plain"),timeOfDay:N,dateScheduled:l()})}function u(v){c=v.offsetY}function D(v,z){z.duration||(z.duration=10);const q=60/90,p=(v.offsetY-c)*q;i("task-duration-adjusted",{taskName:z.name,duration:Math.max(1,z.duration+p)})}const U=(v,z)=>Ze(z,v.name),C=(v,z)=>Ze(z,v.name),b=v=>u(v),V=(v,z)=>D(z,v),H=v=>_(v);return n.$$set=v=>{"scheduledTasks"in v&&t(7,s=v.scheduledTasks),"getDate"in v&&t(0,l=v.getDate)},n.$$.update=()=>{n.$$.dirty&128&&s&&o()},[l,r,a,d,_,u,D,s,U,C,b,V,H]}class Je extends ye{constructor(e){super();Te(this,e,Ut,Rt,we,{scheduledTasks:7,getDate:0})}}const St={apiKey:"AIzaSyCOVm0X6UUQQcftXf066z_0hFk497j4dNY",authDomain:"project-y-2a061.firebaseapp.com",projectId:"project-y-2a061",storageBucket:"project-y-2a061.appspot.com",messagingSenderId:"132745397287",appId:"1:132745397287:web:b34052fb4683bc85e73a02",measurementId:"G-EZSLE84PYQ"};ct(St);var ie=ht();function $e(n,e,t){const s=n.slice();return s[27]=e[t],s}function xe(n){let e,t,s,l,i,a=n[0],r=[];for(let o=0;o<a.length;o+=1)r[o]=tt($e(n,a,o));const c=o=>L(r[o],1,1,()=>{r[o]=null});let d=n[7]&&lt(n);return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=M(),t=y("div"),d&&d.c(),this.h()},l(o){for(let u=0;u<r.length;u+=1)r[u].l(o);e=X(o),t=T(o,"DIV",{style:!0,class:!0});var _=I(t);d&&d.l(_),_.forEach(h),this.h()},h(){f(t,"height","100px"),E(t,"class","svelte-15hkf6q")},m(o,_){for(let u=0;u<r.length;u+=1)r[u].m(o,_);R(o,e,_),R(o,t,_),d&&d.m(t,null),s=!0,l||(i=[S(t,"mouseenter",n[17]),S(t,"mouseleave",n[18])],l=!0)},p(o,_){if(_&12289){a=o[0];let u;for(u=0;u<a.length;u+=1){const D=$e(o,a,u);r[u]?(r[u].p(D,_),Q(r[u],1)):(r[u]=tt(D),r[u].c(),Q(r[u],1),r[u].m(e.parentNode,e))}for(ue(),u=a.length;u<r.length;u+=1)c(u);de()}o[7]?d?d.p(o,_):(d=lt(o),d.c(),d.m(t,null)):d&&(d.d(1),d=null)},i(o){if(!s){for(let _=0;_<a.length;_+=1)Q(r[_]);s=!0}},o(o){r=r.filter(Boolean);for(let _=0;_<r.length;_+=1)L(r[_]);s=!1},d(o){ce(r,o),o&&h(e),o&&h(t),d&&d.d(),l=!1,$(i)}}}function et(n){let e,t,s,l;function i(...a){return n[14](n[27],...a)}return t=new Xe({props:{taskObject:n[27],depth:1}}),t.$on("task-create",i),t.$on("task-done",n[13]),t.$on("task-delete",n[13]),t.$on("task-repeating",n[13]),{c(){e=y("div"),ae(t.$$.fragment),s=M(),this.h()},l(a){e=T(a,"DIV",{class:!0});var r=I(e);re(t.$$.fragment,r),s=X(r),r.forEach(h),this.h()},h(){E(e,"class","task-container svelte-15hkf6q")},m(a,r){R(a,e,r),oe(t,e,null),m(e,s),l=!0},p(a,r){n=a;const c={};r&1&&(c.taskObject=n[27]),t.$set(c)},i(a){l||(Q(t.$$.fragment,a),l=!0)},o(a){L(t.$$.fragment,a),l=!1},d(a){a&&h(e),fe(t)}}}function tt(n){let e,t,s=!n[27].isDeleted&&et(n);return{c(){s&&s.c(),e=J()},l(l){s&&s.l(l),e=J()},m(l,i){s&&s.m(l,i),R(l,e,i),t=!0},p(l,i){l[27].isDeleted?s&&(ue(),L(s,1,1,()=>{s=null}),de()):s?(s.p(l,i),i&1&&Q(s,1)):(s=et(l),s.c(),Q(s,1),s.m(e.parentNode,e))},i(l){t||(Q(s),t=!0)},o(l){L(s),t=!1},d(l){s&&s.d(l),l&&h(e)}}}function lt(n){let e;function t(i,a){return i[6]?zt:Ht}let s=t(n),l=s(n);return{c(){l.c(),e=J()},l(i){l.l(i),e=J()},m(i,a){l.m(i,a),R(i,e,a)},p(i,a){s===(s=t(i))&&l?l.p(i,a):(l.d(1),l=s(i),l&&(l.c(),l.m(e.parentNode,e)))},d(i){l.d(i),i&&h(e)}}}function zt(n){let e,t,s,l;return{c(){e=y("div"),t=y("input"),this.h()},l(i){e=T(i,"DIV",{style:!0,class:!0});var a=I(e);t=T(a,"INPUT",{placeholder:!0,class:!0}),a.forEach(h),this.h()},h(){E(t,"placeholder","Type task..."),E(t,"class","svelte-15hkf6q"),f(e,"display","flex"),f(e,"align-content","center"),f(e,"justify-items","center"),E(e,"class","svelte-15hkf6q")},m(i,a){R(i,e,a),m(e,t),Z(t,n[5]),s||(l=[S(t,"input",n[16]),S(t,"keypress",n[11])],s=!0)},p(i,a){a&32&&t.value!==i[5]&&Z(t,i[5])},d(i){i&&h(e),s=!1,$(l)}}}function Ht(n){let e,t,s,l;return{c(){e=y("div"),t=G("New task"),this.h()},l(i){e=T(i,"DIV",{style:!0,class:!0});var a=I(e);t=Y(a,"New task"),a.forEach(h),this.h()},h(){f(e,"font-size","1.5rem"),f(e,"color","grey"),E(e,"class","svelte-15hkf6q")},m(i,a){R(i,e,a),m(e,t),s||(l=S(e,"click",n[15]),s=!0)},p:x,d(i){i&&h(e),s=!1,l()}}}function Kt(n){let e,t,s,l,i,a=(n[4]?"music_off":"music_note")+"",r,c,d,o,_,u,D,U,C,b,V,H,v,z,q,p,k=n[0].length>0&&xe(n);return U=new Je({props:{scheduledTasks:n[1],getDate:ne}}),U.$on("task-scheduled",n[19]),U.$on("task-duration-adjusted",n[20]),b=new Je({props:{scheduledTasks:n[2],getDate:Be}}),b.$on("task-scheduled",n[21]),b.$on("task-duration-adjusted",n[22]),{c(){e=y("div"),t=y("div"),s=M(),l=y("div"),i=y("span"),r=G(a),c=M(),d=y("div"),o=y("div"),_=y("div"),k&&k.c(),u=M(),D=y("div"),ae(U.$$.fragment),C=M(),ae(b.$$.fragment),V=M(),H=y("audio"),this.h()},l(w){e=T(w,"DIV",{id:!0,style:!0,class:!0});var O=I(e);t=T(O,"DIV",{style:!0,class:!0}),I(t).forEach(h),s=X(O),l=T(O,"DIV",{style:!0,class:!0});var W=I(l);i=T(W,"SPAN",{class:!0,style:!0});var j=I(i);r=Y(j,a),j.forEach(h),W.forEach(h),c=X(O),d=T(O,"DIV",{style:!0,class:!0});var B=I(d);o=T(B,"DIV",{class:!0,style:!0});var N=I(o);_=T(N,"DIV",{class:!0});var F=I(_);k&&k.l(F),F.forEach(h),N.forEach(h),u=X(B),D=T(B,"DIV",{style:!0,class:!0});var K=I(D);re(U.$$.fragment,K),C=X(K),re(b.$$.fragment,K),K.forEach(h),B.forEach(h),O.forEach(h),V=X(w),H=T(w,"AUDIO",{src:!0,class:!0}),I(H).forEach(h),this.h()},h(){f(t,"height","80px"),E(t,"class","svelte-15hkf6q"),E(i,"class","material-icons svelte-15hkf6q"),f(i,"margin-left","auto"),f(i,"margin-right","0"),f(i,"color","white"),f(l,"position","absolute"),f(l,"top","30px"),f(l,"left","30px"),E(l,"class","svelte-15hkf6q"),E(_,"class","todo-list svelte-15hkf6q"),E(o,"class","fixed-height-container-for-scrolling svelte-15hkf6q"),f(o,"background-color","white"),f(o,"border","2px solid green"),f(o,"border-top-left-radius","20px"),f(o,"border-bottom-left-radius","20px"),f(D,"display","flex"),f(D,"justify-content","space-evenly"),f(D,"width","30vw"),f(D,"border-left","2px dashed grey"),f(D,"background-color","white"),f(D,"border","2px solid green"),f(D,"border-top-right-radius","20px"),f(D,"border-bottom-right-radius","20px"),E(D,"class","svelte-15hkf6q"),f(d,"display","flex"),f(d,"padding-left","0"),f(d,"padding-top","10px"),E(d,"class","svelte-15hkf6q"),E(e,"id","background-image-holder"),f(e,"height","100vh"),f(e,"padding-left","80px"),f(e,"padding-right","80px"),E(e,"class","svelte-15hkf6q"),pt(H.src,v="illiyard-moor-lofi.mp3")||E(H,"src",v),E(H,"class","svelte-15hkf6q")},m(w,O){R(w,e,O),m(e,t),m(e,s),m(e,l),m(l,i),m(i,r),m(e,c),m(e,d),m(d,o),m(o,_),k&&k.m(_,null),m(d,u),m(d,D),oe(U,D,null),m(D,C),oe(b,D,null),R(w,V,O),R(w,H,O),n[23](H),z=!0,q||(p=S(l,"click",n[8]),q=!0)},p(w,[O]){(!z||O&16)&&a!==(a=(w[4]?"music_off":"music_note")+"")&&le(r,a),w[0].length>0?k?(k.p(w,O),O&1&&Q(k,1)):(k=xe(w),k.c(),Q(k,1),k.m(_,null)):k&&(ue(),L(k,1,1,()=>{k=null}),de());const W={};O&2&&(W.scheduledTasks=w[1]),U.$set(W);const j={};O&4&&(j.scheduledTasks=w[2]),b.$set(j)},i(w){z||(Q(k),Q(U.$$.fragment,w),Q(b.$$.fragment,w),z=!0)},o(w){L(k),L(U.$$.fragment,w),L(b.$$.fragment,w),z=!1},d(w){w&&h(e),k&&k.d(),fe(U),fe(b),w&&h(V),w&&h(H),n[23](null),q=!1,p()}}}function At(n,e,t){let s,l=!1,i=[],a=[],r=[],c="",d=!1,o=!1;function _(){t(3,s.volume=.1,s),s.paused?(s.play(),t(4,l=!0)):(s.pause(),t(4,l=!1))}async function u({taskName:N,timeOfDay:F,dateScheduled:K}){function P(g){if(g.name===N)return g.startTime=F,g.startDate=K,!0;for(const ee of g.children)if(P(ee))return!0;return!1}for(const g of i)if(P(g)){console.log("successfully mutated allTasks, =",i);break}await he(se(ie,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:i}),t(0,i=[...i])}async function D({taskName:N,duration:F}){function K(P){if(P.name===N)return P.duration=F,!0;for(const g of P.children)if(K(g))return!0;return!1}for(const P of i)if(K(P)){console.log("successfully mutated allTasks, =",i);break}await he(se(ie,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:i}),t(0,i=[...i])}async function U(){const N=await _t(se(ie,"users/GxBbopqXHW0qgjKEwU4z"));t(0,i=N.data().allTasks)}U();function C(N){N.charCode===13&&b()}function b(){c||alert("You have to type something first");const N=[...i,{name:c,children:[]}];he(se(ie,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:N}),t(0,i=[...N]),newToplevelTask="",isTypingNewTask=!1}function V(N,F){const{updatedChildren:K}=N.detail;F.children=[...K],he(se(ie,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:i}),t(0,i=[...i])}function H(){console.log("updateFirestore()"),he(se(ie,"users/GxBbopqXHW0qgjKEwU4z"),{allTasks:i}),t(0,i=[...i])}const v=(N,F)=>V(F,N),z=()=>t(6,d=!0);function q(){c=this.value,t(5,c)}const p=()=>t(7,o=!0),k=()=>t(7,o=!1),w=N=>u(N.detail),O=N=>D(N.detail),W=N=>u(N.detail),j=N=>D(N.detail);function B(N){mt[N?"unshift":"push"](()=>{s=N,t(3,s)})}return n.$$.update=()=>{if(n.$$.dirty&7&&i){let F=function(g){g.startTime!==void 0&&N.push(g);for(const ee of g.children)F(ee)};const N=[];for(const g of i)F(g);const K=ne();t(1,a=N.filter(g=>g.startDate===K&&!g.isDeleted));const P=Be();t(2,r=N.filter(g=>g.startDate===P&&!g.isDeleted)),console.log("scheduledTasks2 =",r);for(const g of a)g.isRepeating&&(console.log("task.name =",g.name),console.log("last completion date =",g.lastCompletionDate),g.lastCompletionDate!==K&&(g.startDate=K,g.isDone=!1));i.sort((g,ee)=>!!g.isDone-!!ee.isDone)}},[i,a,r,s,l,c,d,o,_,u,D,C,V,H,v,z,q,p,k,w,O,W,j,B]}class Gt extends ye{constructor(e){super();Te(this,e,At,Kt,we,{})}}export{Gt as default};
